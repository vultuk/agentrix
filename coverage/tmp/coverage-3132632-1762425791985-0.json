{"result":[{"scriptId":"6","url":"node:internal/per_context/primordials","functions":[{"functionName":"SafeIterator","ranges":[{"startOffset":9149,"endOffset":9220,"count":60}],"isBlockCoverage":false},{"functionName":"next","ranges":[{"startOffset":9225,"endOffset":9274,"count":347}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9279,"endOffset":9324,"count":42}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10889,"endOffset":10956,"count":25}],"isBlockCoverage":false},{"functionName":"SafeMap","ranges":[{"startOffset":11614,"endOffset":11642,"count":1502}],"isBlockCoverage":false},{"functionName":"SafeSet","ranges":[{"startOffset":11943,"endOffset":11971,"count":71}],"isBlockCoverage":false},{"functionName":"SafeFinalizationRegistry","ranges":[{"startOffset":12395,"endOffset":12451,"count":3}],"isBlockCoverage":false},{"functionName":"SafeWeakRef","ranges":[{"startOffset":12604,"endOffset":12642,"count":103}],"isBlockCoverage":false},{"functionName":"SafePromise","ranges":[{"startOffset":12790,"endOffset":12832,"count":144}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13337,"endOffset":13611,"count":15}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13482,"endOffset":13606,"count":15}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13512,"endOffset":13561,"count":15}],"isBlockCoverage":false},{"functionName":"arrayToSafePromiseIterable","ranges":[{"startOffset":13804,"endOffset":14041,"count":8}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13907,"endOffset":14029,"count":19}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13947,"endOffset":14028,"count":19}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":14254,"endOffset":14482,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":14392,"endOffset":14477,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":14931,"endOffset":15487,"count":120}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":14966,"endOffset":15486,"count":120}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15357,"endOffset":15466,"count":333}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15829,"endOffset":16282,"count":126}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15864,"endOffset":16281,"count":126}],"isBlockCoverage":false},{"functionName":"onFulfilled","ranges":[{"startOffset":15996,"endOffset":16073,"count":332}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18154,"endOffset":18383,"count":7}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18292,"endOffset":18378,"count":7}],"isBlockCoverage":false}]},{"scriptId":"7","url":"node:internal/per_context/domexception","functions":[{"functionName":"DOMException","ranges":[{"startOffset":1102,"endOffset":1728,"count":6}],"isBlockCoverage":false}]},{"scriptId":"8","url":"node:internal/per_context/messageport","functions":[{"functionName":"","ranges":[{"startOffset":407,"endOffset":993,"count":1}],"isBlockCoverage":false}]},{"scriptId":"9","url":"node:internal/bootstrap/realm","functions":[{"functionName":"internalBinding","ranges":[{"startOffset":5981,"endOffset":6243,"count":124}],"isBlockCoverage":false},{"functionName":"getOwn","ranges":[{"startOffset":6509,"endOffset":6663,"count":412},{"startOffset":6645,"endOffset":6660,"count":0}],"isBlockCoverage":true},{"functionName":"canBeRequiredByUsers","ranges":[{"startOffset":9476,"endOffset":9551,"count":191}],"isBlockCoverage":true},{"functionName":"canBeRequiredWithoutScheme","ranges":[{"startOffset":9562,"endOffset":9656,"count":212}],"isBlockCoverage":true},{"functionName":"normalizeRequirableId","ranges":[{"startOffset":9667,"endOffset":10012,"count":126},{"startOffset":9743,"endOffset":9905,"count":0},{"startOffset":9961,"endOffset":9985,"count":38},{"startOffset":9985,"endOffset":10011,"count":88}],"isBlockCoverage":true},{"functionName":"getCanBeRequiredByUsersWithoutSchemeList","ranges":[{"startOffset":10275,"endOffset":10384,"count":1}],"isBlockCoverage":true},{"functionName":"compileForPublicLoader","ranges":[{"startOffset":10542,"endOffset":11205,"count":81},{"startOffset":10623,"endOffset":10815,"count":0},{"startOffset":10879,"endOffset":11176,"count":21},{"startOffset":11138,"endOffset":11142,"count":0}],"isBlockCoverage":true},{"functionName":"getESMFacade","ranges":[{"startOffset":11209,"endOffset":11843,"count":14},{"startOffset":11247,"endOffset":11266,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11580,"endOffset":11683,"count":14}],"isBlockCoverage":true},{"functionName":"syncExports","ranges":[{"startOffset":12139,"endOffset":12483,"count":14},{"startOffset":12258,"endOffset":12473,"count":412},{"startOffset":12335,"endOffset":12344,"count":0}],"isBlockCoverage":true},{"functionName":"compileForInternalLoader","ranges":[{"startOffset":12487,"endOffset":13309,"count":1530}],"isBlockCoverage":false},{"functionName":"requireBuiltin","ranges":[{"startOffset":13504,"endOffset":13869,"count":1452}],"isBlockCoverage":false}]},{"scriptId":"10","url":"node:internal/errors","functions":[{"functionName":"setInternalPrepareStackTrace","ranges":[{"startOffset":2771,"endOffset":2862,"count":3}],"isBlockCoverage":true},{"functionName":"prepareStackTraceCallback","ranges":[{"startOffset":3688,"endOffset":4819,"count":2},{"startOffset":3896,"endOffset":4012,"count":0},{"startOffset":4317,"endOffset":4818,"count":0}],"isBlockCoverage":true},{"functionName":"ErrorPrepareStackTrace","ranges":[{"startOffset":4884,"endOffset":4983,"count":2}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":12891,"endOffset":13601,"count":1}],"isBlockCoverage":false},{"functionName":"NodeError","ranges":[{"startOffset":12951,"endOffset":13234,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13381,"endOffset":13437,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13447,"endOffset":13502,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":13512,"endOffset":13593,"count":0}],"isBlockCoverage":false},{"functionName":"hideStackFrames","ranges":[{"startOffset":14657,"endOffset":14954,"count":9}],"isBlockCoverage":false},{"functionName":"wrappedFn","ranges":[{"startOffset":14690,"endOffset":14896,"count":2459}],"isBlockCoverage":false},{"functionName":"getMessage","ranges":[{"startOffset":16339,"endOffset":17101,"count":1},{"startOffset":16710,"endOffset":17100,"count":0}],"isBlockCoverage":true},{"functionName":"lazyUv","ranges":[{"startOffset":17119,"endOffset":17199,"count":2}],"isBlockCoverage":true},{"functionName":"uvErrmapGet","ranges":[{"startOffset":17256,"endOffset":17408,"count":2}],"isBlockCoverage":true},{"functionName":"ExceptionWithHostPort","ranges":[{"startOffset":20611,"endOffset":21417,"count":2},{"startOffset":21033,"endOffset":21044,"count":0},{"startOffset":21046,"endOffset":21092,"count":0},{"startOffset":21170,"endOffset":21222,"count":0},{"startOffset":21382,"endOffset":21413,"count":0}],"isBlockCoverage":true},{"functionName":"hideInternalStackFrames","ranges":[{"startOffset":26274,"endOffset":26752,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":26348,"endOffset":26748,"count":0}],"isBlockCoverage":false},{"functionName":"AbortError","ranges":[{"startOffset":26985,"endOffset":27294,"count":1},{"startOffset":27089,"endOffset":27119,"count":0},{"startOffset":27121,"endOffset":27202,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":62356,"endOffset":62760,"count":1},{"startOffset":62461,"endOffset":62495,"count":0},{"startOffset":62641,"endOffset":62687,"count":0}],"isBlockCoverage":true}]},{"scriptId":"11","url":"node:internal/assert","functions":[{"functionName":"assert","ranges":[{"startOffset":157,"endOffset":307,"count":482},{"startOffset":205,"endOffset":305,"count":0}],"isBlockCoverage":true}]},{"scriptId":"12","url":"node:internal/bootstrap/node","functions":[{"functionName":"get","ranges":[{"startOffset":3830,"endOffset":3880,"count":220}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":3886,"endOffset":3944,"count":1}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":4128,"endOffset":4547,"count":1},{"startOffset":4187,"endOffset":4469,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":12072,"endOffset":12122,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":13230,"endOffset":13266,"count":55}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":14136,"endOffset":14171,"count":10}],"isBlockCoverage":true}]},{"scriptId":"13","url":"node:internal/timers","functions":[{"functionName":"initAsyncResource","ranges":[{"startOffset":5763,"endOffset":6041,"count":2},{"startOffset":5989,"endOffset":6039,"count":0}],"isBlockCoverage":true},{"functionName":"append","ranges":[{"startOffset":8816,"endOffset":8997,"count":2},{"startOffset":8859,"endOffset":8934,"count":0}],"isBlockCoverage":true},{"functionName":"processImmediate","ranges":[{"startOffset":13290,"endOffset":15223,"count":2},{"startOffset":13369,"endOffset":13393,"count":0},{"startOffset":13830,"endOffset":13845,"count":0},{"startOffset":14162,"endOffset":14258,"count":0},{"startOffset":14820,"endOffset":14876,"count":0},{"startOffset":14978,"endOffset":14999,"count":0},{"startOffset":15150,"endOffset":15179,"count":0}],"isBlockCoverage":true},{"functionName":"Immediate","ranges":[{"startOffset":18542,"endOffset":18864,"count":2}],"isBlockCoverage":true},{"functionName":"ref","ranges":[{"startOffset":18868,"endOffset":19134,"count":2}],"isBlockCoverage":true}]},{"scriptId":"14","url":"node:internal/async_hooks","functions":[{"functionName":"lookupPublicResource","ranges":[{"startOffset":6837,"endOffset":7186,"count":697},{"startOffset":6936,"endOffset":6952,"count":0},{"startOffset":7143,"endOffset":7165,"count":0}],"isBlockCoverage":true},{"functionName":"emitInitNative","ranges":[{"startOffset":7377,"endOffset":8510,"count":697},{"startOffset":8070,"endOffset":8104,"count":0},{"startOffset":8477,"endOffset":8508,"count":0}],"isBlockCoverage":true},{"functionName":"emitHook","ranges":[{"startOffset":8611,"endOffset":9600,"count":681},{"startOffset":9160,"endOffset":9194,"count":0},{"startOffset":9567,"endOffset":9598,"count":0}],"isBlockCoverage":true},{"functionName":"getHookArrays","ranges":[{"startOffset":9895,"endOffset":10385,"count":2},{"startOffset":10010,"endOffset":10384,"count":0}],"isBlockCoverage":true},{"functionName":"trackPromise","ranges":[{"startOffset":11277,"endOffset":11707,"count":1522},{"startOffset":11350,"endOffset":11367,"count":990},{"startOffset":11367,"endOffset":11549,"count":532},{"startOffset":11549,"endOffset":11574,"count":276},{"startOffset":11575,"endOffset":11607,"count":256}],"isBlockCoverage":true},{"functionName":"promiseInitHook","ranges":[{"startOffset":11709,"endOffset":11953,"count":532}],"isBlockCoverage":true},{"functionName":"promiseInitHookWithDestroyTracking","ranges":[{"startOffset":11955,"endOffset":12091,"count":532}],"isBlockCoverage":true},{"functionName":"destroyTracking","ranges":[{"startOffset":12093,"endOffset":12256,"count":532}],"isBlockCoverage":true},{"functionName":"promiseBeforeHook","ranges":[{"startOffset":12258,"endOffset":12469,"count":229}],"isBlockCoverage":true},{"functionName":"promiseAfterHook","ranges":[{"startOffset":12471,"endOffset":13038,"count":229},{"startOffset":12601,"endOffset":12636,"count":0}],"isBlockCoverage":true},{"functionName":"enableHooks","ranges":[{"startOffset":13217,"endOffset":13323,"count":1}],"isBlockCoverage":true},{"functionName":"updatePromiseHookMode","ranges":[{"startOffset":13346,"endOffset":13925,"count":1},{"startOffset":13521,"endOffset":13544,"count":0},{"startOffset":13549,"endOffset":13617,"count":0},{"startOffset":13641,"endOffset":13659,"count":0},{"startOffset":13884,"endOffset":13904,"count":0}],"isBlockCoverage":true},{"functionName":"disableHooks","ranges":[{"startOffset":13927,"endOffset":14230,"count":1}],"isBlockCoverage":true},{"functionName":"disablePromiseHookIfNecessary","ranges":[{"startOffset":14232,"endOffset":14348,"count":1}],"isBlockCoverage":true},{"functionName":"newAsyncId","ranges":[{"startOffset":14549,"endOffset":14619,"count":764}],"isBlockCoverage":true},{"functionName":"getOrSetAsyncId","ranges":[{"startOffset":14621,"endOffset":14811,"count":276},{"startOffset":14718,"endOffset":14759,"count":275},{"startOffset":14759,"endOffset":14810,"count":1}],"isBlockCoverage":true},{"functionName":"getDefaultTriggerAsyncId","ranges":[{"startOffset":14994,"endOffset":15284,"count":487},{"startOffset":15250,"endOffset":15283,"count":0}],"isBlockCoverage":true},{"functionName":"defaultTriggerAsyncIdScope","ranges":[{"startOffset":15601,"endOffset":16094,"count":2},{"startOffset":15711,"endOffset":15742,"count":0}],"isBlockCoverage":true},{"functionName":"hasHooks","ranges":[{"startOffset":16096,"endOffset":16159,"count":2720}],"isBlockCoverage":true},{"functionName":"enabledHooksExist","ranges":[{"startOffset":16161,"endOffset":16220,"count":467}],"isBlockCoverage":true},{"functionName":"initHooksExist","ranges":[{"startOffset":16222,"endOffset":16277,"count":232}],"isBlockCoverage":true},{"functionName":"destroyHooksExist","ranges":[{"startOffset":16338,"endOffset":16399,"count":231}],"isBlockCoverage":true},{"functionName":"promiseResolveHooksExist","ranges":[{"startOffset":16401,"endOffset":16476,"count":1}],"isBlockCoverage":true},{"functionName":"emitInitScript","ranges":[{"startOffset":16479,"endOffset":16887,"count":700},{"startOffset":16731,"endOffset":16738,"count":3},{"startOffset":16738,"endOffset":16771,"count":697},{"startOffset":16771,"endOffset":16825,"count":0},{"startOffset":16825,"endOffset":16886,"count":697}],"isBlockCoverage":true},{"functionName":"emitBeforeScript","ranges":[{"startOffset":16890,"endOffset":17066,"count":460},{"startOffset":17038,"endOffset":17064,"count":0}],"isBlockCoverage":true},{"functionName":"emitAfterScript","ranges":[{"startOffset":17069,"endOffset":17189,"count":231},{"startOffset":17133,"endOffset":17158,"count":0}],"isBlockCoverage":true},{"functionName":"emitDestroyScript","ranges":[{"startOffset":17192,"endOffset":17402,"count":160},{"startOffset":17350,"endOffset":17357,"count":0}],"isBlockCoverage":true},{"functionName":"hasAsyncIdStack","ranges":[{"startOffset":17405,"endOffset":17468,"count":9}],"isBlockCoverage":true},{"functionName":"pushAsyncContext","ranges":[{"startOffset":17534,"endOffset":18104,"count":460},{"startOffset":17754,"endOffset":17804,"count":0}],"isBlockCoverage":true},{"functionName":"popAsyncContext","ranges":[{"startOffset":18169,"endOffset":18780,"count":460},{"startOffset":18285,"endOffset":18298,"count":0},{"startOffset":18377,"endOffset":18483,"count":0}],"isBlockCoverage":true},{"functionName":"executionAsyncId","ranges":[{"startOffset":18783,"endOffset":18859,"count":235}],"isBlockCoverage":true}]},{"scriptId":"15","url":"node:internal/validators","functions":[{"functionName":"isInt32","ranges":[{"startOffset":1087,"endOffset":1146,"count":47}],"isBlockCoverage":true},{"functionName":"parseFileMode","ranges":[{"startOffset":1881,"endOffset":2192,"count":16},{"startOffset":1974,"endOffset":2142,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3063,"endOffset":3526,"count":2},{"startOffset":3235,"endOffset":3303,"count":0},{"startOffset":3337,"endOffset":3405,"count":0},{"startOffset":3442,"endOffset":3522,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3757,"endOffset":4189,"count":16},{"startOffset":3827,"endOffset":3891,"count":0},{"startOffset":3923,"endOffset":3987,"count":0},{"startOffset":4011,"endOffset":4014,"count":0},{"startOffset":4111,"endOffset":4187,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4381,"endOffset":4493,"count":2322}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4735,"endOffset":5181,"count":113},{"startOffset":4813,"endOffset":4867,"count":0},{"startOffset":4888,"endOffset":4902,"count":111},{"startOffset":4920,"endOffset":4934,"count":107},{"startOffset":4957,"endOffset":4971,"count":2},{"startOffset":4973,"endOffset":4994,"count":111},{"startOffset":4997,"endOffset":5179,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5369,"endOffset":5702,"count":4},{"startOffset":5440,"endOffset":5700,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5513,"endOffset":5574,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5898,"endOffset":6012,"count":11},{"startOffset":5955,"endOffset":6010,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6594,"endOffset":7613,"count":1429},{"startOffset":6685,"endOffset":6925,"count":16},{"startOffset":6736,"endOffset":6808,"count":0},{"startOffset":6847,"endOffset":6919,"count":0},{"startOffset":6925,"endOffset":7609,"count":1413},{"startOffset":7038,"endOffset":7055,"count":1409},{"startOffset":7057,"endOffset":7129,"count":0},{"startOffset":7227,"endOffset":7249,"count":0},{"startOffset":7251,"endOffset":7323,"count":0},{"startOffset":7479,"endOffset":7529,"count":0},{"startOffset":7531,"endOffset":7603,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12692,"endOffset":12909,"count":1428},{"startOffset":12739,"endOffset":12835,"count":7},{"startOffset":12837,"endOffset":12907,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13109,"endOffset":13225,"count":388}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13440,"endOffset":13582,"count":3},{"startOffset":13524,"endOffset":13580,"count":0}],"isBlockCoverage":true}]},{"scriptId":"16","url":"node:internal/util","functions":[{"functionName":"getDeprecationWarningEmitter","ranges":[{"startOffset":2398,"endOffset":3053,"count":30}],"isBlockCoverage":false},{"functionName":"shouldEmitWarning","ranges":[{"startOffset":2497,"endOffset":2507,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2544,"endOffset":3050,"count":0}],"isBlockCoverage":false},{"functionName":"deprecate","ranges":[{"startOffset":3802,"endOffset":4856,"count":29}],"isBlockCoverage":false},{"functionName":"deprecated","ranges":[{"startOffset":4166,"endOffset":4468,"count":0}],"isBlockCoverage":false},{"functionName":"assertCrypto","ranges":[{"startOffset":5126,"endOffset":5200,"count":4},{"startOffset":5172,"endOffset":5198,"count":0}],"isBlockCoverage":true},{"functionName":"normalizeEncoding","ranges":[{"startOffset":5379,"endOffset":5510,"count":47},{"startOffset":5449,"endOffset":5467,"count":0},{"startOffset":5483,"endOffset":5509,"count":0}],"isBlockCoverage":true},{"functionName":"cachedResult","ranges":[{"startOffset":8287,"endOffset":8443,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8338,"endOffset":8440,"count":0}],"isBlockCoverage":false},{"functionName":"getCWDURL","ranges":[{"startOffset":10410,"endOffset":10920,"count":1},{"startOffset":10738,"endOffset":10787,"count":0}],"isBlockCoverage":true},{"functionName":"getSystemErrorName","ranges":[{"startOffset":10922,"endOffset":11051,"count":2},{"startOffset":11017,"endOffset":11048,"count":0}],"isBlockCoverage":true},{"functionName":"promisify","ranges":[{"startOffset":11286,"endOffset":13147,"count":11},{"startOffset":11406,"endOffset":11462,"count":1},{"startOffset":11549,"endOffset":11826,"count":6},{"startOffset":11826,"endOffset":12933,"count":5},{"startOffset":12933,"endOffset":13095,"count":16},{"startOffset":13095,"endOffset":13146,"count":5}],"isBlockCoverage":true},{"functionName":"fn","ranges":[{"startOffset":12026,"endOffset":12545,"count":0}],"isBlockCoverage":false},{"functionName":"spliceOne","ranges":[{"startOffset":13705,"endOffset":13832,"count":9},{"startOffset":13786,"endOffset":13816,"count":7}],"isBlockCoverage":true},{"functionName":"once","ranges":[{"startOffset":14952,"endOffset":15291,"count":12}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15076,"endOffset":15288,"count":12},{"startOffset":15112,"endOffset":15131,"count":0},{"startOffset":15244,"endOffset":15252,"count":7},{"startOffset":15253,"endOffset":15264,"count":5}],"isBlockCoverage":true},{"functionName":"createDeferredPromise","ranges":[{"startOffset":15531,"endOffset":15725,"count":53}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15625,"endOffset":15681,"count":53}],"isBlockCoverage":true},{"functionName":"exposeInterface","ranges":[{"startOffset":16038,"endOffset":16258,"count":1}],"isBlockCoverage":false},{"functionName":"defineLazyProperties","ranges":[{"startOffset":16757,"endOffset":17690,"count":1}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":16976,"endOffset":17119,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":17222,"endOffset":17418,"count":12}],"isBlockCoverage":true},{"functionName":"defineReplaceableLazyAttribute","ranges":[{"startOffset":17692,"endOffset":18592,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":17904,"endOffset":18140,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":18245,"endOffset":18316,"count":0}],"isBlockCoverage":false},{"functionName":"exposeLazyInterfaces","ranges":[{"startOffset":18594,"endOffset":18694,"count":1}],"isBlockCoverage":false},{"functionName":"setOwnProperty","ranges":[{"startOffset":19889,"endOffset":20079,"count":1474}],"isBlockCoverage":true},{"functionName":"getLazy","ranges":[{"startOffset":22100,"endOffset":22312,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":22181,"endOffset":22309,"count":331},{"startOffset":22225,"endOffset":22287,"count":3}],"isBlockCoverage":true},{"functionName":"setupCoverageHooks","ranges":[{"startOffset":22437,"endOffset":23114,"count":1},{"startOffset":22907,"endOffset":23084,"count":0}],"isBlockCoverage":true},{"functionName":"guessHandleType","ranges":[{"startOffset":24504,"endOffset":24601,"count":4}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":24603,"endOffset":25147,"count":15}],"isBlockCoverage":false},{"functionName":"WeakReference","ranges":[{"startOffset":24678,"endOffset":24745,"count":15}],"isBlockCoverage":true},{"functionName":"incRef","ranges":[{"startOffset":24749,"endOffset":24967,"count":0}],"isBlockCoverage":false},{"functionName":"decRef","ranges":[{"startOffset":24971,"endOffset":25099,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":25103,"endOffset":25145,"count":0}],"isBlockCoverage":false}]},{"scriptId":"17","url":"node:internal/options","functions":[{"functionName":"getCLIOptionsFromBinding","ranges":[{"startOffset":495,"endOffset":623,"count":167},{"startOffset":553,"endOffset":599,"count":1}],"isBlockCoverage":true},{"functionName":"getEmbedderOptions","ranges":[{"startOffset":745,"endOffset":889,"count":5},{"startOffset":801,"endOffset":861,"count":1}],"isBlockCoverage":true},{"functionName":"refreshOptions","ranges":[{"startOffset":891,"endOffset":947,"count":1}],"isBlockCoverage":true},{"functionName":"getOptionValue","ranges":[{"startOffset":949,"endOffset":1072,"count":167}],"isBlockCoverage":true}]},{"scriptId":"18","url":"node:internal/util/types","functions":[{"functionName":"isUint8Array","ranges":[{"startOffset":236,"endOffset":342,"count":152}],"isBlockCoverage":true}]},{"scriptId":"22","url":"node:internal/util/debuglog","functions":[{"functionName":"initializeDebugEnv","ranges":[{"startOffset":503,"endOffset":976,"count":1},{"startOffset":595,"endOffset":932,"count":0}],"isBlockCoverage":true},{"functionName":"testEnabled","ranges":[{"startOffset":870,"endOffset":927,"count":0}],"isBlockCoverage":false},{"functionName":"testEnabled","ranges":[{"startOffset":958,"endOffset":969,"count":9}],"isBlockCoverage":true},{"functionName":"noop","ranges":[{"startOffset":1404,"endOffset":1412,"count":10455}],"isBlockCoverage":true},{"functionName":"debuglogImpl","ranges":[{"startOffset":1533,"endOffset":2091,"count":9},{"startOffset":1608,"endOffset":2063,"count":5},{"startOffset":1627,"endOffset":2016,"count":0}],"isBlockCoverage":true},{"functionName":"debug","ranges":[{"startOffset":1716,"endOffset":2009,"count":0}],"isBlockCoverage":false},{"functionName":"debuglog","ranges":[{"startOffset":2311,"endOffset":3337,"count":19}],"isBlockCoverage":false},{"functionName":"init","ranges":[{"startOffset":2342,"endOffset":2438,"count":9}],"isBlockCoverage":true},{"functionName":"debug","ranges":[{"startOffset":2453,"endOffset":2847,"count":9},{"startOffset":2700,"endOffset":2730,"count":3},{"startOffset":2737,"endOffset":2776,"count":3},{"startOffset":2783,"endOffset":2837,"count":3}],"isBlockCoverage":true},{"functionName":"test","ranges":[{"startOffset":2877,"endOffset":2946,"count":0}],"isBlockCoverage":false},{"functionName":"logger","ranges":[{"startOffset":2965,"endOffset":3160,"count":9},{"startOffset":3013,"endOffset":3043,"count":3},{"startOffset":3050,"endOffset":3089,"count":3},{"startOffset":3096,"endOffset":3150,"count":3}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":3231,"endOffset":3265,"count":0}],"isBlockCoverage":false}]},{"scriptId":"23","url":"node:events","functions":[{"functionName":"EventEmitter","ranges":[{"startOffset":6575,"endOffset":6644,"count":26}],"isBlockCoverage":false},{"functionName":"checkListener","ranges":[{"startOffset":8095,"endOffset":8173,"count":130}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8281,"endOffset":8329,"count":731}],"isBlockCoverage":false},{"functionName":"hasEventListener","ranges":[{"startOffset":8446,"endOffset":8625,"count":43},{"startOffset":8516,"endOffset":8550,"count":0}],"isBlockCoverage":true},{"functionName":"EventEmitter.init","ranges":[{"startOffset":10152,"endOffset":10820,"count":26}],"isBlockCoverage":false},{"functionName":"addCatch","ranges":[{"startOffset":10823,"endOffset":11382,"count":1},{"startOffset":10910,"endOffset":11329,"count":0},{"startOffset":11334,"endOffset":11380,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11111,"endOffset":11321,"count":0}],"isBlockCoverage":false},{"functionName":"setMaxListeners","ranges":[{"startOffset":12193,"endOffset":12308,"count":4}],"isBlockCoverage":true},{"functionName":"_getMaxListeners","ranges":[{"startOffset":12311,"endOffset":12460,"count":25}],"isBlockCoverage":false},{"functionName":"emit","ranges":[{"startOffset":13617,"endOffset":15920,"count":378}],"isBlockCoverage":false},{"functionName":"_addListener","ranges":[{"startOffset":15923,"endOffset":17839,"count":72}],"isBlockCoverage":false},{"functionName":"addListener","ranges":[{"startOffset":18017,"endOffset":18109,"count":68}],"isBlockCoverage":false},{"functionName":"prependListener","ranges":[{"startOffset":18396,"endOffset":18499,"count":4}],"isBlockCoverage":true},{"functionName":"onceWrapper","ranges":[{"startOffset":18502,"endOffset":18766,"count":3},{"startOffset":18704,"endOffset":18764,"count":0}],"isBlockCoverage":true},{"functionName":"_onceWrap","ranges":[{"startOffset":18768,"endOffset":19009,"count":15}],"isBlockCoverage":true},{"functionName":"once","ranges":[{"startOffset":19200,"endOffset":19326,"count":15}],"isBlockCoverage":true},{"functionName":"removeListener","ranges":[{"startOffset":19936,"endOffset":21299,"count":43},{"startOffset":20059,"endOffset":20071,"count":10},{"startOffset":20071,"endOffset":20170,"count":33},{"startOffset":20170,"endOffset":20199,"count":22},{"startOffset":20201,"endOffset":20572,"count":11},{"startOffset":20266,"endOffset":20313,"count":7},{"startOffset":20313,"endOffset":20564,"count":4},{"startOffset":20348,"endOffset":20405,"count":0},{"startOffset":20572,"endOffset":21273,"count":22},{"startOffset":20691,"endOffset":20830,"count":52},{"startOffset":20728,"endOffset":20760,"count":40},{"startOffset":20762,"endOffset":20820,"count":16},{"startOffset":20868,"endOffset":20880,"count":6},{"startOffset":20880,"endOffset":20920,"count":16},{"startOffset":20920,"endOffset":20933,"count":7},{"startOffset":20933,"endOffset":21094,"count":9},{"startOffset":21000,"endOffset":21047,"count":1},{"startOffset":21094,"endOffset":21137,"count":16},{"startOffset":21137,"endOffset":21160,"count":7},{"startOffset":21160,"endOffset":21221,"count":16},{"startOffset":21221,"endOffset":21265,"count":0},{"startOffset":21273,"endOffset":21298,"count":27}],"isBlockCoverage":true},{"functionName":"listenerCount","ranges":[{"startOffset":24551,"endOffset":25256,"count":6}],"isBlockCoverage":false},{"functionName":"arrayClone","ranges":[{"startOffset":25508,"endOffset":25981,"count":15}],"isBlockCoverage":false}]},{"scriptId":"24","url":"node:internal/events/abort_listener","functions":[{"functionName":"addAbortListener","ranges":[{"startOffset":388,"endOffset":1270,"count":7},{"startOffset":462,"endOffset":536,"count":0},{"startOffset":670,"endOffset":792,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":770,"endOffset":786,"count":0}],"isBlockCoverage":false},{"functionName":"removeEventListener","ranges":[{"startOffset":1098,"endOffset":1164,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1206,"endOffset":1262,"count":7}],"isBlockCoverage":true}]},{"scriptId":"25","url":"node:buffer","functions":[{"functionName":"createPool","ranges":[{"startOffset":3893,"endOffset":4081,"count":7}],"isBlockCoverage":false},{"functionName":"alignPool","ranges":[{"startOffset":4097,"endOffset":4219,"count":80}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8395,"endOffset":8423,"count":4}],"isBlockCoverage":true},{"functionName":"from","ranges":[{"startOffset":8681,"endOffset":9646,"count":97}],"isBlockCoverage":false},{"functionName":"alloc","ranges":[{"startOffset":11465,"endOffset":11737,"count":2},{"startOffset":11576,"endOffset":11589,"count":0},{"startOffset":11590,"endOffset":11601,"count":0},{"startOffset":11603,"endOffset":11704,"count":0}],"isBlockCoverage":true},{"functionName":"allocUnsafe","ranges":[{"startOffset":11916,"endOffset":12018,"count":40}],"isBlockCoverage":true},{"functionName":"allocUnsafeSlow","ranges":[{"startOffset":12259,"endOffset":12375,"count":65}],"isBlockCoverage":true},{"functionName":"allocate","ranges":[{"startOffset":12696,"endOffset":13028,"count":40},{"startOffset":12739,"endOffset":12773,"count":0},{"startOffset":12860,"endOffset":12873,"count":0},{"startOffset":12991,"endOffset":13027,"count":0}],"isBlockCoverage":true},{"functionName":"fromStringFast","ranges":[{"startOffset":13030,"endOffset":13682,"count":90}],"isBlockCoverage":false},{"functionName":"createFromString","ranges":[{"startOffset":13684,"endOffset":13929,"count":51},{"startOffset":13881,"endOffset":13920,"count":0}],"isBlockCoverage":true},{"functionName":"fromString","ranges":[{"startOffset":13931,"endOffset":14291,"count":90}],"isBlockCoverage":false},{"functionName":"fromArrayBuffer","ranges":[{"startOffset":14293,"endOffset":14990,"count":6},{"startOffset":14437,"endOffset":14533,"count":0},{"startOffset":14610,"endOffset":14655,"count":0},{"startOffset":14714,"endOffset":14937,"count":0}],"isBlockCoverage":true},{"functionName":"fromArrayLike","ranges":[{"startOffset":14992,"endOffset":15386,"count":1},{"startOffset":15049,"endOffset":15073,"count":0},{"startOffset":15172,"endOffset":15185,"count":0},{"startOffset":15354,"endOffset":15385,"count":0}],"isBlockCoverage":true},{"functionName":"fromObject","ranges":[{"startOffset":15388,"endOffset":15694,"count":1},{"startOffset":15446,"endOffset":15477,"count":0},{"startOffset":15521,"endOffset":15559,"count":0},{"startOffset":15594,"endOffset":15649,"count":0},{"startOffset":15651,"endOffset":15692,"count":0}],"isBlockCoverage":true},{"functionName":"isEncoding","ranges":[{"startOffset":16155,"endOffset":16306,"count":47}],"isBlockCoverage":true},{"functionName":"base64ByteLength","ranges":[{"startOffset":17522,"endOffset":17790,"count":79},{"startOffset":17644,"endOffset":17652,"count":54},{"startOffset":17728,"endOffset":17736,"count":25}],"isBlockCoverage":true},{"functionName":"write","ranges":[{"startOffset":17925,"endOffset":17989,"count":1}],"isBlockCoverage":false},{"functionName":"slice","ranges":[{"startOffset":18002,"endOffset":18048,"count":83}],"isBlockCoverage":true},{"functionName":"write","ranges":[{"startOffset":19418,"endOffset":19483,"count":4}],"isBlockCoverage":true},{"functionName":"byteLength","ranges":[{"startOffset":19867,"endOffset":19918,"count":79}],"isBlockCoverage":true},{"functionName":"write","ranges":[{"startOffset":19931,"endOffset":19997,"count":85}],"isBlockCoverage":true},{"functionName":"getEncodingOps","ranges":[{"startOffset":21317,"endOffset":23141,"count":172},{"startOffset":21404,"endOffset":21703,"count":83},{"startOffset":21467,"endOffset":21703,"count":0},{"startOffset":21708,"endOffset":22127,"count":4},{"startOffset":21748,"endOffset":21772,"count":0},{"startOffset":21830,"endOffset":22127,"count":0},{"startOffset":22132,"endOffset":22286,"count":0},{"startOffset":22291,"endOffset":22447,"count":0},{"startOffset":22452,"endOffset":22833,"count":85},{"startOffset":22526,"endOffset":22552,"count":0},{"startOffset":22612,"endOffset":22724,"count":0},{"startOffset":22734,"endOffset":22833,"count":0},{"startOffset":22838,"endOffset":22970,"count":0},{"startOffset":22975,"endOffset":23135,"count":0}],"isBlockCoverage":true},{"functionName":"toString","ranges":[{"startOffset":24765,"endOffset":25380,"count":84},{"startOffset":24837,"endOffset":24885,"count":1},{"startOffset":24885,"endOffset":24937,"count":83},{"startOffset":24937,"endOffset":24947,"count":0},{"startOffset":24947,"endOffset":25029,"count":83},{"startOffset":24977,"endOffset":24987,"count":0},{"startOffset":25029,"endOffset":25055,"count":83},{"startOffset":25055,"endOffset":25067,"count":0},{"startOffset":25073,"endOffset":25083,"count":83},{"startOffset":25083,"endOffset":25121,"count":0},{"startOffset":25121,"endOffset":25147,"count":83},{"startOffset":25147,"endOffset":25157,"count":0},{"startOffset":25157,"endOffset":25193,"count":83},{"startOffset":25193,"endOffset":25227,"count":0},{"startOffset":25227,"endOffset":25298,"count":83},{"startOffset":25298,"endOffset":25339,"count":0},{"startOffset":25339,"endOffset":25379,"count":83}],"isBlockCoverage":true}]},{"scriptId":"26","url":"node:internal/buffer","functions":[{"functionName":"FastBuffer","ranges":[{"startOffset":26365,"endOffset":26465,"count":161}],"isBlockCoverage":false},{"functionName":"markAsUntransferable","ranges":[{"startOffset":29764,"endOffset":30013,"count":7}],"isBlockCoverage":false},{"functionName":"createUnsafeBuffer","ranges":[{"startOffset":30291,"endOffset":30427,"count":72}],"isBlockCoverage":false},{"functionName":"reconnectZeroFillToggle","ranges":[{"startOffset":30682,"endOffset":30754,"count":1}],"isBlockCoverage":true}]},{"scriptId":"28","url":"node:internal/process/per_thread","functions":[{"functionName":"hrtimeBigInt","ranges":[{"startOffset":2326,"endOffset":2407,"count":14}],"isBlockCoverage":true},{"functionName":"toggleTraceCategoryState","ranges":[{"startOffset":12335,"endOffset":12665,"count":1},{"startOffset":12415,"endOffset":12590,"count":0},{"startOffset":12622,"endOffset":12663,"count":0}],"isBlockCoverage":true}]},{"scriptId":"29","url":"node:internal/fs/utils","functions":[{"functionName":"assertEncoding","ranges":[{"startOffset":3557,"endOffset":3757,"count":129},{"startOffset":3608,"endOffset":3639,"count":47},{"startOffset":3641,"endOffset":3755,"count":0}],"isBlockCoverage":true},{"functionName":"getOptions","ranges":[{"startOffset":7391,"endOffset":8017,"count":145},{"startOffset":7475,"endOffset":7507,"count":129},{"startOffset":7509,"endOffset":7541,"count":16},{"startOffset":7541,"endOffset":7578,"count":129},{"startOffset":7578,"endOffset":7696,"count":47},{"startOffset":7696,"endOffset":7818,"count":82},{"startOffset":7735,"endOffset":7818,"count":0},{"startOffset":7818,"endOffset":7932,"count":129},{"startOffset":7932,"endOffset":7996,"count":0},{"startOffset":7996,"endOffset":8016,"count":129}],"isBlockCoverage":true},{"functionName":"stringToFlags","ranges":[{"startOffset":15001,"endOffset":16257,"count":61},{"startOffset":15082,"endOffset":15137,"count":0},{"startOffset":15160,"endOffset":15186,"count":0},{"startOffset":15243,"endOffset":15254,"count":0},{"startOffset":15276,"endOffset":15313,"count":0},{"startOffset":15318,"endOffset":15344,"count":0},{"startOffset":15349,"endOffset":15361,"count":0},{"startOffset":15383,"endOffset":15419,"count":0},{"startOffset":15425,"endOffset":15472,"count":0},{"startOffset":15477,"endOffset":15488,"count":0},{"startOffset":15510,"endOffset":15567,"count":0},{"startOffset":15573,"endOffset":15619,"count":0},{"startOffset":15624,"endOffset":15635,"count":0},{"startOffset":15657,"endOffset":15712,"count":0},{"startOffset":15718,"endOffset":15766,"count":0},{"startOffset":15771,"endOffset":15782,"count":0},{"startOffset":15804,"endOffset":15862,"count":0},{"startOffset":15867,"endOffset":15878,"count":0},{"startOffset":15900,"endOffset":15958,"count":0},{"startOffset":15964,"endOffset":16011,"count":0},{"startOffset":16016,"endOffset":16027,"count":0},{"startOffset":16049,"endOffset":16105,"count":0},{"startOffset":16110,"endOffset":16121,"count":0},{"startOffset":16143,"endOffset":16199,"count":0},{"startOffset":16203,"endOffset":16256,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":18284,"endOffset":18996,"count":152},{"startOffset":18346,"endOffset":18368,"count":0},{"startOffset":18370,"endOffset":18477,"count":0},{"startOffset":18668,"endOffset":18688,"count":0},{"startOffset":18758,"endOffset":18826,"count":0},{"startOffset":18845,"endOffset":18995,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":19041,"endOffset":19176,"count":70}],"isBlockCoverage":true}]},{"scriptId":"30","url":"node:internal/url","functions":[{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":3494,"endOffset":4283,"count":589}],"isBlockCoverage":false},{"functionName":"get hasPort","ranges":[{"startOffset":4062,"endOffset":4127,"count":0}],"isBlockCoverage":false},{"functionName":"get hasSearch","ranges":[{"startOffset":4131,"endOffset":4206,"count":425}],"isBlockCoverage":true},{"functionName":"get hasHash","ranges":[{"startOffset":4210,"endOffset":4281,"count":425}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":4401,"endOffset":6738,"count":21}],"isBlockCoverage":false},{"functionName":"URLSearchParamsIterator","ranges":[{"startOffset":4532,"endOffset":4634,"count":21}],"isBlockCoverage":true},{"functionName":"next","ranges":[{"startOffset":4638,"endOffset":5346,"count":21},{"startOffset":4726,"endOffset":4780,"count":0},{"startOffset":5000,"endOffset":5345,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5350,"endOffset":6736,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":7131,"endOffset":20406,"count":110}],"isBlockCoverage":false},{"functionName":"setURLSearchParamsContext","ranges":[{"startOffset":7263,"endOffset":7310,"count":0}],"isBlockCoverage":false},{"functionName":"getURLSearchParamsList","ranges":[{"startOffset":7341,"endOffset":7367,"count":21}],"isBlockCoverage":true},{"functionName":"setURLSearchParams","ranges":[{"startOffset":7394,"endOffset":7553,"count":0}],"isBlockCoverage":false},{"functionName":"URLSearchParams","ranges":[{"startOffset":7822,"endOffset":11916,"count":110},{"startOffset":7903,"endOffset":11912,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11920,"endOffset":13093,"count":0}],"isBlockCoverage":false},{"functionName":"get size","ranges":[{"startOffset":13097,"endOffset":13287,"count":0}],"isBlockCoverage":false},{"functionName":"append","ranges":[{"startOffset":13291,"endOffset":13781,"count":0}],"isBlockCoverage":false},{"functionName":"delete","ranges":[{"startOffset":13785,"endOffset":14648,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":14652,"endOffset":15105,"count":110},{"startOffset":14749,"endOffset":14795,"count":0},{"startOffset":14827,"endOffset":14876,"count":0},{"startOffset":15011,"endOffset":15084,"count":0}],"isBlockCoverage":true},{"functionName":"getAll","ranges":[{"startOffset":15109,"endOffset":15596,"count":0}],"isBlockCoverage":false},{"functionName":"has","ranges":[{"startOffset":15600,"endOffset":16233,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":16237,"endOffset":17365,"count":0}],"isBlockCoverage":false},{"functionName":"sort","ranges":[{"startOffset":17369,"endOffset":18726,"count":0}],"isBlockCoverage":false},{"functionName":"entries","ranges":[{"startOffset":18888,"endOffset":19095,"count":21},{"startOffset":18985,"endOffset":19031,"count":0}],"isBlockCoverage":true},{"functionName":"forEach","ranges":[{"startOffset":19099,"endOffset":19617,"count":0}],"isBlockCoverage":false},{"functionName":"keys","ranges":[{"startOffset":19671,"endOffset":19869,"count":0}],"isBlockCoverage":false},{"functionName":"values","ranges":[{"startOffset":19873,"endOffset":20075,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":20207,"endOffset":20404,"count":0}],"isBlockCoverage":false},{"functionName":"isURL","ranges":[{"startOffset":21737,"endOffset":21862,"count":282},{"startOffset":21788,"endOffset":21804,"count":145},{"startOffset":21805,"endOffset":21831,"count":145},{"startOffset":21832,"endOffset":21858,"count":145}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":22189,"endOffset":33222,"count":589}],"isBlockCoverage":false},{"functionName":"setURLSearchParamsModified","ranges":[{"startOffset":22319,"endOffset":22807,"count":0}],"isBlockCoverage":false},{"functionName":"URL","ranges":[{"startOffset":22816,"endOffset":23280,"count":589},{"startOffset":22912,"endOffset":22960,"count":0},{"startOffset":23065,"endOffset":23096,"count":148},{"startOffset":23236,"endOffset":23276,"count":558}],"isBlockCoverage":true},{"functionName":"parse","ranges":[{"startOffset":23291,"endOffset":23533,"count":88},{"startOffset":23356,"endOffset":23404,"count":0},{"startOffset":23504,"endOffset":23521,"count":83},{"startOffset":23522,"endOffset":23528,"count":5}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":23537,"endOffset":24257,"count":0}],"isBlockCoverage":false},{"functionName":"#getSearchFromContext","ranges":[{"startOffset":24261,"endOffset":24595,"count":38},{"startOffset":24331,"endOffset":24594,"count":0}],"isBlockCoverage":true},{"functionName":"#getSearchFromParams","ranges":[{"startOffset":24599,"endOffset":24710,"count":0}],"isBlockCoverage":false},{"functionName":"#ensureSearchParamsUpdated","ranges":[{"startOffset":24714,"endOffset":25153,"count":537},{"startOffset":24982,"endOffset":25149,"count":0}],"isBlockCoverage":true},{"functionName":"#updateContext","ranges":[{"startOffset":25401,"endOffset":27046,"count":634},{"startOffset":25510,"endOffset":25531,"count":38},{"startOffset":25532,"endOffset":25630,"count":0},{"startOffset":26326,"endOffset":27042,"count":0}],"isBlockCoverage":true},{"functionName":"toString","ranges":[{"startOffset":27050,"endOffset":27235,"count":103}],"isBlockCoverage":true},{"functionName":"get href","ranges":[{"startOffset":27239,"endOffset":27424,"count":396}],"isBlockCoverage":true},{"functionName":"set href","ranges":[{"startOffset":27428,"endOffset":27647,"count":0}],"isBlockCoverage":false},{"functionName":"get origin","ranges":[{"startOffset":27665,"endOffset":28534,"count":0}],"isBlockCoverage":false},{"functionName":"get protocol","ranges":[{"startOffset":28538,"endOffset":28642,"count":685}],"isBlockCoverage":true},{"functionName":"set protocol","ranges":[{"startOffset":28646,"endOffset":28819,"count":0}],"isBlockCoverage":false},{"functionName":"get username","ranges":[{"startOffset":28823,"endOffset":29050,"count":0}],"isBlockCoverage":false},{"functionName":"set username","ranges":[{"startOffset":29054,"endOffset":29227,"count":0}],"isBlockCoverage":false},{"functionName":"get password","ranges":[{"startOffset":29231,"endOffset":29454,"count":0}],"isBlockCoverage":false},{"functionName":"set password","ranges":[{"startOffset":29458,"endOffset":29631,"count":0}],"isBlockCoverage":false},{"functionName":"get host","ranges":[{"startOffset":29635,"endOffset":30066,"count":0}],"isBlockCoverage":false},{"functionName":"set host","ranges":[{"startOffset":30070,"endOffset":30235,"count":0}],"isBlockCoverage":false},{"functionName":"get hostname","ranges":[{"startOffset":30239,"endOffset":30521,"count":148},{"startOffset":30405,"endOffset":30430,"count":0}],"isBlockCoverage":true},{"functionName":"set hostname","ranges":[{"startOffset":30525,"endOffset":30698,"count":0}],"isBlockCoverage":false},{"functionName":"get port","ranges":[{"startOffset":30702,"endOffset":30810,"count":0}],"isBlockCoverage":false},{"functionName":"set port","ranges":[{"startOffset":30814,"endOffset":30979,"count":0}],"isBlockCoverage":false},{"functionName":"get pathname","ranges":[{"startOffset":30983,"endOffset":31275,"count":387},{"startOffset":31049,"endOffset":31099,"count":0},{"startOffset":31132,"endOffset":31180,"count":0}],"isBlockCoverage":true},{"functionName":"set pathname","ranges":[{"startOffset":31279,"endOffset":31452,"count":0}],"isBlockCoverage":false},{"functionName":"get search","ranges":[{"startOffset":31456,"endOffset":31653,"count":38}],"isBlockCoverage":true},{"functionName":"set search","ranges":[{"startOffset":31657,"endOffset":31861,"count":38}],"isBlockCoverage":true},{"functionName":"get searchParams","ranges":[{"startOffset":31879,"endOffset":32237,"count":0}],"isBlockCoverage":false},{"functionName":"get hash","ranges":[{"startOffset":32241,"endOffset":32456,"count":38},{"startOffset":32285,"endOffset":32347,"count":0},{"startOffset":32373,"endOffset":32455,"count":0}],"isBlockCoverage":true},{"functionName":"set hash","ranges":[{"startOffset":32460,"endOffset":32625,"count":38}],"isBlockCoverage":true},{"functionName":"toJSON","ranges":[{"startOffset":32629,"endOffset":32812,"count":0}],"isBlockCoverage":false},{"functionName":"canParse","ranges":[{"startOffset":32823,"endOffset":33220,"count":0}],"isBlockCoverage":false},{"functionName":"getPathFromURLPosix","ranges":[{"startOffset":42504,"endOffset":43025,"count":148},{"startOffset":42567,"endOffset":42623,"count":0},{"startOffset":42701,"endOffset":42984,"count":16795},{"startOffset":42732,"endOffset":42980,"count":0}],"isBlockCoverage":true},{"functionName":"fileURLToPath","ranges":[{"startOffset":43027,"endOffset":43439,"count":148},{"startOffset":43154,"endOffset":43175,"count":24},{"startOffset":43175,"endOffset":43269,"count":124},{"startOffset":43205,"endOffset":43269,"count":0},{"startOffset":43307,"endOffset":43348,"count":0},{"startOffset":43381,"endOffset":43408,"count":0}],"isBlockCoverage":true},{"functionName":"encodePathChars","ranges":[{"startOffset":43992,"endOffset":46009,"count":140},{"startOffset":44099,"endOffset":44180,"count":0},{"startOffset":44229,"endOffset":44306,"count":0},{"startOffset":44354,"endOffset":44435,"count":0},{"startOffset":44483,"endOffset":44571,"count":0},{"startOffset":44618,"endOffset":44697,"count":0},{"startOffset":44744,"endOffset":44823,"count":0},{"startOffset":44870,"endOffset":44948,"count":0},{"startOffset":44995,"endOffset":45081,"count":0},{"startOffset":45128,"endOffset":45219,"count":0},{"startOffset":45381,"endOffset":45464,"count":0},{"startOffset":45511,"endOffset":45603,"count":0},{"startOffset":45650,"endOffset":45729,"count":0},{"startOffset":45776,"endOffset":45861,"count":0},{"startOffset":45908,"endOffset":45987,"count":0}],"isBlockCoverage":true},{"functionName":"pathToFileURL","ranges":[{"startOffset":46011,"endOffset":47870,"count":140},{"startOffset":46133,"endOffset":46179,"count":0},{"startOffset":46181,"endOffset":47319,"count":0},{"startOffset":47345,"endOffset":47375,"count":0},{"startOffset":47648,"endOffset":47722,"count":139},{"startOffset":47668,"endOffset":47680,"count":0},{"startOffset":47682,"endOffset":47721,"count":0},{"startOffset":47724,"endOffset":47775,"count":1},{"startOffset":47781,"endOffset":47797,"count":1}],"isBlockCoverage":true},{"functionName":"toPathIfFileURL","ranges":[{"startOffset":47872,"endOffset":48009,"count":152},{"startOffset":47947,"endOffset":47968,"count":131},{"startOffset":47968,"endOffset":48008,"count":21}],"isBlockCoverage":true}]},{"scriptId":"33","url":"node:path","functions":[{"functionName":"isPosixPathSeparator","ranges":[{"startOffset":2214,"endOffset":2291,"count":48307}],"isBlockCoverage":true},{"functionName":"normalizeString","ranges":[{"startOffset":2956,"endOffset":4904,"count":514},{"startOffset":3173,"endOffset":4888,"count":48264},{"startOffset":3206,"endOffset":3248,"count":47750},{"startOffset":3248,"endOffset":3339,"count":514},{"startOffset":3291,"endOffset":3297,"count":471},{"startOffset":3297,"endOffset":3339,"count":43},{"startOffset":3339,"endOffset":3372,"count":47793},{"startOffset":3372,"endOffset":4789,"count":5701},{"startOffset":3404,"endOffset":3417,"count":5119},{"startOffset":3419,"endOffset":3444,"count":640},{"startOffset":3444,"endOffset":4746,"count":5061},{"startOffset":3466,"endOffset":4501,"count":31},{"startOffset":3495,"endOffset":3521,"count":24},{"startOffset":3522,"endOffset":3596,"count":0},{"startOffset":3597,"endOffset":3671,"count":0},{"startOffset":3705,"endOffset":4182,"count":24},{"startOffset":3825,"endOffset":3901,"count":0},{"startOffset":4182,"endOffset":4351,"count":7},{"startOffset":4210,"endOffset":4351,"count":0},{"startOffset":4361,"endOffset":4493,"count":7},{"startOffset":4424,"endOffset":4442,"count":0},{"startOffset":4501,"endOffset":4746,"count":5030},{"startOffset":4547,"endOffset":4616,"count":4523},{"startOffset":4616,"endOffset":4691,"count":507},{"startOffset":4746,"endOffset":4789,"count":5677},{"startOffset":4789,"endOffset":4884,"count":42092},{"startOffset":4817,"endOffset":4831,"count":1548},{"startOffset":4833,"endOffset":4854,"count":467},{"startOffset":4854,"endOffset":4884,"count":41625}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":37388,"endOffset":37407,"count":2}],"isBlockCoverage":true},{"functionName":"resolve","ranges":[{"startOffset":37532,"endOffset":38636,"count":471},{"startOffset":37654,"endOffset":37674,"count":675},{"startOffset":37681,"endOffset":37986,"count":669},{"startOffset":37812,"endOffset":37839,"count":0},{"startOffset":38015,"endOffset":38190,"count":2},{"startOffset":38575,"endOffset":38625,"count":0},{"startOffset":38626,"endOffset":38631,"count":0}],"isBlockCoverage":true},{"functionName":"normalize","ranges":[{"startOffset":38702,"endOffset":39315,"count":43},{"startOffset":38788,"endOffset":38799,"count":0},{"startOffset":39127,"endOffset":39221,"count":0},{"startOffset":39255,"endOffset":39267,"count":0},{"startOffset":39291,"endOffset":39303,"count":12},{"startOffset":39304,"endOffset":39310,"count":31}],"isBlockCoverage":true},{"functionName":"isAbsolute","ranges":[{"startOffset":39382,"endOffset":39538,"count":327}],"isBlockCoverage":true},{"functionName":"join","ranges":[{"startOffset":39607,"endOffset":39971,"count":12},{"startOffset":39656,"endOffset":39667,"count":0},{"startOffset":39732,"endOffset":39861,"count":24},{"startOffset":39896,"endOffset":39907,"count":0}],"isBlockCoverage":true},{"functionName":"toNamespacedPath","ranges":[{"startOffset":42487,"endOffset":42563,"count":484}],"isBlockCoverage":true},{"functionName":"dirname","ranges":[{"startOffset":42629,"endOffset":43305,"count":144},{"startOffset":42712,"endOffset":42723,"count":0},{"startOffset":42897,"endOffset":43150,"count":2148},{"startOffset":42968,"endOffset":43052,"count":144},{"startOffset":43052,"endOffset":43144,"count":2004},{"startOffset":43178,"endOffset":43205,"count":0},{"startOffset":43222,"endOffset":43234,"count":143},{"startOffset":43242,"endOffset":43254,"count":0}],"isBlockCoverage":true},{"functionName":"basename","ranges":[{"startOffset":43401,"endOffset":45831,"count":35},{"startOffset":43462,"endOffset":43495,"count":0},{"startOffset":43627,"endOffset":43647,"count":0},{"startOffset":43648,"endOffset":43679,"count":0},{"startOffset":43681,"endOffset":45205,"count":0},{"startOffset":45253,"endOffset":45738,"count":515},{"startOffset":45324,"endOffset":45548,"count":35},{"startOffset":45548,"endOffset":45732,"count":480},{"startOffset":45570,"endOffset":45732,"count":35},{"startOffset":45766,"endOffset":45776,"count":0}],"isBlockCoverage":true}]},{"scriptId":"35","url":"node:internal/process/task_queues","functions":[{"functionName":"setHasTickScheduled","ranges":[{"startOffset":1059,"endOffset":1145,"count":57},{"startOffset":1135,"endOffset":1138,"count":50},{"startOffset":1139,"endOffset":1142,"count":7}],"isBlockCoverage":true},{"functionName":"processTicksAndRejections","ranges":[{"startOffset":1445,"endOffset":2424,"count":7},{"startOffset":1501,"endOffset":2304,"count":49},{"startOffset":1547,"endOffset":2279,"count":220},{"startOffset":1748,"endOffset":1781,"count":42},{"startOffset":1781,"endOffset":2155,"count":178},{"startOffset":1868,"endOffset":1901,"count":46},{"startOffset":1914,"endOffset":1956,"count":132},{"startOffset":1969,"endOffset":2020,"count":0},{"startOffset":2033,"endOffset":2093,"count":0},{"startOffset":2106,"endOffset":2133,"count":0},{"startOffset":2217,"endOffset":2238,"count":159}],"isBlockCoverage":true},{"functionName":"nextTick","ranges":[{"startOffset":2568,"endOffset":3442,"count":220},{"startOffset":2669,"endOffset":2676,"count":0},{"startOffset":2724,"endOffset":2738,"count":42},{"startOffset":2743,"endOffset":2780,"count":46},{"startOffset":2785,"endOffset":2836,"count":132},{"startOffset":2841,"endOffset":2906,"count":0},{"startOffset":2911,"endOffset":3054,"count":0},{"startOffset":3083,"endOffset":3109,"count":50},{"startOffset":3354,"endOffset":3414,"count":161}],"isBlockCoverage":true},{"functionName":"runMicrotask","ranges":[{"startOffset":3444,"endOffset":3620,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3493,"endOffset":3616,"count":1}],"isBlockCoverage":true},{"functionName":"queueMicrotask","ranges":[{"startOffset":3692,"endOffset":3981,"count":1}],"isBlockCoverage":true}]},{"scriptId":"36","url":"node:internal/process/promises","functions":[{"functionName":"","ranges":[{"startOffset":1267,"endOffset":1379,"count":5}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1414,"endOffset":1569,"count":4},{"startOffset":1473,"endOffset":1565,"count":0}],"isBlockCoverage":true},{"functionName":"setHasRejectionToWarn","ranges":[{"startOffset":4097,"endOffset":4187,"count":9},{"startOffset":4177,"endOffset":4180,"count":2},{"startOffset":4181,"endOffset":4184,"count":7}],"isBlockCoverage":true},{"functionName":"promiseRejectHandler","ranges":[{"startOffset":4596,"endOffset":5279,"count":4},{"startOffset":4696,"endOffset":4761,"count":1},{"startOffset":4784,"endOffset":4878,"count":2},{"startOffset":4883,"endOffset":4971,"count":2},{"startOffset":4976,"endOffset":5121,"count":0},{"startOffset":5126,"endOffset":5273,"count":0}],"isBlockCoverage":true},{"functionName":"unhandledRejection","ranges":[{"startOffset":6708,"endOffset":6922,"count":2}],"isBlockCoverage":true},{"functionName":"handledRejection","ranges":[{"startOffset":6960,"endOffset":7541,"count":2},{"startOffset":7109,"endOffset":7539,"count":0}],"isBlockCoverage":true},{"functionName":"getUnhandledRejectionsMode","ranges":[{"startOffset":11313,"endOffset":11864,"count":1},{"startOffset":11469,"endOffset":11525,"count":0},{"startOffset":11530,"endOffset":11590,"count":0},{"startOffset":11595,"endOffset":11653,"count":0},{"startOffset":11658,"endOffset":11714,"count":0},{"startOffset":11719,"endOffset":11802,"count":0}],"isBlockCoverage":true},{"functionName":"processPromiseRejections","ranges":[{"startOffset":12037,"endOffset":13386,"count":7},{"startOffset":12197,"endOffset":12376,"count":0},{"startOffset":12582,"endOffset":13292,"count":0}],"isBlockCoverage":true}]},{"scriptId":"37","url":"node:internal/fixed_queue","functions":[{"functionName":"isEmpty","ranges":[{"startOffset":3130,"endOffset":3182,"count":538}],"isBlockCoverage":true},{"functionName":"isFull","ranges":[{"startOffset":3186,"endOffset":3253,"count":220}],"isBlockCoverage":true},{"functionName":"push","ranges":[{"startOffset":3257,"endOffset":3344,"count":220}],"isBlockCoverage":true},{"functionName":"shift","ranges":[{"startOffset":3348,"endOffset":3563,"count":269},{"startOffset":3441,"endOffset":3453,"count":49},{"startOffset":3453,"endOffset":3562,"count":220}],"isBlockCoverage":true},{"functionName":"isEmpty","ranges":[{"startOffset":3683,"endOffset":3730,"count":269}],"isBlockCoverage":true},{"functionName":"push","ranges":[{"startOffset":3734,"endOffset":3998,"count":220},{"startOffset":3775,"endOffset":3968,"count":0}],"isBlockCoverage":true},{"functionName":"shift","ranges":[{"startOffset":4002,"endOffset":4257,"count":269},{"startOffset":4094,"endOffset":4115,"count":99},{"startOffset":4117,"endOffset":4236,"count":0}],"isBlockCoverage":true}]},{"scriptId":"38","url":"node:async_hooks","functions":[{"functionName":"AsyncHook","ranges":[{"startOffset":1538,"endOffset":2372,"count":1}],"isBlockCoverage":false},{"functionName":"enable","ranges":[{"startOffset":2376,"endOffset":3621,"count":1},{"startOffset":2810,"endOffset":2822,"count":0}],"isBlockCoverage":true},{"functionName":"disable","ranges":[{"startOffset":3625,"endOffset":4409,"count":1},{"startOffset":3790,"endOffset":3802,"count":0}],"isBlockCoverage":true},{"functionName":"createHook","ranges":[{"startOffset":4414,"endOffset":4471,"count":1}],"isBlockCoverage":false},{"functionName":"AsyncResource","ranges":[{"startOffset":4564,"endOffset":5761,"count":9},{"startOffset":4839,"endOffset":4860,"count":0},{"startOffset":5092,"endOffset":5171,"count":0},{"startOffset":5323,"endOffset":5486,"count":7},{"startOffset":5377,"endOffset":5426,"count":0},{"startOffset":5518,"endOffset":5540,"count":8},{"startOffset":5542,"endOffset":5757,"count":6}],"isBlockCoverage":true},{"functionName":"runInAsyncScope","ranges":[{"startOffset":5765,"endOffset":6081,"count":9}],"isBlockCoverage":true},{"functionName":"emitDestroy","ranges":[{"startOffset":6085,"endOffset":6260,"count":1},{"startOffset":6146,"endOffset":6199,"count":0}],"isBlockCoverage":true},{"functionName":"asyncId","ranges":[{"startOffset":6264,"endOffset":6313,"count":1}],"isBlockCoverage":true},{"functionName":"bind","ranges":[{"startOffset":6385,"endOffset":7421,"count":1},{"startOffset":6680,"endOffset":6771,"count":0}],"isBlockCoverage":true},{"functionName":"bound","ranges":[{"startOffset":6528,"endOffset":6673,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7114,"endOffset":7159,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7259,"endOffset":7306,"count":0}],"isBlockCoverage":false}]},{"scriptId":"39","url":"node:timers","functions":[{"functionName":"clearTimeout","ranges":[{"startOffset":5082,"endOffset":5448,"count":2},{"startOffset":5125,"endOffset":5144,"count":0},{"startOffset":5146,"endOffset":5213,"count":0},{"startOffset":5276,"endOffset":5446,"count":0}],"isBlockCoverage":true},{"functionName":"setImmediate","ranges":[{"startOffset":7392,"endOffset":7957,"count":2},{"startOffset":7579,"endOffset":7620,"count":0},{"startOffset":7625,"endOffset":7672,"count":0},{"startOffset":7677,"endOffset":7910,"count":0}],"isBlockCoverage":true}]},{"scriptId":"40","url":"node:internal/process/execution","functions":[{"functionName":"tryGetCwd","ranges":[{"startOffset":945,"endOffset":1275,"count":1},{"startOffset":1006,"endOffset":1273,"count":0}],"isBlockCoverage":true}]},{"scriptId":"43","url":"node:internal/source_map/source_map_cache","functions":[{"functionName":"","ranges":[{"startOffset":676,"endOffset":804,"count":1}],"isBlockCoverage":true},{"functionName":"getSourceMapsEnabled","ranges":[{"startOffset":1579,"endOffset":1642,"count":138}],"isBlockCoverage":true},{"functionName":"setSourceMapsEnabled","ranges":[{"startOffset":1729,"endOffset":2313,"count":3},{"startOffset":1837,"endOffset":2020,"count":2},{"startOffset":2020,"endOffset":2283,"count":1}],"isBlockCoverage":true},{"functionName":"extractSourceURLMagicComment","ranges":[{"startOffset":2631,"endOffset":3231,"count":136},{"startOffset":2933,"endOffset":2966,"count":0},{"startOffset":3019,"endOffset":3155,"count":0},{"startOffset":3157,"endOffset":3230,"count":0}],"isBlockCoverage":true},{"functionName":"maybeCacheSourceMap","ranges":[{"startOffset":4659,"endOffset":6352,"count":88},{"startOffset":4858,"endOffset":4878,"count":0},{"startOffset":4881,"endOffset":4888,"count":0},{"startOffset":5036,"endOffset":5132,"count":0},{"startOffset":5168,"endOffset":5234,"count":0},{"startOffset":5323,"endOffset":5340,"count":0},{"startOffset":5932,"endOffset":5946,"count":0},{"startOffset":5994,"endOffset":6141,"count":0},{"startOffset":6251,"endOffset":6274,"count":0}],"isBlockCoverage":true},{"functionName":"maybeCacheGeneratedSourceMap","ranges":[{"startOffset":6478,"endOffset":7006,"count":48},{"startOffset":6616,"endOffset":6636,"count":0},{"startOffset":6639,"endOffset":6646,"count":0},{"startOffset":6750,"endOffset":7004,"count":0}],"isBlockCoverage":true},{"functionName":"dataFromUrl","ranges":[{"startOffset":7406,"endOffset":7827,"count":88},{"startOffset":7520,"endOffset":7728,"count":83},{"startOffset":7638,"endOffset":7718,"count":0},{"startOffset":7728,"endOffset":7826,"count":5}],"isBlockCoverage":true},{"functionName":"lineLengths","ranges":[{"startOffset":8017,"endOffset":8813,"count":88},{"startOffset":8188,"endOffset":8752,"count":985142},{"startOffset":8564,"endOffset":8587,"count":984333},{"startOffset":8588,"endOffset":8611,"count":984333},{"startOffset":8613,"endOffset":8748,"count":809}],"isBlockCoverage":true},{"functionName":"sourceMapFromFile","ranges":[{"startOffset":8965,"endOffset":9245,"count":5},{"startOffset":9193,"endOffset":9243,"count":0}],"isBlockCoverage":true},{"functionName":"sourceMapFromDataUrl","ranges":[{"startOffset":9339,"endOffset":10114,"count":83},{"startOffset":9742,"endOffset":9748,"count":0},{"startOffset":9870,"endOffset":10030,"count":0},{"startOffset":10034,"endOffset":10112,"count":0}],"isBlockCoverage":true},{"functionName":"sourcesToAbsolute","ranges":[{"startOffset":10386,"endOffset":10790,"count":88}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10464,"endOffset":10647,"count":88},{"startOffset":10553,"endOffset":10601,"count":83},{"startOffset":10601,"endOffset":10646,"count":5}],"isBlockCoverage":true},{"functionName":"findSourceMap","ranges":[{"startOffset":11952,"endOffset":12768,"count":2},{"startOffset":12025,"endOffset":12052,"count":0},{"startOffset":12442,"endOffset":12448,"count":0},{"startOffset":12489,"endOffset":12766,"count":0}],"isBlockCoverage":true}]},{"scriptId":"44","url":"node:internal/modules/helpers","functions":[{"functionName":"","ranges":[{"startOffset":1182,"endOffset":1207,"count":1}],"isBlockCoverage":true},{"functionName":"toRealPath","ranges":[{"startOffset":1676,"endOffset":1808,"count":44}],"isBlockCoverage":true},{"functionName":"initializeCjsConditions","ranges":[{"startOffset":1924,"endOffset":2415,"count":1},{"startOffset":2103,"endOffset":2107,"count":0}],"isBlockCoverage":true},{"functionName":"getCjsConditions","ranges":[{"startOffset":2482,"endOffset":2609,"count":3},{"startOffset":2547,"endOffset":2583,"count":0}],"isBlockCoverage":true},{"functionName":"loadBuiltinModule","ranges":[{"startOffset":2836,"endOffset":3216,"count":81},{"startOffset":2925,"endOffset":2942,"count":0}],"isBlockCoverage":true},{"functionName":"lazyModule","ranges":[{"startOffset":3309,"endOffset":3422,"count":35},{"startOffset":3353,"endOffset":3401,"count":1}],"isBlockCoverage":true},{"functionName":"makeRequireFunction","ranges":[{"startOffset":4011,"endOffset":6543,"count":35},{"startOffset":4150,"endOffset":4213,"count":0},{"startOffset":4280,"endOffset":5551,"count":0}],"isBlockCoverage":true},{"functionName":"require","ranges":[{"startOffset":4423,"endOffset":5546,"count":0}],"isBlockCoverage":false},{"functionName":"require","ranges":[{"startOffset":5573,"endOffset":5713,"count":132}],"isBlockCoverage":true},{"functionName":"resolve","ranges":[{"startOffset":5899,"endOffset":6045,"count":0}],"isBlockCoverage":false},{"functionName":"paths","ranges":[{"startOffset":6190,"endOffset":6312,"count":0}],"isBlockCoverage":false},{"functionName":"stripBOM","ranges":[{"startOffset":6755,"endOffset":6910,"count":1},{"startOffset":6837,"endOffset":6890,"count":0}],"isBlockCoverage":true},{"functionName":"normalizeReferrerURL","ranges":[{"startOffset":9391,"endOffset":9894,"count":88},{"startOffset":9496,"endOffset":9523,"count":0},{"startOffset":9606,"endOffset":9660,"count":5},{"startOffset":9660,"endOffset":9721,"count":83},{"startOffset":9721,"endOffset":9757,"count":0},{"startOffset":9759,"endOffset":9793,"count":83},{"startOffset":9793,"endOffset":9893,"count":0}],"isBlockCoverage":true},{"functionName":"urlToFilename","ranges":[{"startOffset":9964,"endOffset":10102,"count":7},{"startOffset":10086,"endOffset":10101,"count":0}],"isBlockCoverage":true},{"functionName":"hasStartedUserCJSExecution","ranges":[{"startOffset":11438,"endOffset":11512,"count":1}],"isBlockCoverage":true},{"functionName":"setHasStartedUserCJSExecution","ranges":[{"startOffset":11516,"endOffset":11593,"count":33}],"isBlockCoverage":true},{"functionName":"hasStartedUserESMExecution","ranges":[{"startOffset":11597,"endOffset":11671,"count":1}],"isBlockCoverage":true},{"functionName":"setHasStartedUserESMExecution","ranges":[{"startOffset":11675,"endOffset":11752,"count":3}],"isBlockCoverage":true}]},{"scriptId":"45","url":"node:fs","functions":[{"functionName":"isFileType","ranges":[{"startOffset":5197,"endOffset":5457,"count":1245},{"startOffset":5396,"endOffset":5416,"count":125}],"isBlockCoverage":true},{"functionName":"existsSync","ranges":[{"startOffset":7469,"endOffset":7640,"count":3},{"startOffset":7544,"endOffset":7573,"count":0}],"isBlockCoverage":true},{"functionName":"readFileSync","ranges":[{"startOffset":11296,"endOffset":12935,"count":47},{"startOffset":11418,"endOffset":11449,"count":0},{"startOffset":11622,"endOffset":11712,"count":0},{"startOffset":11713,"endOffset":11753,"count":0},{"startOffset":11841,"endOffset":11851,"count":0},{"startOffset":11852,"endOffset":11855,"count":0},{"startOffset":11985,"endOffset":12934,"count":0}],"isBlockCoverage":true},{"functionName":"mkdirSync","ranges":[{"startOffset":34560,"endOffset":35151,"count":2},{"startOffset":34707,"endOffset":34732,"count":0},{"startOffset":34873,"endOffset":34893,"count":0}],"isBlockCoverage":true},{"functionName":"readdirSync","ranges":[{"startOffset":38545,"endOffset":39053,"count":2},{"startOffset":38682,"endOffset":38748,"count":0},{"startOffset":38775,"endOffset":38828,"count":0},{"startOffset":39015,"endOffset":39041,"count":0}],"isBlockCoverage":true},{"functionName":"splitRoot","ranges":[{"startOffset":69496,"endOffset":69706,"count":59},{"startOffset":69563,"endOffset":69686,"count":118},{"startOffset":69641,"endOffset":69680,"count":59},{"startOffset":69686,"endOffset":69705,"count":0}],"isBlockCoverage":true},{"functionName":"encodeRealpathResult","ranges":[{"startOffset":69711,"endOffset":69998,"count":51},{"startOffset":69796,"endOffset":69826,"count":0},{"startOffset":69846,"endOffset":69997,"count":0}],"isBlockCoverage":true},{"functionName":"nextPart","ranges":[{"startOffset":70404,"endOffset":70479,"count":685}],"isBlockCoverage":true},{"functionName":"realpathSync","ranges":[{"startOffset":70653,"endOffset":74472,"count":82},{"startOffset":70777,"endOffset":70795,"count":0},{"startOffset":70956,"endOffset":70991,"count":31},{"startOffset":70991,"endOffset":71553,"count":51},{"startOffset":71553,"endOffset":71743,"count":0},{"startOffset":71743,"endOffset":71880,"count":51},{"startOffset":71880,"endOffset":74399,"count":685},{"startOffset":71992,"endOffset":72123,"count":51},{"startOffset":72123,"endOffset":72281,"count":634},{"startOffset":72398,"endOffset":72535,"count":560},{"startOffset":72489,"endOffset":72513,"count":0},{"startOffset":72535,"endOffset":72601,"count":125},{"startOffset":72638,"endOffset":72687,"count":0},{"startOffset":72687,"endOffset":73876,"count":125},{"startOffset":72983,"endOffset":73008,"count":0},{"startOffset":73049,"endOffset":73137,"count":117},{"startOffset":73137,"endOffset":73558,"count":8},{"startOffset":73497,"endOffset":73550,"count":0},{"startOffset":73558,"endOffset":73796,"count":8},{"startOffset":73840,"endOffset":73870,"count":8},{"startOffset":73876,"endOffset":74168,"count":8},{"startOffset":74168,"endOffset":74191,"count":0},{"startOffset":74193,"endOffset":74395,"count":0},{"startOffset":74399,"endOffset":74413,"count":51}],"isBlockCoverage":true},{"functionName":"lazyLoadStreams","ranges":[{"startOffset":82731,"endOffset":82922,"count":4},{"startOffset":82779,"endOffset":82920,"count":1}],"isBlockCoverage":true},{"functionName":"get ReadStream","ranges":[{"startOffset":85261,"endOffset":85329,"count":1}],"isBlockCoverage":true},{"functionName":"get WriteStream","ranges":[{"startOffset":85386,"endOffset":85456,"count":1}],"isBlockCoverage":true},{"functionName":"get FileReadStream","ranges":[{"startOffset":85648,"endOffset":85724,"count":1}],"isBlockCoverage":true},{"functionName":"get FileWriteStream","ranges":[{"startOffset":85789,"endOffset":85867,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":86562,"endOffset":86658,"count":3}],"isBlockCoverage":true}]},{"scriptId":"47","url":"node:internal/encoding","functions":[{"functionName":"validateEncoder","ranges":[{"startOffset":1355,"endOffset":1480,"count":1},{"startOffset":1436,"endOffset":1478,"count":0}],"isBlockCoverage":true},{"functionName":"validateDecoder","ranges":[{"startOffset":1482,"endOffset":1607,"count":15},{"startOffset":1563,"endOffset":1605,"count":0}],"isBlockCoverage":true},{"functionName":"getEncodingFromLabel","ranges":[{"startOffset":9404,"endOffset":9583,"count":4},{"startOffset":9515,"endOffset":9582,"count":0}],"isBlockCoverage":true},{"functionName":"TextEncoder","ranges":[{"startOffset":9607,"endOffset":9653,"count":1}],"isBlockCoverage":false},{"functionName":"encode","ranges":[{"startOffset":9728,"endOffset":9820,"count":1}],"isBlockCoverage":true},{"functionName":"TextDecoder","ranges":[{"startOffset":11141,"endOffset":12104,"count":4},{"startOffset":11397,"endOffset":11444,"count":0},{"startOffset":11528,"endOffset":11551,"count":0},{"startOffset":11592,"endOffset":11620,"count":0},{"startOffset":12028,"endOffset":12053,"count":0},{"startOffset":12055,"endOffset":12098,"count":0}],"isBlockCoverage":true},{"functionName":"decode","ranges":[{"startOffset":12381,"endOffset":13076,"count":15},{"startOffset":12550,"endOffset":12558,"count":0},{"startOffset":12668,"endOffset":13075,"count":0}],"isBlockCoverage":true}]},{"scriptId":"50","url":"node:util","functions":[{"functionName":"lazyAbortController","ranges":[{"startOffset":2743,"endOffset":2863,"count":3}],"isBlockCoverage":true},{"functionName":"getSystemErrorName","ranges":[{"startOffset":11391,"endOffset":11607,"count":2},{"startOffset":11501,"endOffset":11572,"count":0}],"isBlockCoverage":true},{"functionName":"get transferableAbortSignal","ranges":[{"startOffset":13428,"endOffset":13521,"count":1}],"isBlockCoverage":true},{"functionName":"get transferableAbortController","ranges":[{"startOffset":13525,"endOffset":13626,"count":1}],"isBlockCoverage":true},{"functionName":"get aborted","ranges":[{"startOffset":13630,"endOffset":13691,"count":1}],"isBlockCoverage":true}]},{"scriptId":"51","url":"node:internal/streams/utils","functions":[{"functionName":"isReadableNodeStream","ranges":[{"startOffset":1125,"endOffset":1542,"count":25},{"startOffset":1237,"endOffset":1272,"count":24},{"startOffset":1273,"endOffset":1380,"count":24},{"startOffset":1296,"endOffset":1374,"count":0},{"startOffset":1381,"endOffset":1451,"count":24},{"startOffset":1409,"endOffset":1450,"count":12},{"startOffset":1452,"endOffset":1512,"count":24},{"startOffset":1490,"endOffset":1511,"count":12}],"isBlockCoverage":true},{"functionName":"isWritableNodeStream","ranges":[{"startOffset":1544,"endOffset":1764,"count":13},{"startOffset":1641,"endOffset":1676,"count":8},{"startOffset":1677,"endOffset":1747,"count":8}],"isBlockCoverage":true},{"functionName":"isDuplexNodeStream","ranges":[{"startOffset":1766,"endOffset":1965,"count":2},{"startOffset":1861,"endOffset":1882,"count":0},{"startOffset":1884,"endOffset":1919,"count":0},{"startOffset":1920,"endOffset":1958,"count":0}],"isBlockCoverage":true},{"functionName":"isNodeStream","ranges":[{"startOffset":1967,"endOffset":2238,"count":47},{"startOffset":2049,"endOffset":2076,"count":3},{"startOffset":2077,"endOffset":2151,"count":3},{"startOffset":2119,"endOffset":2150,"count":0},{"startOffset":2152,"endOffset":2225,"count":3},{"startOffset":2193,"endOffset":2224,"count":0}],"isBlockCoverage":true},{"functionName":"isReadableStream","ranges":[{"startOffset":2240,"endOffset":2454,"count":5},{"startOffset":2320,"endOffset":2364,"count":1},{"startOffset":2365,"endOffset":2407,"count":0},{"startOffset":2408,"endOffset":2447,"count":0}],"isBlockCoverage":true},{"functionName":"isWritableStream","ranges":[{"startOffset":2456,"endOffset":2624,"count":6},{"startOffset":2536,"endOffset":2578,"count":1},{"startOffset":2579,"endOffset":2617,"count":0}],"isBlockCoverage":true},{"functionName":"isTransformStream","ranges":[{"startOffset":2626,"endOffset":2793,"count":1},{"startOffset":2707,"endOffset":2746,"count":0},{"startOffset":2747,"endOffset":2786,"count":0}],"isBlockCoverage":true},{"functionName":"isIterable","ranges":[{"startOffset":2909,"endOffset":3239,"count":2},{"startOffset":2964,"endOffset":2977,"count":0},{"startOffset":3002,"endOffset":3056,"count":0},{"startOffset":3082,"endOffset":3131,"count":0},{"startOffset":3188,"endOffset":3236,"count":0}],"isBlockCoverage":true},{"functionName":"isDestroyed","ranges":[{"startOffset":3241,"endOffset":3504,"count":11},{"startOffset":3301,"endOffset":3313,"count":0},{"startOffset":3417,"endOffset":3426,"count":3},{"startOffset":3457,"endOffset":3480,"count":10},{"startOffset":3481,"endOffset":3500,"count":10}],"isBlockCoverage":true},{"functionName":"isWritableEnded","ranges":[{"startOffset":3528,"endOffset":3819,"count":3},{"startOffset":3600,"endOffset":3612,"count":0},{"startOffset":3650,"endOffset":3662,"count":0},{"startOffset":3726,"endOffset":3739,"count":0},{"startOffset":3782,"endOffset":3794,"count":0}],"isBlockCoverage":true},{"functionName":"isWritableFinished","ranges":[{"startOffset":3847,"endOffset":4244,"count":4},{"startOffset":3930,"endOffset":3983,"count":2},{"startOffset":3983,"endOffset":3995,"count":0},{"startOffset":3995,"endOffset":4057,"count":2},{"startOffset":4059,"endOffset":4072,"count":0},{"startOffset":4072,"endOffset":4102,"count":2},{"startOffset":4118,"endOffset":4130,"count":0},{"startOffset":4130,"endOffset":4237,"count":2},{"startOffset":4214,"endOffset":4236,"count":0}],"isBlockCoverage":true},{"functionName":"isReadableFinished","ranges":[{"startOffset":4599,"endOffset":4947,"count":12},{"startOffset":4682,"endOffset":4694,"count":0},{"startOffset":4758,"endOffset":4771,"count":0},{"startOffset":4819,"endOffset":4831,"count":0},{"startOffset":4892,"endOffset":4916,"count":4},{"startOffset":4917,"endOffset":4939,"count":0}],"isBlockCoverage":true},{"functionName":"isReadable","ranges":[{"startOffset":4949,"endOffset":5249,"count":7},{"startOffset":5024,"endOffset":5051,"count":0},{"startOffset":5097,"endOffset":5109,"count":0},{"startOffset":5137,"endOffset":5150,"count":0}],"isBlockCoverage":true},{"functionName":"isWritable","ranges":[{"startOffset":5251,"endOffset":5548,"count":6},{"startOffset":5326,"endOffset":5353,"count":0},{"startOffset":5399,"endOffset":5439,"count":3},{"startOffset":5439,"endOffset":5452,"count":0},{"startOffset":5452,"endOffset":5513,"count":3},{"startOffset":5514,"endOffset":5545,"count":3}],"isBlockCoverage":true},{"functionName":"isWritableErrored","ranges":[{"startOffset":5866,"endOffset":6078,"count":2},{"startOffset":5932,"endOffset":5954,"count":0},{"startOffset":5986,"endOffset":6026,"count":0},{"startOffset":6058,"endOffset":6067,"count":0}],"isBlockCoverage":true},{"functionName":"isReadableErrored","ranges":[{"startOffset":6080,"endOffset":6292,"count":2},{"startOffset":6146,"endOffset":6168,"count":0},{"startOffset":6200,"endOffset":6240,"count":0}],"isBlockCoverage":true},{"functionName":"isClosed","ranges":[{"startOffset":6294,"endOffset":6799,"count":4},{"startOffset":6351,"endOffset":6373,"count":0},{"startOffset":6448,"endOffset":6563,"count":0},{"startOffset":6578,"endOffset":6620,"count":0},{"startOffset":6625,"endOffset":6747,"count":0},{"startOffset":6749,"endOffset":6798,"count":0}],"isBlockCoverage":true},{"functionName":"willEmitClose","ranges":[{"startOffset":7374,"endOffset":7712,"count":4},{"startOffset":7436,"endOffset":7448,"count":0},{"startOffset":7553,"endOffset":7562,"count":2},{"startOffset":7582,"endOffset":7609,"count":0}],"isBlockCoverage":true}]},{"scriptId":"52","url":"node:internal/process/permission","functions":[{"functionName":"isEnabled","ranges":[{"startOffset":332,"endOffset":576,"count":42},{"startOffset":392,"endOffset":537,"count":1}],"isBlockCoverage":true}]},{"scriptId":"55","url":"node:internal/console/constructor","functions":[{"functionName":"value","ranges":[{"startOffset":5763,"endOffset":6408,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":5972,"endOffset":6067,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":6079,"endOffset":6109,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6239,"endOffset":6338,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":6350,"endOffset":6380,"count":0}],"isBlockCoverage":false},{"functionName":"initializeGlobalConsole","ranges":[{"startOffset":20356,"endOffset":21346,"count":1},{"startOffset":20675,"endOffset":21345,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21241,"endOffset":21342,"count":0}],"isBlockCoverage":false}]},{"scriptId":"57","url":"node:internal/event_target","functions":[{"functionName":"isEvent","ranges":[{"startOffset":2317,"endOffset":2389,"count":1402}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":2391,"endOffset":7263,"count":701}],"isBlockCoverage":false},{"functionName":"Event","ranges":[{"startOffset":2707,"endOffset":3185,"count":701},{"startOffset":2786,"endOffset":2821,"count":0},{"startOffset":2853,"endOffset":2888,"count":6},{"startOffset":2918,"endOffset":2927,"count":6},{"startOffset":2961,"endOffset":2973,"count":6},{"startOffset":3005,"endOffset":3015,"count":6},{"startOffset":3062,"endOffset":3077,"count":6},{"startOffset":3079,"endOffset":3116,"count":6}],"isBlockCoverage":true},{"functionName":"initEvent","ranges":[{"startOffset":3294,"endOffset":3580,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3584,"endOffset":4099,"count":0}],"isBlockCoverage":false},{"functionName":"stopImmediatePropagation","ranges":[{"startOffset":4103,"endOffset":4462,"count":0}],"isBlockCoverage":false},{"functionName":"preventDefault","ranges":[{"startOffset":4466,"endOffset":4590,"count":0}],"isBlockCoverage":false},{"functionName":"get target","ranges":[{"startOffset":4631,"endOffset":4742,"count":0}],"isBlockCoverage":false},{"functionName":"get currentTarget","ranges":[{"startOffset":4783,"endOffset":4935,"count":0}],"isBlockCoverage":false},{"functionName":"get srcElement","ranges":[{"startOffset":4976,"endOffset":5091,"count":0}],"isBlockCoverage":false},{"functionName":"get type","ranges":[{"startOffset":5127,"endOffset":5234,"count":701},{"startOffset":5170,"endOffset":5206,"count":0}],"isBlockCoverage":true},{"functionName":"get cancelable","ranges":[{"startOffset":5271,"endOffset":5389,"count":0}],"isBlockCoverage":false},{"functionName":"get defaultPrevented","ranges":[{"startOffset":5426,"endOffset":5576,"count":701},{"startOffset":5481,"endOffset":5517,"count":0},{"startOffset":5546,"endOffset":5571,"count":0}],"isBlockCoverage":true},{"functionName":"get timeStamp","ranges":[{"startOffset":5612,"endOffset":5728,"count":0}],"isBlockCoverage":false},{"functionName":"composedPath","ranges":[{"startOffset":5946,"endOffset":6093,"count":0}],"isBlockCoverage":false},{"functionName":"get returnValue","ranges":[{"startOffset":6130,"endOffset":6277,"count":0}],"isBlockCoverage":false},{"functionName":"get bubbles","ranges":[{"startOffset":6314,"endOffset":6426,"count":0}],"isBlockCoverage":false},{"functionName":"get composed","ranges":[{"startOffset":6463,"endOffset":6577,"count":0}],"isBlockCoverage":false},{"functionName":"get eventPhase","ranges":[{"startOffset":6613,"endOffset":6770,"count":0}],"isBlockCoverage":false},{"functionName":"get cancelBubble","ranges":[{"startOffset":6807,"endOffset":6935,"count":0}],"isBlockCoverage":false},{"functionName":"set cancelBubble","ranges":[{"startOffset":6972,"endOffset":7130,"count":0}],"isBlockCoverage":false},{"functionName":"stopPropagation","ranges":[{"startOffset":7134,"endOffset":7261,"count":0}],"isBlockCoverage":false},{"functionName":"Listener","ranges":[{"startOffset":10923,"endOffset":12387,"count":1409},{"startOffset":11258,"endOffset":11277,"count":7},{"startOffset":11301,"endOffset":11323,"count":0},{"startOffset":11347,"endOffset":11369,"count":0},{"startOffset":11405,"endOffset":11429,"count":1402},{"startOffset":11450,"endOffset":11469,"count":0},{"startOffset":11507,"endOffset":11543,"count":7},{"startOffset":11615,"endOffset":12071,"count":0},{"startOffset":12184,"endOffset":12383,"count":0}],"isBlockCoverage":true},{"functionName":"Listener.callback","ranges":[{"startOffset":12214,"endOffset":12344,"count":0}],"isBlockCoverage":false},{"functionName":"get once","ranges":[{"startOffset":12391,"endOffset":12451,"count":1}],"isBlockCoverage":true},{"functionName":"get capture","ranges":[{"startOffset":12454,"endOffset":12520,"count":7}],"isBlockCoverage":true},{"functionName":"get passive","ranges":[{"startOffset":12523,"endOffset":12589,"count":1}],"isBlockCoverage":true},{"functionName":"get isNodeStyleListener","ranges":[{"startOffset":12592,"endOffset":12672,"count":2}],"isBlockCoverage":true},{"functionName":"get weak","ranges":[{"startOffset":12675,"endOffset":12735,"count":1424}],"isBlockCoverage":true},{"functionName":"get removed","ranges":[{"startOffset":12835,"endOffset":12901,"count":1}],"isBlockCoverage":true},{"functionName":"set removed","ranges":[{"startOffset":12904,"endOffset":13021,"count":1416},{"startOffset":12946,"endOffset":12973,"count":7},{"startOffset":12973,"endOffset":13017,"count":1409}],"isBlockCoverage":true},{"functionName":"same","ranges":[{"startOffset":13025,"endOffset":13192,"count":7},{"startOffset":13084,"endOffset":13107,"count":0}],"isBlockCoverage":true},{"functionName":"remove","ranges":[{"startOffset":13196,"endOffset":13453,"count":7},{"startOffset":13321,"endOffset":13356,"count":0},{"startOffset":13407,"endOffset":13449,"count":0}],"isBlockCoverage":true},{"functionName":"initEventTarget","ranges":[{"startOffset":13457,"endOffset":13676,"count":708}],"isBlockCoverage":true},{"functionName":"EventTarget","ranges":[{"startOffset":13919,"endOffset":13965,"count":9}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13969,"endOffset":14825,"count":1409},{"startOffset":14130,"endOffset":14178,"count":0},{"startOffset":14180,"endOffset":14821,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14828,"endOffset":14879,"count":7}],"isBlockCoverage":true},{"functionName":"addEventListener","ranges":[{"startOffset":15268,"endOffset":18375,"count":1409},{"startOffset":15363,"endOffset":15405,"count":0},{"startOffset":15442,"endOffset":15489,"count":0},{"startOffset":16219,"endOffset":16621,"count":0},{"startOffset":16671,"endOffset":17124,"count":0},{"startOffset":17734,"endOffset":17924,"count":0},{"startOffset":17926,"endOffset":18374,"count":0}],"isBlockCoverage":true},{"functionName":"signal.addEventListener.__proto__","ranges":[{"startOffset":16446,"endOffset":16524,"count":0}],"isBlockCoverage":false},{"functionName":"removeEventListener","ranges":[{"startOffset":18533,"endOffset":19374,"count":7},{"startOffset":18631,"endOffset":18673,"count":0},{"startOffset":18710,"endOffset":18757,"count":0},{"startOffset":18806,"endOffset":18813,"count":0},{"startOffset":19012,"endOffset":19019,"count":0},{"startOffset":19334,"endOffset":19370,"count":0}],"isBlockCoverage":true},{"functionName":"dispatchEvent","ranges":[{"startOffset":20041,"endOffset":20502,"count":701},{"startOffset":20100,"endOffset":20142,"count":0},{"startOffset":20179,"endOffset":20215,"count":0},{"startOffset":20258,"endOffset":20314,"count":0},{"startOffset":20357,"endOffset":20399,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":20506,"endOffset":22802,"count":702},{"startOffset":20805,"endOffset":20881,"count":701},{"startOffset":20952,"endOffset":20978,"count":1},{"startOffset":20980,"endOffset":21080,"count":701},{"startOffset":21080,"endOffset":22727,"count":1},{"startOffset":21498,"endOffset":21507,"count":0},{"startOffset":21517,"endOffset":21550,"count":0},{"startOffset":21553,"endOffset":21883,"count":0},{"startOffset":21908,"endOffset":22078,"count":0},{"startOffset":22188,"endOffset":22236,"count":0},{"startOffset":22275,"endOffset":22311,"count":0},{"startOffset":22483,"endOffset":22541,"count":0},{"startOffset":22641,"endOffset":22698,"count":0},{"startOffset":22727,"endOffset":22764,"count":1},{"startOffset":22764,"endOffset":22798,"count":0}],"isBlockCoverage":true},{"functionName":"createEvent","ranges":[{"startOffset":20574,"endOffset":20774,"count":0}],"isBlockCoverage":false},{"functionName":"iterationCondition","ranges":[{"startOffset":21157,"endOffset":21322,"count":2},{"startOffset":21198,"endOffset":21288,"count":1},{"startOffset":21289,"endOffset":21315,"count":1},{"startOffset":21297,"endOffset":21306,"count":0}],"isBlockCoverage":true},{"functionName":"initNodeEventTarget","ranges":[{"startOffset":23607,"endOffset":23670,"count":699}],"isBlockCoverage":true},{"functionName":"on","ranges":[{"startOffset":25612,"endOffset":25817,"count":1402},{"startOffset":25673,"endOffset":25719,"count":0}],"isBlockCoverage":true},{"functionName":"validateEventListener","ranges":[{"startOffset":27682,"endOffset":28054,"count":1416},{"startOffset":27762,"endOffset":27814,"count":0},{"startOffset":27838,"endOffset":28053,"count":0}],"isBlockCoverage":true},{"functionName":"validateEventListenerOptions","ranges":[{"startOffset":28056,"endOffset":28614,"count":1409},{"startOffset":28145,"endOffset":28173,"count":0},{"startOffset":28203,"endOffset":28223,"count":0},{"startOffset":28533,"endOffset":28541,"count":1402}],"isBlockCoverage":true},{"functionName":"isEventTarget","ranges":[{"startOffset":28919,"endOffset":28995,"count":2117}],"isBlockCoverage":true},{"functionName":"isNodeEventTarget","ranges":[{"startOffset":28997,"endOffset":29081,"count":1402}],"isBlockCoverage":true},{"functionName":"addCatch","ranges":[{"startOffset":29083,"endOffset":29397,"count":1},{"startOffset":29175,"endOffset":29395,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29229,"endOffset":29389,"count":0}],"isBlockCoverage":false},{"functionName":"defineEventHandler","ranges":[{"startOffset":29893,"endOffset":31359,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":30053,"endOffset":30189,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":30288,"endOffset":31126,"count":0}],"isBlockCoverage":false},{"functionName":"EventEmitterMixin","ranges":[{"startOffset":31387,"endOffset":32077,"count":1},{"startOffset":31818,"endOffset":31980,"count":18}],"isBlockCoverage":true},{"functionName":"MixedEventEmitter","ranges":[{"startOffset":31456,"endOffset":31597,"count":14}],"isBlockCoverage":true}]},{"scriptId":"58","url":"node:internal/webidl","functions":[{"functionName":"DOMString","ranges":[{"startOffset":4438,"endOffset":4568,"count":1416},{"startOffset":4491,"endOffset":4545,"count":0}],"isBlockCoverage":true}]},{"scriptId":"61","url":"node:internal/bootstrap/switches/is_main_thread","functions":[{"functionName":"createWritableStdioStream","ranges":[{"startOffset":1424,"endOffset":3026,"count":2},{"startOffset":1576,"endOffset":1710,"count":0},{"startOffset":1716,"endOffset":1910,"count":0},{"startOffset":2217,"endOffset":2245,"count":0},{"startOffset":2247,"endOffset":2468,"count":0},{"startOffset":2651,"endOffset":2905,"count":0}],"isBlockCoverage":true},{"functionName":"write","ranges":[{"startOffset":2841,"endOffset":2888,"count":0}],"isBlockCoverage":false},{"functionName":"addCleanup","ranges":[{"startOffset":3639,"endOffset":3730,"count":2},{"startOffset":3693,"endOffset":3728,"count":0}],"isBlockCoverage":true},{"functionName":"getStdout","ranges":[{"startOffset":3732,"endOffset":4424,"count":8},{"startOffset":3769,"endOffset":3783,"count":7},{"startOffset":3783,"endOffset":4017,"count":1},{"startOffset":4017,"endOffset":4075,"count":0},{"startOffset":4075,"endOffset":4423,"count":1}],"isBlockCoverage":true},{"functionName":"cleanupStdout","ranges":[{"startOffset":4090,"endOffset":4268,"count":0}],"isBlockCoverage":false},{"functionName":"getStderr","ranges":[{"startOffset":4426,"endOffset":5117,"count":6},{"startOffset":4463,"endOffset":4477,"count":5},{"startOffset":4477,"endOffset":4711,"count":1},{"startOffset":4711,"endOffset":4769,"count":0},{"startOffset":4769,"endOffset":5116,"count":1}],"isBlockCoverage":true},{"functionName":"cleanupStderr","ranges":[{"startOffset":4783,"endOffset":4961,"count":0}],"isBlockCoverage":false}]},{"scriptId":"62","url":"node:internal/v8/startup_snapshot","functions":[{"functionName":"isBuildingSnapshot","ranges":[{"startOffset":433,"endOffset":504,"count":7}],"isBlockCoverage":false},{"functionName":"throwIfBuildingSnapshot","ranges":[{"startOffset":627,"endOffset":758,"count":1},{"startOffset":698,"endOffset":756,"count":0}],"isBlockCoverage":true},{"functionName":"runDeserializeCallbacks","ranges":[{"startOffset":831,"endOffset":1004,"count":1},{"startOffset":910,"endOffset":1002,"count":0}],"isBlockCoverage":true}]},{"scriptId":"63","url":"node:internal/process/signal","functions":[{"functionName":"isSignal","ranges":[{"startOffset":238,"endOffset":334,"count":5}],"isBlockCoverage":false},{"functionName":"startListeningIfSignal","ranges":[{"startOffset":398,"endOffset":908,"count":5}],"isBlockCoverage":false},{"functionName":"stopListeningIfSignal","ranges":[{"startOffset":910,"endOffset":1105,"count":4},{"startOffset":1012,"endOffset":1048,"count":0},{"startOffset":1050,"endOffset":1103,"count":0}],"isBlockCoverage":true}]},{"scriptId":"65","url":"node:internal/modules/cjs/loader","functions":[{"functionName":"","ranges":[{"startOffset":4729,"endOffset":4820,"count":1},{"startOffset":4776,"endOffset":4812,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4869,"endOffset":4912,"count":1}],"isBlockCoverage":true},{"functionName":"internalRequire","ranges":[{"startOffset":5828,"endOffset":6153,"count":1},{"startOffset":5912,"endOffset":6030,"count":0}],"isBlockCoverage":true},{"functionName":"stat","ranges":[{"startOffset":6291,"endOffset":6832,"count":194},{"startOffset":6516,"endOffset":6614,"count":114},{"startOffset":6592,"endOffset":6610,"count":15},{"startOffset":6614,"endOffset":6687,"count":179},{"startOffset":6687,"endOffset":6701,"count":99},{"startOffset":6703,"endOffset":6813,"count":22},{"startOffset":6813,"endOffset":6831,"count":179}],"isBlockCoverage":true},{"functionName":"updateChildren","ranges":[{"startOffset":7323,"endOffset":7525,"count":77},{"startOffset":7395,"endOffset":7405,"count":65},{"startOffset":7422,"endOffset":7475,"count":65},{"startOffset":7432,"endOffset":7474,"count":36},{"startOffset":7477,"endOffset":7523,"count":65}],"isBlockCoverage":true},{"functionName":"reportModuleToWatchMode","ranges":[{"startOffset":7642,"endOffset":7798,"count":162},{"startOffset":7723,"endOffset":7738,"count":0},{"startOffset":7740,"endOffset":7796,"count":0}],"isBlockCoverage":true},{"functionName":"reportModuleNotFoundToWatchMode","ranges":[{"startOffset":7982,"endOffset":8221,"count":6},{"startOffset":8083,"endOffset":8098,"count":0},{"startOffset":8100,"endOffset":8219,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8168,"endOffset":8210,"count":0}],"isBlockCoverage":false},{"functionName":"Module","ranges":[{"startOffset":8312,"endOffset":9062,"count":38},{"startOffset":8618,"endOffset":8628,"count":0},{"startOffset":8646,"endOffset":9010,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11045,"endOffset":11070,"count":1}],"isBlockCoverage":true},{"functionName":"initializeCJS","ranges":[{"startOffset":11790,"endOffset":12290,"count":1}],"isBlockCoverage":true},{"functionName":"tryPackage","ranges":[{"startOffset":13174,"endOffset":14453,"count":4},{"startOffset":13296,"endOffset":13471,"count":2},{"startOffset":13471,"endOffset":13515,"count":0},{"startOffset":13516,"endOffset":13583,"count":0},{"startOffset":13609,"endOffset":14434,"count":0},{"startOffset":14434,"endOffset":14452,"count":2}],"isBlockCoverage":true},{"functionName":"tryFile","ranges":[{"startOffset":14814,"endOffset":15077,"count":76},{"startOffset":14903,"endOffset":14914,"count":54},{"startOffset":14914,"endOffset":14943,"count":22},{"startOffset":14943,"endOffset":14971,"count":0},{"startOffset":14972,"endOffset":14995,"count":22},{"startOffset":14998,"endOffset":15041,"count":0},{"startOffset":15041,"endOffset":15076,"count":22}],"isBlockCoverage":true},{"functionName":"tryExtensions","ranges":[{"startOffset":15342,"endOffset":15562,"count":27},{"startOffset":15431,"endOffset":15544,"count":71},{"startOffset":15510,"endOffset":15540,"count":17},{"startOffset":15544,"endOffset":15561,"count":10}],"isBlockCoverage":true},{"functionName":"findLongestRegisteredExtension","ranges":[{"startOffset":15746,"endOffset":16222,"count":35},{"startOffset":16021,"endOffset":16034,"count":0},{"startOffset":16172,"endOffset":16200,"count":23},{"startOffset":16204,"endOffset":16221,"count":12}],"isBlockCoverage":true},{"functionName":"trySelfParentPath","ranges":[{"startOffset":16345,"endOffset":16638,"count":44},{"startOffset":16397,"endOffset":16414,"count":3},{"startOffset":16414,"endOffset":16439,"count":41},{"startOffset":16439,"endOffset":16472,"count":40},{"startOffset":16472,"endOffset":16636,"count":1},{"startOffset":16599,"endOffset":16632,"count":0}],"isBlockCoverage":true},{"functionName":"trySelf","ranges":[{"startOffset":16846,"endOffset":17774,"count":44},{"startOffset":16905,"endOffset":16922,"count":3},{"startOffset":16922,"endOffset":17044,"count":41},{"startOffset":17045,"endOffset":17070,"count":32},{"startOffset":17072,"endOffset":17095,"count":9},{"startOffset":17095,"endOffset":17142,"count":32},{"startOffset":17142,"endOffset":17168,"count":0},{"startOffset":17168,"endOffset":17334,"count":32},{"startOffset":17230,"endOffset":17305,"count":0},{"startOffset":17334,"endOffset":17772,"count":0}],"isBlockCoverage":true},{"functionName":"resolveExports","ranges":[{"startOffset":18122,"endOffset":18940,"count":44},{"startOffset":18329,"endOffset":18344,"count":31},{"startOffset":18359,"endOffset":18370,"count":31},{"startOffset":18370,"endOffset":18471,"count":13},{"startOffset":18471,"endOffset":18493,"count":7},{"startOffset":18495,"endOffset":18938,"count":3},{"startOffset":18775,"endOffset":18934,"count":0}],"isBlockCoverage":true},{"functionName":"getDefaultExtensions","ranges":[{"startOffset":19002,"endOffset":19111,"count":21}],"isBlockCoverage":true},{"functionName":"Module._findPath","ranges":[{"startOffset":19404,"endOffset":22962,"count":45},{"startOffset":19514,"endOffset":19537,"count":5},{"startOffset":19537,"endOffset":19600,"count":40},{"startOffset":19577,"endOffset":19600,"count":0},{"startOffset":19733,"endOffset":19756,"count":0},{"startOffset":19978,"endOffset":20332,"count":0},{"startOffset":20394,"endOffset":20548,"count":31},{"startOffset":20511,"endOffset":20544,"count":7},{"startOffset":20610,"endOffset":22943,"count":84},{"startOffset":20729,"endOffset":20810,"count":0},{"startOffset":20830,"endOffset":20840,"count":77},{"startOffset":20841,"endOffset":20862,"count":72},{"startOffset":20864,"endOffset":20887,"count":35},{"startOffset":20887,"endOffset":20915,"count":49},{"startOffset":20915,"endOffset":21055,"count":44},{"startOffset":21008,"endOffset":21049,"count":3},{"startOffset":21055,"endOffset":22418,"count":46},{"startOffset":21207,"endOffset":22191,"count":21},{"startOffset":21240,"endOffset":21429,"count":20},{"startOffset":21295,"endOffset":21355,"count":0},{"startOffset":21429,"endOffset":22183,"count":1},{"startOffset":21483,"endOffset":22123,"count":0},{"startOffset":22214,"endOffset":22412,"count":25},{"startOffset":22294,"endOffset":22346,"count":21},{"startOffset":22418,"endOffset":22438,"count":46},{"startOffset":22438,"endOffset":22449,"count":10},{"startOffset":22451,"endOffset":22669,"count":4},{"startOffset":22553,"endOffset":22601,"count":0},{"startOffset":22669,"endOffset":22689,"count":46},{"startOffset":22689,"endOffset":22765,"count":40},{"startOffset":22765,"endOffset":22943,"count":6},{"startOffset":22943,"endOffset":22961,"count":2}],"isBlockCoverage":true},{"functionName":"Module._nodeModulePaths","ranges":[{"startOffset":25039,"endOffset":26227,"count":44},{"startOffset":25311,"endOffset":25350,"count":0},{"startOffset":25671,"endOffset":26105,"count":4171},{"startOffset":25767,"endOffset":25975,"count":473},{"startOffset":25794,"endOffset":25934,"count":389},{"startOffset":25975,"endOffset":26099,"count":3698},{"startOffset":25995,"endOffset":26099,"count":1419},{"startOffset":26030,"endOffset":26056,"count":1030},{"startOffset":26056,"endOffset":26091,"count":389}],"isBlockCoverage":true},{"functionName":"Module._resolveLookupPaths","ranges":[{"startOffset":26362,"endOffset":27649,"count":44},{"startOffset":26442,"endOffset":26508,"count":0},{"startOffset":26593,"endOffset":26792,"count":31},{"startOffset":26673,"endOffset":26723,"count":24},{"startOffset":26724,"endOffset":26791,"count":0},{"startOffset":26794,"endOffset":27121,"count":13},{"startOffset":26854,"endOffset":26869,"count":10},{"startOffset":26871,"endOffset":26981,"count":10},{"startOffset":26981,"endOffset":27021,"count":3},{"startOffset":27110,"endOffset":27116,"count":0},{"startOffset":27121,"endOffset":27189,"count":31},{"startOffset":27190,"endOffset":27209,"count":31},{"startOffset":27211,"endOffset":27460,"count":0},{"startOffset":27460,"endOffset":27648,"count":31}],"isBlockCoverage":true},{"functionName":"Module._load","ranges":[{"startOffset":30771,"endOffset":34649,"count":136},{"startOffset":30854,"endOffset":31682,"count":133},{"startOffset":31313,"endOffset":31678,"count":26},{"startOffset":31493,"endOffset":31565,"count":0},{"startOffset":31610,"endOffset":31678,"count":0},{"startOffset":31682,"endOffset":31735,"count":110},{"startOffset":31735,"endOffset":32007,"count":29},{"startOffset":31864,"endOffset":31924,"count":0},{"startOffset":32007,"endOffset":32160,"count":81},{"startOffset":32160,"endOffset":33086,"count":13},{"startOffset":32239,"endOffset":32281,"count":7},{"startOffset":32281,"endOffset":32494,"count":6},{"startOffset":32494,"endOffset":32558,"count":0},{"startOffset":32558,"endOffset":32861,"count":6},{"startOffset":32861,"endOffset":32925,"count":0},{"startOffset":32925,"endOffset":33086,"count":6},{"startOffset":33086,"endOffset":33146,"count":73},{"startOffset":33146,"endOffset":33229,"count":38},{"startOffset":33229,"endOffset":33328,"count":35},{"startOffset":33328,"endOffset":33359,"count":29},{"startOffset":33383,"endOffset":33760,"count":29},{"startOffset":33401,"endOffset":33586,"count":0},{"startOffset":33760,"endOffset":33790,"count":35},{"startOffset":33790,"endOffset":33859,"count":32},{"startOffset":33859,"endOffset":34621,"count":35},{"startOffset":33964,"endOffset":34367,"count":0},{"startOffset":34549,"endOffset":34617,"count":0},{"startOffset":34621,"endOffset":34648,"count":35}],"isBlockCoverage":true},{"functionName":"Module._resolveFilename","ranges":[{"startOffset":35111,"endOffset":37997,"count":82},{"startOffset":35208,"endOffset":35233,"count":38},{"startOffset":35233,"endOffset":35283,"count":44},{"startOffset":35283,"endOffset":35302,"count":0},{"startOffset":35304,"endOffset":36155,"count":0},{"startOffset":36155,"endOffset":36250,"count":44},{"startOffset":36250,"endOffset":36298,"count":0},{"startOffset":36300,"endOffset":36942,"count":0},{"startOffset":36942,"endOffset":37103,"count":44},{"startOffset":37103,"endOffset":37299,"count":0},{"startOffset":37299,"endOffset":37439,"count":44},{"startOffset":37439,"endOffset":37459,"count":42},{"startOffset":37459,"endOffset":37563,"count":2},{"startOffset":37563,"endOffset":37636,"count":6},{"startOffset":37618,"endOffset":37630,"count":0},{"startOffset":37636,"endOffset":37996,"count":2}],"isBlockCoverage":true},{"functionName":"finalizeEsmResolution","ranges":[{"startOffset":38424,"endOffset":39005,"count":3},{"startOffset":38622,"endOffset":38751,"count":0},{"startOffset":38870,"endOffset":39004,"count":0}],"isBlockCoverage":true},{"functionName":"Module.load","ranges":[{"startOffset":39654,"endOffset":40155,"count":35}],"isBlockCoverage":true},{"functionName":"Module.require","ranges":[{"startOffset":40442,"endOffset":40741,"count":132},{"startOffset":40502,"endOffset":40620,"count":0}],"isBlockCoverage":true},{"functionName":"wrapSafe","ranges":[{"startOffset":46332,"endOffset":48339,"count":33},{"startOffset":46625,"endOffset":47497,"count":0},{"startOffset":47562,"endOffset":48020,"count":22},{"startOffset":47608,"endOffset":47770,"count":0},{"startOffset":48212,"endOffset":48319,"count":5}],"isBlockCoverage":true},{"functionName":"Module._compile","ranges":[{"startOffset":48783,"endOffset":50211,"count":33},{"startOffset":48882,"endOffset":48892,"count":0},{"startOffset":48910,"endOffset":49063,"count":0},{"startOffset":49248,"endOffset":49280,"count":0},{"startOffset":49313,"endOffset":49383,"count":0},{"startOffset":49607,"endOffset":49637,"count":3},{"startOffset":49728,"endOffset":49762,"count":0},{"startOffset":49764,"endOffset":49975,"count":0},{"startOffset":50171,"endOffset":50192,"count":3}],"isBlockCoverage":true},{"functionName":"loadSource","ranges":[{"startOffset":50575,"endOffset":51018,"count":12},{"startOffset":50664,"endOffset":50704,"count":11},{"startOffset":50800,"endOffset":50841,"count":0}],"isBlockCoverage":true},{"functionName":"Module._extensions..js","ranges":[{"startOffset":53044,"endOffset":53946,"count":12},{"startOffset":53141,"endOffset":53171,"count":11},{"startOffset":53171,"endOffset":53554,"count":1},{"startOffset":53224,"endOffset":53252,"count":0},{"startOffset":53361,"endOffset":53383,"count":0},{"startOffset":53513,"endOffset":53550,"count":0},{"startOffset":53753,"endOffset":53804,"count":0},{"startOffset":53806,"endOffset":53893,"count":0}],"isBlockCoverage":true},{"functionName":"Module._extensions..json","ranges":[{"startOffset":54128,"endOffset":54534,"count":1},{"startOffset":54238,"endOffset":54248,"count":0},{"startOffset":54266,"endOffset":54368,"count":0},{"startOffset":54451,"endOffset":54532,"count":0}],"isBlockCoverage":true},{"functionName":"Module._extensions..node","ranges":[{"startOffset":54716,"endOffset":55058,"count":1},{"startOffset":54772,"endOffset":54782,"count":0},{"startOffset":54800,"endOffset":54949,"count":0}],"isBlockCoverage":true},{"functionName":"createRequireFromPath","ranges":[{"startOffset":55210,"endOffset":55671,"count":2},{"startOffset":55390,"endOffset":55432,"count":0},{"startOffset":55470,"endOffset":55506,"count":0}],"isBlockCoverage":true},{"functionName":"createRequire","ranges":[{"startOffset":56097,"endOffset":56642,"count":2},{"startOffset":56302,"endOffset":56434,"count":0},{"startOffset":56438,"endOffset":56598,"count":0}],"isBlockCoverage":true},{"functionName":"isRelative","ranges":[{"startOffset":56792,"endOffset":57133,"count":45},{"startOffset":56875,"endOffset":56892,"count":14},{"startOffset":56892,"endOffset":56937,"count":31},{"startOffset":56938,"endOffset":56980,"count":31},{"startOffset":56981,"endOffset":57024,"count":7},{"startOffset":57025,"endOffset":57130,"count":0}],"isBlockCoverage":true},{"functionName":"Module._initPaths","ranges":[{"startOffset":57253,"endOffset":58218,"count":1},{"startOffset":57294,"endOffset":57319,"count":0},{"startOffset":57371,"endOffset":57394,"count":0},{"startOffset":57602,"endOffset":57644,"count":0},{"startOffset":57943,"endOffset":58085,"count":0}],"isBlockCoverage":true},{"functionName":"Module._preloadModules","ranges":[{"startOffset":58352,"endOffset":58949,"count":1},{"startOffset":58404,"endOffset":58415,"count":0},{"startOffset":58736,"endOffset":58831,"count":0}],"isBlockCoverage":true}]},{"scriptId":"66","url":"node:internal/modules/package_json_reader","functions":[{"functionName":"read","ranges":[{"startOffset":1112,"endOffset":3862,"count":144},{"startOffset":1208,"endOffset":1245,"count":118},{"startOffset":1245,"endOffset":1922,"count":26},{"startOffset":1922,"endOffset":1931,"count":0},{"startOffset":1932,"endOffset":1946,"count":0},{"startOffset":1947,"endOffset":1969,"count":26},{"startOffset":1993,"endOffset":3812,"count":13},{"startOffset":2061,"endOffset":2657,"count":0},{"startOffset":2947,"endOffset":2981,"count":7},{"startOffset":2983,"endOffset":3023,"count":7},{"startOffset":3083,"endOffset":3129,"count":5},{"startOffset":3189,"endOffset":3235,"count":3},{"startOffset":3346,"endOffset":3405,"count":5},{"startOffset":3407,"endOffset":3447,"count":5},{"startOffset":3481,"endOffset":3677,"count":1},{"startOffset":3602,"endOffset":3655,"count":0},{"startOffset":3705,"endOffset":3808,"count":0},{"startOffset":3812,"endOffset":3861,"count":26}],"isBlockCoverage":true},{"functionName":"readPackage","ranges":[{"startOffset":3930,"endOffset":4020,"count":107}],"isBlockCoverage":true},{"functionName":"readPackageScope","ranges":[{"startOffset":4237,"endOffset":5057,"count":42},{"startOffset":4424,"endOffset":4994,"count":90},{"startOffset":4673,"endOffset":4719,"count":0},{"startOffset":4721,"endOffset":4748,"count":0},{"startOffset":4815,"endOffset":4842,"count":0},{"startOffset":4913,"endOffset":4990,"count":42},{"startOffset":4994,"endOffset":5056,"count":0}],"isBlockCoverage":true}]},{"scriptId":"67","url":"node:internal/modules/esm/utils","functions":[{"functionName":"getDefaultConditions","ranges":[{"startOffset":1284,"endOffset":1390,"count":45}],"isBlockCoverage":true},{"functionName":"getDefaultConditionsSet","ranges":[{"startOffset":1520,"endOffset":1635,"count":44}],"isBlockCoverage":true},{"functionName":"initializeDefaultConditions","ranges":[{"startOffset":1785,"endOffset":2290,"count":1},{"startOffset":1968,"endOffset":1972,"count":0},{"startOffset":2085,"endOffset":2089,"count":0}],"isBlockCoverage":true},{"functionName":"getConditionsSet","ranges":[{"startOffset":2360,"endOffset":2719,"count":44},{"startOffset":2473,"endOffset":2681,"count":0}],"isBlockCoverage":true},{"functionName":"defaultInitializeImportMetaForModule","ranges":[{"startOffset":5914,"endOffset":6143,"count":4}],"isBlockCoverage":true},{"functionName":"initializeImportMetaObject","ranges":[{"startOffset":6457,"endOffset":6912,"count":4},{"startOffset":6635,"endOffset":6910,"count":0}],"isBlockCoverage":true},{"functionName":"defaultImportModuleDynamicallyForModule","ranges":[{"startOffset":7323,"endOffset":7578,"count":1}],"isBlockCoverage":true},{"functionName":"importModuleDynamicallyCallback","ranges":[{"startOffset":8917,"endOffset":10394,"count":1},{"startOffset":9212,"endOffset":9373,"count":0},{"startOffset":9598,"endOffset":9692,"count":0},{"startOffset":9933,"endOffset":10393,"count":0}],"isBlockCoverage":true},{"functionName":"initializeESM","ranges":[{"startOffset":10706,"endOffset":11092,"count":1}],"isBlockCoverage":true},{"functionName":"forceDefaultLoader","ranges":[{"startOffset":11220,"endOffset":11283,"count":1}],"isBlockCoverage":true},{"functionName":"compileSourceTextModule","ranges":[{"startOffset":12924,"endOffset":13385,"count":98},{"startOffset":13064,"endOffset":13075,"count":0},{"startOffset":13181,"endOffset":13203,"count":0},{"startOffset":13282,"endOffset":13368,"count":83}],"isBlockCoverage":true}]},{"scriptId":"68","url":"node:internal/process/pre_execution","functions":[{"functionName":"prepareMainThreadExecution","ranges":[{"startOffset":1060,"endOffset":1244,"count":1}],"isBlockCoverage":true},{"functionName":"prepareExecution","ranges":[{"startOffset":2474,"endOffset":4718,"count":1},{"startOffset":3485,"endOffset":3589,"count":0},{"startOffset":4477,"endOffset":4639,"count":0}],"isBlockCoverage":true},{"functionName":"setupSymbolDisposePolyfill","ranges":[{"startOffset":4720,"endOffset":5455,"count":1}],"isBlockCoverage":true},{"functionName":"setupUserModules","ranges":[{"startOffset":5457,"endOffset":6205,"count":1},{"startOffset":5827,"endOffset":5858,"count":0}],"isBlockCoverage":true},{"functionName":"refreshRuntimeOptions","ranges":[{"startOffset":6207,"endOffset":6263,"count":1}],"isBlockCoverage":true},{"functionName":"patchProcessObject","ranges":[{"startOffset":6690,"endOffset":9027,"count":1},{"startOffset":7675,"endOffset":7727,"count":0}],"isBlockCoverage":true},{"functionName":"addReadOnlyProcessAlias","ranges":[{"startOffset":9029,"endOffset":9310,"count":13},{"startOffset":9150,"endOffset":9308,"count":1}],"isBlockCoverage":true},{"functionName":"setupWarningHandler","ranges":[{"startOffset":9312,"endOffset":9832,"count":1},{"startOffset":9687,"endOffset":9826,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9716,"endOffset":9818,"count":0}],"isBlockCoverage":false},{"functionName":"setupUndici","ranges":[{"startOffset":9907,"endOffset":10326,"count":1},{"startOffset":9981,"endOffset":10141,"count":0},{"startOffset":10235,"endOffset":10324,"count":0}],"isBlockCoverage":true},{"functionName":"setupEventsource","ranges":[{"startOffset":10394,"endOffset":10519,"count":1}],"isBlockCoverage":true},{"functionName":"setupWebCrypto","ranges":[{"startOffset":10623,"endOffset":11575,"count":1},{"startOffset":10758,"endOffset":10775,"count":0},{"startOffset":11264,"endOffset":11573,"count":0}],"isBlockCoverage":true},{"functionName":"cryptoThisCheck","ranges":[{"startOffset":10949,"endOffset":11125,"count":0}],"isBlockCoverage":false},{"functionName":"get crypto","ranges":[{"startOffset":11426,"endOffset":11525,"count":0}],"isBlockCoverage":false},{"functionName":"setupCodeCoverage","ranges":[{"startOffset":11577,"endOffset":12098,"count":1}],"isBlockCoverage":true},{"functionName":"setupCustomEvent","ranges":[{"startOffset":12204,"endOffset":12481,"count":1},{"startOffset":12343,"endOffset":12360,"count":0}],"isBlockCoverage":true},{"functionName":"setupStacktracePrinterOnSigint","ranges":[{"startOffset":12483,"endOffset":12708,"count":1},{"startOffset":12585,"endOffset":12707,"count":0}],"isBlockCoverage":true},{"functionName":"initializeReport","ranges":[{"startOffset":12710,"endOffset":12959,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":12855,"endOffset":12950,"count":0}],"isBlockCoverage":false},{"functionName":"setupDebugEnv","ranges":[{"startOffset":12961,"endOffset":13192,"count":1},{"startOffset":13112,"endOffset":13190,"count":0}],"isBlockCoverage":true},{"functionName":"initializeReportSignalHandlers","ranges":[{"startOffset":13254,"endOffset":13442,"count":1},{"startOffset":13342,"endOffset":13440,"count":0}],"isBlockCoverage":true},{"functionName":"initializeHeapSnapshotSignalHandlers","ranges":[{"startOffset":13444,"endOffset":14178,"count":1},{"startOffset":13639,"endOffset":14176,"count":0}],"isBlockCoverage":true},{"functionName":"doWriteHeapSnapshot","ranges":[{"startOffset":13752,"endOffset":13906,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":14098,"endOffset":14170,"count":0}],"isBlockCoverage":false},{"functionName":"setupTraceCategoryState","ranges":[{"startOffset":14180,"endOffset":14439,"count":1}],"isBlockCoverage":true},{"functionName":"setupInspectorHooks","ranges":[{"startOffset":14441,"endOffset":15023,"count":1}],"isBlockCoverage":true},{"functionName":"setupNetworkInspection","ranges":[{"startOffset":15025,"endOffset":15338,"count":1},{"startOffset":15162,"endOffset":15336,"count":0}],"isBlockCoverage":true},{"functionName":"initializeDeprecations","ranges":[{"startOffset":15533,"endOffset":17485,"count":1},{"startOffset":16245,"endOffset":16547,"count":16},{"startOffset":16290,"endOffset":16522,"count":0},{"startOffset":16864,"endOffset":17061,"count":0},{"startOffset":17089,"endOffset":17483,"count":0}],"isBlockCoverage":true},{"functionName":"setupChildProcessIpcChannel","ranges":[{"startOffset":17487,"endOffset":18052,"count":1},{"startOffset":17563,"endOffset":18050,"count":0}],"isBlockCoverage":true},{"functionName":"initializeClusterIPC","ranges":[{"startOffset":18054,"endOffset":18324,"count":1},{"startOffset":18141,"endOffset":18322,"count":0}],"isBlockCoverage":true},{"functionName":"initializePermission","ranges":[{"startOffset":18326,"endOffset":20323,"count":1},{"startOffset":18468,"endOffset":19897,"count":0}],"isBlockCoverage":true},{"functionName":"binding","ranges":[{"startOffset":18492,"endOffset":18579,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20155,"endOffset":20315,"count":6},{"startOffset":20233,"endOffset":20309,"count":0}],"isBlockCoverage":true},{"functionName":"readPolicyFromDisk","ranges":[{"startOffset":20325,"endOffset":22144,"count":1},{"startOffset":20453,"endOffset":22142,"count":0}],"isBlockCoverage":true},{"functionName":"initializeCJSLoader","ranges":[{"startOffset":22146,"endOffset":22267,"count":1}],"isBlockCoverage":true},{"functionName":"initializeESMLoader","ranges":[{"startOffset":22269,"endOffset":22852,"count":1},{"startOffset":22605,"endOffset":22850,"count":0}],"isBlockCoverage":true},{"functionName":"initializeSourceMapsHandlers","ranges":[{"startOffset":22854,"endOffset":23052,"count":1}],"isBlockCoverage":true},{"functionName":"initializeFrozenIntrinsics","ranges":[{"startOffset":23054,"endOffset":23241,"count":1},{"startOffset":23139,"endOffset":23239,"count":0}],"isBlockCoverage":true},{"functionName":"loadPreloadModules","ranges":[{"startOffset":23348,"endOffset":23696,"count":1}],"isBlockCoverage":true},{"functionName":"markBootstrapComplete","ranges":[{"startOffset":23698,"endOffset":23792,"count":1}],"isBlockCoverage":true}]},{"scriptId":"70","url":"node:internal/modules/run_main","functions":[{"functionName":"resolveMainPath","ranges":[{"startOffset":569,"endOffset":1672,"count":1},{"startOffset":743,"endOffset":847,"count":0},{"startOffset":1140,"endOffset":1151,"count":0},{"startOffset":1378,"endOffset":1646,"count":0}],"isBlockCoverage":true},{"functionName":"shouldUseESMLoader","ranges":[{"startOffset":1833,"endOffset":3041,"count":1},{"startOffset":1939,"endOffset":1955,"count":0},{"startOffset":2445,"endOffset":2559,"count":0},{"startOffset":2561,"endOffset":2638,"count":0},{"startOffset":2640,"endOffset":2873,"count":0},{"startOffset":2881,"endOffset":2914,"count":0},{"startOffset":2919,"endOffset":2955,"count":0},{"startOffset":2960,"endOffset":3035,"count":0}],"isBlockCoverage":true},{"functionName":"asyncRunEntryPointWithESMLoader","ranges":[{"startOffset":3410,"endOffset":4240,"count":1},{"startOffset":3887,"endOffset":3939,"count":0},{"startOffset":3980,"endOffset":4180,"count":0}],"isBlockCoverage":true},{"functionName":"runEntryPointWithESMLoader","ranges":[{"startOffset":4624,"endOffset":4752,"count":1}],"isBlockCoverage":true},{"functionName":"executeUserEntryPoint","ranges":[{"startOffset":5520,"endOffset":6505,"count":1},{"startOffset":5952,"endOffset":6089,"count":0},{"startOffset":6131,"endOffset":6138,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6257,"endOffset":6497,"count":1}],"isBlockCoverage":true}]},{"scriptId":"71","url":"node:internal/dns/utils","functions":[{"functionName":"initializeDns","ranges":[{"startOffset":5564,"endOffset":6021,"count":1},{"startOffset":5707,"endOffset":5888,"count":0},{"startOffset":5936,"endOffset":6020,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5961,"endOffset":6017,"count":0}],"isBlockCoverage":false}]},{"scriptId":"73","url":"node:internal/bootstrap/switches/does_own_process_state","functions":[{"functionName":"wrappedCwd","ranges":[{"startOffset":3781,"endOffset":3884,"count":12},{"startOffset":3833,"endOffset":3862,"count":1}],"isBlockCoverage":true}]},{"scriptId":"80","url":"node:internal/main/run_main_module","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1182,"count":1}],"isBlockCoverage":false}]},{"scriptId":"81","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/preflight.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1008,"count":1}],"isBlockCoverage":true},{"functionName":"i","ranges":[{"startOffset":47,"endOffset":91,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":377,"endOffset":821,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":897,"endOffset":1002,"count":1},{"startOffset":943,"endOffset":1001,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":968,"endOffset":1000,"count":0}],"isBlockCoverage":false}]},{"scriptId":"82","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/get-pipe-path-BoR10qr8.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":435,"count":1},{"startOffset":208,"endOffset":231,"count":0}],"isBlockCoverage":true},{"functionName":"t","ranges":[{"startOffset":47,"endOffset":91,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":286,"endOffset":358,"count":1},{"startOffset":335,"endOffset":355,"count":0}],"isBlockCoverage":true}]},{"scriptId":"83","url":"node:module","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":397,"count":1}],"isBlockCoverage":false}]},{"scriptId":"84","url":"node:internal/modules/esm/loader","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":38509,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1407,"endOffset":1432,"count":0}],"isBlockCoverage":false},{"functionName":"newResolveCache","ranges":[{"startOffset":1747,"endOffset":1877,"count":1}],"isBlockCoverage":true},{"functionName":"newLoadCache","ranges":[{"startOffset":2031,"endOffset":2152,"count":1}],"isBlockCoverage":true},{"functionName":"getTranslators","ranges":[{"startOffset":2314,"endOffset":2436,"count":120}],"isBlockCoverage":true},{"functionName":"getRaceMessage","ranges":[{"startOffset":2757,"endOffset":3221,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":3975,"endOffset":31184,"count":1}],"isBlockCoverage":false},{"functionName":"ModuleLoader","ranges":[{"startOffset":5085,"endOffset":5278,"count":1},{"startOffset":5173,"endOffset":5230,"count":0}],"isBlockCoverage":true},{"functionName":"setCustomizations","ranges":[{"startOffset":6834,"endOffset":7078,"count":2},{"startOffset":6937,"endOffset":7074,"count":1}],"isBlockCoverage":true},{"functionName":"eval","ranges":[{"startOffset":7082,"endOffset":7505,"count":0}],"isBlockCoverage":false},{"functionName":"getModuleJobForImport","ranges":[{"startOffset":8133,"endOffset":8385,"count":335}],"isBlockCoverage":true},{"functionName":"getModuleJobForRequireInImportedCJS","ranges":[{"startOffset":8886,"endOffset":9143,"count":0}],"isBlockCoverage":false},{"functionName":"#getJobFromResolveResult","ranges":[{"startOffset":9725,"endOffset":10201,"count":335},{"startOffset":10061,"endOffset":10180,"count":119}],"isBlockCoverage":true},{"functionName":"importSyncForRequire","ranges":[{"startOffset":10773,"endOffset":14984,"count":0}],"isBlockCoverage":false},{"functionName":"getModuleJobForRequire","ranges":[{"startOffset":15408,"endOffset":18863,"count":0}],"isBlockCoverage":false},{"functionName":"#translate","ranges":[{"startOffset":19433,"endOffset":19733,"count":119},{"startOffset":19592,"endOffset":19655,"count":0}],"isBlockCoverage":true},{"functionName":"loadAndTranslateForRequireInImportedCJS","ranges":[{"startOffset":20150,"endOffset":21070,"count":0}],"isBlockCoverage":false},{"functionName":"loadAndTranslate","ranges":[{"startOffset":21432,"endOffset":21630,"count":119}],"isBlockCoverage":true},{"functionName":"#createModuleJob","ranges":[{"startOffset":22442,"endOffset":23419,"count":119},{"startOffset":22691,"endOffset":22796,"count":0},{"startOffset":22924,"endOffset":22964,"count":1},{"startOffset":23019,"endOffset":23034,"count":0},{"startOffset":23036,"endOffset":23090,"count":0}],"isBlockCoverage":true},{"functionName":"import","ranges":[{"startOffset":23881,"endOffset":24115,"count":3}],"isBlockCoverage":true},{"functionName":"register","ranges":[{"startOffset":24181,"endOffset":24728,"count":1}],"isBlockCoverage":true},{"functionName":"resolve","ranges":[{"startOffset":25454,"endOffset":25775,"count":335},{"startOffset":25566,"endOffset":25692,"count":251},{"startOffset":25692,"endOffset":25774,"count":84}],"isBlockCoverage":true},{"functionName":"#cachedDefaultResolve","ranges":[{"startOffset":26137,"endOffset":26584,"count":84},{"startOffset":26388,"endOffset":26422,"count":0}],"isBlockCoverage":true},{"functionName":"#resolveAndMaybeBlockOnLoaderThread","ranges":[{"startOffset":27009,"endOffset":27306,"count":0}],"isBlockCoverage":false},{"functionName":"resolveSync","ranges":[{"startOffset":28017,"endOffset":28198,"count":0}],"isBlockCoverage":false},{"functionName":"defaultResolve","ranges":[{"startOffset":28410,"endOffset":28750,"count":84}],"isBlockCoverage":true},{"functionName":"load","ranges":[{"startOffset":29065,"endOffset":29296,"count":119},{"startOffset":29122,"endOffset":29183,"count":95},{"startOffset":29183,"endOffset":29295,"count":24}],"isBlockCoverage":true},{"functionName":"#loadAndMaybeBlockOnLoaderThread","ranges":[{"startOffset":29656,"endOffset":29924,"count":0}],"isBlockCoverage":false},{"functionName":"#loadSync","ranges":[{"startOffset":30468,"endOffset":30561,"count":0}],"isBlockCoverage":false},{"functionName":"validateLoadResult","ranges":[{"startOffset":30565,"endOffset":30716,"count":119},{"startOffset":30623,"endOffset":30712,"count":0}],"isBlockCoverage":true},{"functionName":"importMetaInitialize","ranges":[{"startOffset":30720,"endOffset":31055,"count":4},{"startOffset":30788,"endOffset":31054,"count":2}],"isBlockCoverage":true},{"functionName":"forceLoadHooks","ranges":[{"startOffset":31116,"endOffset":31182,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":31238,"endOffset":33865,"count":1}],"isBlockCoverage":false},{"functionName":"CustomizedModuleLoader","ranges":[{"startOffset":31396,"endOffset":31436,"count":1}],"isBlockCoverage":true},{"functionName":"register","ranges":[{"startOffset":32113,"endOffset":32302,"count":1}],"isBlockCoverage":true},{"functionName":"resolve","ranges":[{"startOffset":32761,"endOffset":32932,"count":251}],"isBlockCoverage":true},{"functionName":"resolveSync","ranges":[{"startOffset":32936,"endOffset":33208,"count":0}],"isBlockCoverage":false},{"functionName":"load","ranges":[{"startOffset":33492,"endOffset":33589,"count":95}],"isBlockCoverage":true},{"functionName":"loadSync","ranges":[{"startOffset":33592,"endOffset":33692,"count":0}],"isBlockCoverage":false},{"functionName":"importMetaInitialize","ranges":[{"startOffset":33696,"endOffset":33805,"count":2}],"isBlockCoverage":true},{"functionName":"forceLoadHooks","ranges":[{"startOffset":33809,"endOffset":33863,"count":0}],"isBlockCoverage":false},{"functionName":"createModuleLoader","ranges":[{"startOffset":34249,"endOffset":35911,"count":1},{"startOffset":34694,"endOffset":35861,"count":0}],"isBlockCoverage":true},{"functionName":"readableURIEncode","ranges":[{"startOffset":34769,"endOffset":35264,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":35584,"endOffset":35672,"count":0}],"isBlockCoverage":false},{"functionName":"getHooksProxy","ranges":[{"startOffset":36024,"endOffset":36200,"count":1}],"isBlockCoverage":true},{"functionName":"getOrInitializeCascadedLoader","ranges":[{"startOffset":36702,"endOffset":36814,"count":7}],"isBlockCoverage":true},{"functionName":"register","ranges":[{"startOffset":38056,"endOffset":38401,"count":1},{"startOffset":38337,"endOffset":38347,"count":0}],"isBlockCoverage":true}]},{"scriptId":"85","url":"node:internal/modules/esm/assert","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3876,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1326,"endOffset":1364,"count":5}],"isBlockCoverage":true},{"functionName":"validateAttributes","ranges":[{"startOffset":1785,"endOffset":3160,"count":24},{"startOffset":1981,"endOffset":2108,"count":0},{"startOffset":2180,"endOffset":2325,"count":0},{"startOffset":2590,"endOffset":2650,"count":0},{"startOffset":2656,"endOffset":2764,"count":0},{"startOffset":2770,"endOffset":3154,"count":0}],"isBlockCoverage":true},{"functionName":"handleInvalidType","ranges":[{"startOffset":3392,"endOffset":3806,"count":0}],"isBlockCoverage":false}]},{"scriptId":"86","url":"node:internal/source_map/source_map","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12184,"count":1}],"isBlockCoverage":false},{"functionName":"StringCharIterator","ranges":[{"startOffset":4050,"endOffset":4126,"count":0}],"isBlockCoverage":false},{"functionName":"next","ranges":[{"startOffset":4164,"endOffset":4242,"count":0}],"isBlockCoverage":false},{"functionName":"peek","ranges":[{"startOffset":4280,"endOffset":4356,"count":0}],"isBlockCoverage":false},{"functionName":"hasNext","ranges":[{"startOffset":4395,"endOffset":4459,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":4600,"endOffset":10134,"count":0}],"isBlockCoverage":false},{"functionName":"isSeparator","ranges":[{"startOffset":10189,"endOffset":10258,"count":0}],"isBlockCoverage":false},{"functionName":"decodeVLQ","ranges":[{"startOffset":10348,"endOffset":11281,"count":0}],"isBlockCoverage":false},{"functionName":"cloneSourceMapV3","ranges":[{"startOffset":11348,"endOffset":11660,"count":0}],"isBlockCoverage":false},{"functionName":"compareSourceMapEntry","ranges":[{"startOffset":11855,"endOffset":12134,"count":0}],"isBlockCoverage":false}]},{"scriptId":"87","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/temporary-directory-B83uKxJF.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":166,"count":1},{"startOffset":93,"endOffset":115,"count":0}],"isBlockCoverage":true}]},{"scriptId":"88","url":"node:os","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8453,"count":1}],"isBlockCoverage":false},{"functionName":"getCheckedFunction","ranges":[{"startOffset":2054,"endOffset":2300,"count":4}],"isBlockCoverage":true},{"functionName":"checkError","ranges":[{"startOffset":2113,"endOffset":2296,"count":0}],"isBlockCoverage":false},{"functionName":"getOSRelease","ranges":[{"startOffset":2682,"endOffset":2695,"count":0}],"isBlockCoverage":false},{"functionName":"getOSType","ranges":[{"startOffset":2744,"endOffset":2754,"count":0}],"isBlockCoverage":false},{"functionName":"getOSVersion","ranges":[{"startOffset":2806,"endOffset":2819,"count":0}],"isBlockCoverage":false},{"functionName":"getMachine","ranges":[{"startOffset":2869,"endOffset":2882,"count":0}],"isBlockCoverage":false},{"functionName":"getAvailableParallelism.<computed>","ranges":[{"startOffset":2930,"endOffset":2961,"count":0}],"isBlockCoverage":false},{"functionName":"getFreeMem.<computed>","ranges":[{"startOffset":2995,"endOffset":3013,"count":0}],"isBlockCoverage":false},{"functionName":"getHostname.<computed>","ranges":[{"startOffset":3048,"endOffset":3067,"count":0}],"isBlockCoverage":false},{"functionName":"getOSVersion.<computed>","ranges":[{"startOffset":3103,"endOffset":3123,"count":0}],"isBlockCoverage":false},{"functionName":"getOSType.<computed>","ranges":[{"startOffset":3156,"endOffset":3173,"count":0}],"isBlockCoverage":false},{"functionName":"getOSRelease.<computed>","ranges":[{"startOffset":3209,"endOffset":3229,"count":0}],"isBlockCoverage":false},{"functionName":"getMachine.<computed>","ranges":[{"startOffset":3263,"endOffset":3281,"count":0}],"isBlockCoverage":false},{"functionName":"getHomeDirectory.<computed>","ranges":[{"startOffset":3321,"endOffset":3345,"count":0}],"isBlockCoverage":false},{"functionName":"getTotalMem.<computed>","ranges":[{"startOffset":3380,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"getUptime.<computed>","ranges":[{"startOffset":3432,"endOffset":3449,"count":0}],"isBlockCoverage":false},{"functionName":"loadavg","ranges":[{"startOffset":3587,"endOffset":3687,"count":0}],"isBlockCoverage":false},{"functionName":"cpus","ranges":[{"startOffset":3967,"endOffset":4396,"count":0}],"isBlockCoverage":false},{"functionName":"arch","ranges":[{"startOffset":4427,"endOffset":4469,"count":0}],"isBlockCoverage":false},{"functionName":"arch.<computed>","ranges":[{"startOffset":4496,"endOffset":4514,"count":0}],"isBlockCoverage":false},{"functionName":"platform","ranges":[{"startOffset":4546,"endOffset":4596,"count":0}],"isBlockCoverage":false},{"functionName":"platform.<computed>","ranges":[{"startOffset":4627,"endOffset":4649,"count":0}],"isBlockCoverage":false},{"functionName":"tmpdir","ranges":[{"startOffset":4681,"endOffset":5286,"count":4},{"startOffset":4730,"endOffset":5027,"count":0},{"startOffset":5223,"endOffset":5264,"count":0}],"isBlockCoverage":true},{"functionName":"tmpdir.<computed>","ranges":[{"startOffset":5315,"endOffset":5329,"count":0}],"isBlockCoverage":false},{"functionName":"endianness","ranges":[{"startOffset":5366,"endOffset":5413,"count":0}],"isBlockCoverage":false},{"functionName":"endianness.<computed>","ranges":[{"startOffset":5446,"endOffset":5463,"count":0}],"isBlockCoverage":false},{"functionName":"networkInterfaces","ranges":[{"startOffset":5675,"endOffset":6368,"count":0}],"isBlockCoverage":false},{"functionName":"setPriority","ranges":[{"startOffset":6452,"endOffset":6741,"count":0}],"isBlockCoverage":false},{"functionName":"getPriority","ranges":[{"startOffset":6799,"endOffset":7054,"count":0}],"isBlockCoverage":false},{"functionName":"userInfo","ranges":[{"startOffset":7358,"endOffset":7584,"count":0}],"isBlockCoverage":false}]},{"scriptId":"89","url":"node:worker_threads","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":784,"count":1}],"isBlockCoverage":false}]},{"scriptId":"90","url":"node:internal/worker","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16769,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2565,"endOffset":2590,"count":1}],"isBlockCoverage":true},{"functionName":"process.chdir","ranges":[{"startOffset":3078,"endOffset":3158,"count":0}],"isBlockCoverage":false},{"functionName":"setEnvironmentData","ranges":[{"startOffset":3163,"endOffset":3310,"count":0}],"isBlockCoverage":false},{"functionName":"getEnvironmentData","ranges":[{"startOffset":3312,"endOffset":3383,"count":0}],"isBlockCoverage":false},{"functionName":"assignEnvironmentData","ranges":[{"startOffset":3385,"endOffset":3535,"count":0}],"isBlockCoverage":false},{"functionName":"Worker","ranges":[{"startOffset":3575,"endOffset":9553,"count":1},{"startOffset":3895,"endOffset":3947,"count":0},{"startOffset":3985,"endOffset":4097,"count":0},{"startOffset":4206,"endOffset":5236,"count":0},{"startOffset":5291,"endOffset":5314,"count":0},{"startOffset":5316,"endOffset":5492,"count":0},{"startOffset":5555,"endOffset":5751,"count":0},{"startOffset":5794,"endOffset":5901,"count":0},{"startOffset":6155,"endOffset":6160,"count":0},{"startOffset":6359,"endOffset":6366,"count":0},{"startOffset":6497,"endOffset":6581,"count":0},{"startOffset":6624,"endOffset":6757,"count":0},{"startOffset":7205,"endOffset":7259,"count":0},{"startOffset":8025,"endOffset":8131,"count":0},{"startOffset":8547,"endOffset":8575,"count":0},{"startOffset":8697,"endOffset":8745,"count":0},{"startOffset":8821,"endOffset":8869,"count":0},{"startOffset":9473,"endOffset":9549,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5424,"endOffset":5476,"count":0}],"isBlockCoverage":false},{"functionName":"Worker.<computed>.onexit","ranges":[{"startOffset":6785,"endOffset":6885,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6962,"endOffset":6994,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8232,"endOffset":8325,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8279,"endOffset":8317,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9391,"endOffset":9425,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9557,"endOffset":10231,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10235,"endOffset":10331,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10335,"endOffset":10504,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10508,"endOffset":11401,"count":1},{"startOffset":10674,"endOffset":10766,"count":0},{"startOffset":10773,"endOffset":10858,"count":0},{"startOffset":10865,"endOffset":11149,"count":0},{"startOffset":11156,"endOffset":11326,"count":0},{"startOffset":11332,"endOffset":11400,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11045,"endOffset":11123,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11405,"endOffset":11873,"count":0}],"isBlockCoverage":false},{"functionName":"postMessage","ranges":[{"startOffset":11877,"endOffset":12022,"count":347},{"startOffset":11936,"endOffset":11943,"count":0}],"isBlockCoverage":true},{"functionName":"terminate","ranges":[{"startOffset":12026,"endOffset":12860,"count":0}],"isBlockCoverage":false},{"functionName":"ref","ranges":[{"startOffset":12864,"endOffset":12970,"count":5},{"startOffset":12904,"endOffset":12911,"count":0}],"isBlockCoverage":true},{"functionName":"unref","ranges":[{"startOffset":12974,"endOffset":13086,"count":6},{"startOffset":13016,"endOffset":13023,"count":0}],"isBlockCoverage":true},{"functionName":"get threadId","ranges":[{"startOffset":13090,"endOffset":13189,"count":2},{"startOffset":13139,"endOffset":13149,"count":0}],"isBlockCoverage":true},{"functionName":"get stdin","ranges":[{"startOffset":13193,"endOffset":13251,"count":0}],"isBlockCoverage":false},{"functionName":"get stdout","ranges":[{"startOffset":13255,"endOffset":13315,"count":0}],"isBlockCoverage":false},{"functionName":"get stderr","ranges":[{"startOffset":13319,"endOffset":13379,"count":0}],"isBlockCoverage":false},{"functionName":"get resourceLimits","ranges":[{"startOffset":13383,"endOffset":13519,"count":0}],"isBlockCoverage":false},{"functionName":"getHeapSnapshot","ranges":[{"startOffset":13523,"endOffset":14030,"count":0}],"isBlockCoverage":false},{"functionName":"InternalWorker","ranges":[{"startOffset":14223,"endOffset":14302,"count":1}],"isBlockCoverage":true},{"functionName":"receiveMessageSync","ranges":[{"startOffset":14306,"endOffset":14384,"count":3}],"isBlockCoverage":true},{"functionName":"pipeWithoutWarning","ranges":[{"startOffset":14388,"endOffset":14710,"count":2}],"isBlockCoverage":true},{"functionName":"parseResourceLimits","ranges":[{"startOffset":14784,"endOffset":15398,"count":1},{"startOffset":14921,"endOffset":14936,"count":0},{"startOffset":14949,"endOffset":15397,"count":0}],"isBlockCoverage":true},{"functionName":"makeResourceLimits","ranges":[{"startOffset":15400,"endOffset":15687,"count":0}],"isBlockCoverage":false},{"functionName":"eventLoopUtilization","ranges":[{"startOffset":15689,"endOffset":16492,"count":0}],"isBlockCoverage":false}]},{"scriptId":"91","url":"node:internal/perf/event_loop_utilization","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1527,"count":1}],"isBlockCoverage":false},{"functionName":"eventLoopUtilization","ranges":[{"startOffset":153,"endOffset":446,"count":0}],"isBlockCoverage":false},{"functionName":"internalEventLoopUtilization","ranges":[{"startOffset":448,"endOffset":1447,"count":0}],"isBlockCoverage":false}]},{"scriptId":"92","url":"node:internal/worker/io","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":15565,"count":1}],"isBlockCoverage":false},{"functionName":"MessagePort.hasRef","ranges":[{"startOffset":3683,"endOffset":3766,"count":0}],"isBlockCoverage":false},{"functionName":"validateMessagePort","ranges":[{"startOffset":3769,"endOffset":3907,"count":0}],"isBlockCoverage":false},{"functionName":"isMessageEvent","ranges":[{"startOffset":3909,"endOffset":3985,"count":0}],"isBlockCoverage":false},{"functionName":"MessageEvent","ranges":[{"startOffset":4024,"endOffset":4540,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4628,"endOffset":4752,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4862,"endOffset":4988,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5103,"endOffset":5234,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5344,"endOffset":5470,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5579,"endOffset":5704,"count":0}],"isBlockCoverage":false},{"functionName":"value","ranges":[{"startOffset":5946,"endOffset":6264,"count":0}],"isBlockCoverage":false},{"functionName":"oninit","ranges":[{"startOffset":6403,"endOffset":6546,"count":699}],"isBlockCoverage":true},{"functionName":"MessagePortCloseEvent","ranges":[{"startOffset":6848,"endOffset":6887,"count":695}],"isBlockCoverage":true},{"functionName":"onclose","ranges":[{"startOffset":6960,"endOffset":7033,"count":695}],"isBlockCoverage":true},{"functionName":"MessagePort.close","ranges":[{"startOffset":7214,"endOffset":7349,"count":346},{"startOffset":7265,"endOffset":7288,"count":0}],"isBlockCoverage":true},{"functionName":"inspect","ranges":[{"startOffset":7482,"endOffset":8110,"count":0}],"isBlockCoverage":false},{"functionName":"setupPortReferencing","ranges":[{"startOffset":8117,"endOffset":9480,"count":700}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8478,"endOffset":8573,"count":2},{"startOffset":8523,"endOffset":8569,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8612,"endOffset":8710,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8812,"endOffset":8957,"count":4},{"startOffset":8872,"endOffset":8894,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9068,"endOffset":9215,"count":0}],"isBlockCoverage":false},{"functionName":"newListener","ranges":[{"startOffset":9221,"endOffset":9362,"count":3}],"isBlockCoverage":true},{"functionName":"removeListener","ranges":[{"startOffset":9366,"endOffset":9478,"count":0}],"isBlockCoverage":false},{"functionName":"ReadableWorkerStdio","ranges":[{"startOffset":9530,"endOffset":9879,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9708,"endOffset":9873,"count":0}],"isBlockCoverage":false},{"functionName":"_read","ranges":[{"startOffset":9883,"endOffset":10189,"count":2},{"startOffset":9953,"endOffset":10071,"count":0}],"isBlockCoverage":true},{"functionName":"WritableWorkerStdio","ranges":[{"startOffset":10240,"endOffset":10389,"count":0}],"isBlockCoverage":false},{"functionName":"_writev","ranges":[{"startOffset":10393,"endOffset":10834,"count":0}],"isBlockCoverage":false},{"functionName":"_final","ranges":[{"startOffset":10838,"endOffset":11018,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11022,"endOffset":11269,"count":0}],"isBlockCoverage":false},{"functionName":"createWorkerStdio","ranges":[{"startOffset":11273,"endOffset":11543,"count":0}],"isBlockCoverage":false},{"functionName":"receiveMessageOnPort","ranges":[{"startOffset":11545,"endOffset":11725,"count":6836},{"startOffset":11684,"endOffset":11701,"count":6488},{"startOffset":11701,"endOffset":11724,"count":348}],"isBlockCoverage":true},{"functionName":"onMessageEvent","ranges":[{"startOffset":11727,"endOffset":11822,"count":0}],"isBlockCoverage":false},{"functionName":"isBroadcastChannel","ranges":[{"startOffset":11824,"endOffset":11910,"count":0}],"isBlockCoverage":false},{"functionName":"BroadcastChannel","ranges":[{"startOffset":11997,"endOffset":12511,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":12515,"endOffset":12928,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":12964,"endOffset":13093,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":13130,"endOffset":13528,"count":0}],"isBlockCoverage":false},{"functionName":"postMessage","ranges":[{"startOffset":13596,"endOffset":14027,"count":0}],"isBlockCoverage":false},{"functionName":"ref","ranges":[{"startOffset":14310,"endOffset":14477,"count":0}],"isBlockCoverage":false},{"functionName":"unref","ranges":[{"startOffset":14762,"endOffset":14933,"count":0}],"isBlockCoverage":false}]},{"scriptId":"93","url":"node:stream","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5095,"count":1}],"isBlockCoverage":false},{"functionName":"fn","ranges":[{"startOffset":2552,"endOffset":2712,"count":0}],"isBlockCoverage":false},{"functionName":"fn","ranges":[{"startOffset":3214,"endOffset":3352,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4400,"endOffset":4432,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4530,"endOffset":4571,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4664,"endOffset":4705,"count":0}],"isBlockCoverage":false},{"functionName":"_uint8ArrayToBuffer","ranges":[{"startOffset":4886,"endOffset":5093,"count":0}],"isBlockCoverage":false}]},{"scriptId":"94","url":"node:internal/streams/operators","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10772,"count":1}],"isBlockCoverage":false},{"functionName":"compose","ranges":[{"startOffset":1019,"endOffset":1599,"count":0}],"isBlockCoverage":false},{"functionName":"map","ranges":[{"startOffset":1601,"endOffset":4704,"count":0}],"isBlockCoverage":false},{"functionName":"asIndexedPairs","ranges":[{"startOffset":4706,"endOffset":5179,"count":0}],"isBlockCoverage":false},{"functionName":"some","ranges":[{"startOffset":5181,"endOffset":5329,"count":0}],"isBlockCoverage":false},{"functionName":"every","ranges":[{"startOffset":5331,"endOffset":5659,"count":0}],"isBlockCoverage":false},{"functionName":"find","ranges":[{"startOffset":5661,"endOffset":5803,"count":0}],"isBlockCoverage":false},{"functionName":"forEach","ranges":[{"startOffset":5805,"endOffset":6175,"count":0}],"isBlockCoverage":false},{"functionName":"filter","ranges":[{"startOffset":6177,"endOffset":6504,"count":0}],"isBlockCoverage":false},{"functionName":"ReduceAwareErrMissingArgs","ranges":[{"startOffset":6720,"endOffset":6834,"count":0}],"isBlockCoverage":false},{"functionName":"reduce","ranges":[{"startOffset":6838,"endOffset":8280,"count":0}],"isBlockCoverage":false},{"functionName":"toArray","ranges":[{"startOffset":8282,"endOffset":8711,"count":0}],"isBlockCoverage":false},{"functionName":"flatMap","ranges":[{"startOffset":8713,"endOffset":8907,"count":0}],"isBlockCoverage":false},{"functionName":"toIntegerOrInfinity","ranges":[{"startOffset":8909,"endOffset":9231,"count":0}],"isBlockCoverage":false},{"functionName":"drop","ranges":[{"startOffset":9233,"endOffset":9781,"count":0}],"isBlockCoverage":false},{"functionName":"take","ranges":[{"startOffset":9783,"endOffset":10453,"count":0}],"isBlockCoverage":false}]},{"scriptId":"95","url":"node:internal/abort_controller","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12429,"count":1}],"isBlockCoverage":false},{"functionName":"lazyMessageChannel","ranges":[{"startOffset":1609,"endOffset":1742,"count":0}],"isBlockCoverage":false},{"functionName":"lazyMakeTransferable","ranges":[{"startOffset":1744,"endOffset":1902,"count":0}],"isBlockCoverage":false},{"functionName":"customInspect","ranges":[{"startOffset":2372,"endOffset":2631,"count":0}],"isBlockCoverage":false},{"functionName":"validateThisAbortSignal","ranges":[{"startOffset":2633,"endOffset":2758,"count":61},{"startOffset":2714,"endOffset":2756,"count":0}],"isBlockCoverage":true},{"functionName":"setWeakAbortSignalTimeout","ranges":[{"startOffset":3340,"endOffset":3740,"count":0}],"isBlockCoverage":false},{"functionName":"AbortSignal","ranges":[{"startOffset":3784,"endOffset":3844,"count":0}],"isBlockCoverage":false},{"functionName":"get aborted","ranges":[{"startOffset":3881,"endOffset":3964,"count":61}],"isBlockCoverage":true},{"functionName":"get reason","ranges":[{"startOffset":3997,"endOffset":4076,"count":0}],"isBlockCoverage":false},{"functionName":"throwIfAborted","ranges":[{"startOffset":4080,"endOffset":4196,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4200,"endOffset":4329,"count":0}],"isBlockCoverage":false},{"functionName":"abort","ranges":[{"startOffset":4407,"endOffset":4551,"count":0}],"isBlockCoverage":false},{"functionName":"timeout","ranges":[{"startOffset":4629,"endOffset":4895,"count":0}],"isBlockCoverage":false},{"functionName":"any","ranges":[{"startOffset":4982,"endOffset":6325,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6329,"endOffset":7097,"count":7},{"startOffset":6558,"endOffset":6587,"count":0},{"startOffset":6633,"endOffset":6660,"count":0},{"startOffset":6661,"endOffset":6685,"count":0},{"startOffset":6686,"endOffset":6702,"count":0},{"startOffset":6703,"endOffset":6724,"count":0},{"startOffset":6726,"endOffset":7093,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7101,"endOffset":7455,"count":7},{"startOffset":7294,"endOffset":7323,"count":0},{"startOffset":7369,"endOffset":7388,"count":0},{"startOffset":7389,"endOffset":7402,"count":0},{"startOffset":7404,"endOffset":7451,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7459,"endOffset":8066,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8070,"endOffset":8322,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8326,"endOffset":8774,"count":0}],"isBlockCoverage":false},{"functionName":"ClonedAbortSignal","ranges":[{"startOffset":8778,"endOffset":8862,"count":0}],"isBlockCoverage":false},{"functionName":"ClonedAbortSignal.<computed>","ranges":[{"startOffset":8907,"endOffset":8915,"count":0}],"isBlockCoverage":false},{"functionName":"createAbortSignal","ranges":[{"startOffset":9393,"endOffset":9806,"count":9},{"startOffset":9764,"endOffset":9794,"count":0}],"isBlockCoverage":true},{"functionName":"abortSignal","ranges":[{"startOffset":9808,"endOffset":10170,"count":6},{"startOffset":9871,"endOffset":9878,"count":0},{"startOffset":10060,"endOffset":10069,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10070,"endOffset":10166,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":10172,"endOffset":10828,"count":9}],"isBlockCoverage":false},{"functionName":"get signal","ranges":[{"startOffset":10247,"endOffset":10332,"count":9}],"isBlockCoverage":true},{"functionName":"abort","ranges":[{"startOffset":10375,"endOffset":10520,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10524,"endOffset":10651,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10662,"endOffset":10826,"count":0}],"isBlockCoverage":false},{"functionName":"transferableAbortSignal","ranges":[{"startOffset":10976,"endOffset":11168,"count":0}],"isBlockCoverage":false},{"functionName":"transferableAbortController","ranges":[{"startOffset":11240,"endOffset":11329,"count":0}],"isBlockCoverage":false},{"functionName":"aborted","ranges":[{"startOffset":11423,"endOffset":11980,"count":0}],"isBlockCoverage":false}]},{"scriptId":"96","url":"node:internal/streams/end-of-stream","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8492,"count":1}],"isBlockCoverage":false},{"functionName":"isRequest","ranges":[{"startOffset":891,"endOffset":986,"count":4},{"startOffset":946,"endOffset":983,"count":0}],"isBlockCoverage":true},{"functionName":"nop","ranges":[{"startOffset":1000,"endOffset":1008,"count":0}],"isBlockCoverage":false},{"functionName":"eos","ranges":[{"startOffset":1011,"endOffset":7061,"count":4},{"startOffset":1083,"endOffset":1140,"count":0},{"startOffset":1167,"endOffset":1200,"count":0},{"startOffset":1442,"endOffset":1493,"count":0},{"startOffset":1524,"endOffset":1631,"count":0},{"startOffset":1669,"endOffset":1700,"count":0},{"startOffset":1738,"endOffset":1769,"count":0},{"startOffset":2208,"endOffset":2256,"count":2},{"startOffset":4409,"endOffset":4617,"count":0},{"startOffset":4636,"endOffset":4646,"count":2},{"startOffset":4648,"endOffset":4749,"count":0},{"startOffset":4828,"endOffset":4866,"count":2},{"startOffset":4868,"endOffset":4908,"count":0},{"startOffset":5086,"endOffset":5122,"count":0},{"startOffset":5138,"endOffset":5152,"count":2},{"startOffset":5178,"endOffset":5249,"count":0},{"startOffset":5274,"endOffset":5319,"count":2},{"startOffset":5297,"endOffset":5318,"count":0},{"startOffset":5320,"endOffset":5377,"count":2},{"startOffset":5378,"endOffset":5461,"count":0},{"startOffset":5466,"endOffset":5503,"count":0},{"startOffset":5528,"endOffset":5573,"count":2},{"startOffset":5574,"endOffset":5631,"count":0},{"startOffset":5636,"endOffset":5673,"count":0},{"startOffset":5705,"endOffset":5722,"count":0},{"startOffset":5725,"endOffset":5762,"count":0},{"startOffset":6374,"endOffset":6384,"count":0},{"startOffset":6386,"endOffset":7040,"count":0}],"isBlockCoverage":true},{"functionName":"onlegacyfinish","ranges":[{"startOffset":1878,"endOffset":1941,"count":0}],"isBlockCoverage":false},{"functionName":"onfinish","ranges":[{"startOffset":2342,"endOffset":2762,"count":2},{"startOffset":2565,"endOffset":2601,"count":0},{"startOffset":2625,"endOffset":2658,"count":0},{"startOffset":2660,"endOffset":2681,"count":0},{"startOffset":2701,"endOffset":2720,"count":0}],"isBlockCoverage":true},{"functionName":"onend","ranges":[{"startOffset":2841,"endOffset":3261,"count":4},{"startOffset":3064,"endOffset":3100,"count":0},{"startOffset":3124,"endOffset":3157,"count":2},{"startOffset":3145,"endOffset":3156,"count":0},{"startOffset":3159,"endOffset":3219,"count":2},{"startOffset":3221,"endOffset":3257,"count":0}],"isBlockCoverage":true},{"functionName":"onerror","ranges":[{"startOffset":3282,"endOffset":3328,"count":0}],"isBlockCoverage":false},{"functionName":"onclose","ranges":[{"startOffset":3383,"endOffset":4048,"count":2},{"startOffset":3504,"endOffset":3535,"count":0},{"startOffset":3537,"endOffset":3589,"count":0},{"startOffset":3629,"endOffset":3666,"count":0},{"startOffset":3668,"endOffset":3822,"count":0},{"startOffset":3840,"endOffset":3860,"count":0},{"startOffset":3862,"endOffset":4016,"count":0}],"isBlockCoverage":true},{"functionName":"onclosed","ranges":[{"startOffset":4070,"endOffset":4308,"count":0}],"isBlockCoverage":false},{"functionName":"onrequest","ranges":[{"startOffset":4331,"endOffset":4381,"count":0}],"isBlockCoverage":false},{"functionName":"cleanup","ranges":[{"startOffset":5782,"endOffset":6350,"count":2},{"startOffset":6020,"endOffset":6066,"count":0}],"isBlockCoverage":true},{"functionName":"abort","ranges":[{"startOffset":6406,"endOffset":6627,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6923,"endOffset":7028,"count":0}],"isBlockCoverage":false},{"functionName":"eosWeb","ranges":[{"startOffset":7063,"endOffset":7972,"count":0}],"isBlockCoverage":false},{"functionName":"finished","ranges":[{"startOffset":7974,"endOffset":8432,"count":0}],"isBlockCoverage":false}]},{"scriptId":"97","url":"node:internal/streams/compose","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5511,"count":1}],"isBlockCoverage":false},{"functionName":"compose","ranges":[{"startOffset":592,"endOffset":5509,"count":1},{"startOffset":651,"endOffset":699,"count":0},{"startOffset":729,"endOffset":770,"count":0},{"startOffset":864,"endOffset":911,"count":0},{"startOffset":1102,"endOffset":1843,"count":2},{"startOffset":1138,"endOffset":1165,"count":0},{"startOffset":1167,"endOffset":1240,"count":0},{"startOffset":1279,"endOffset":1410,"count":1},{"startOffset":1322,"endOffset":1361,"count":0},{"startOffset":1362,"endOffset":1402,"count":0},{"startOffset":1417,"endOffset":1548,"count":0},{"startOffset":1570,"endOffset":1701,"count":1},{"startOffset":1613,"endOffset":1652,"count":0},{"startOffset":1653,"endOffset":1693,"count":0},{"startOffset":1708,"endOffset":1839,"count":0},{"startOffset":2365,"endOffset":2394,"count":0},{"startOffset":2395,"endOffset":2425,"count":0},{"startOffset":2785,"endOffset":4083,"count":0},{"startOffset":4634,"endOffset":5146,"count":0}],"isBlockCoverage":true},{"functionName":"onfinished","ranges":[{"startOffset":1921,"endOffset":2135,"count":1},{"startOffset":2027,"endOffset":2131,"count":0}],"isBlockCoverage":true},{"functionName":"d._write","ranges":[{"startOffset":2834,"endOffset":3001,"count":0}],"isBlockCoverage":false},{"functionName":"d._final","ranges":[{"startOffset":3021,"endOffset":3098,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3124,"endOffset":3249,"count":0}],"isBlockCoverage":false},{"functionName":"d._write","ranges":[{"startOffset":3420,"endOffset":3643,"count":0}],"isBlockCoverage":false},{"functionName":"d._final","ranges":[{"startOffset":3663,"endOffset":3873,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3966,"endOffset":4077,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4159,"endOffset":4293,"count":41}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4318,"endOffset":4360,"count":1}],"isBlockCoverage":true},{"functionName":"d._read","ranges":[{"startOffset":4380,"endOffset":4627,"count":82},{"startOffset":4414,"endOffset":4619,"count":122},{"startOffset":4479,"endOffset":4546,"count":82},{"startOffset":4546,"endOffset":4576,"count":40},{"startOffset":4576,"endOffset":4609,"count":0}],"isBlockCoverage":true},{"functionName":"d._read","ranges":[{"startOffset":4795,"endOffset":5139,"count":0}],"isBlockCoverage":false},{"functionName":"d._destroy","ranges":[{"startOffset":5167,"endOffset":5493,"count":1},{"startOffset":5422,"endOffset":5450,"count":0}],"isBlockCoverage":true}]},{"scriptId":"98","url":"node:internal/streams/pipeline","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12389,"count":1}],"isBlockCoverage":false},{"functionName":"destroyer","ranges":[{"startOffset":1056,"endOffset":1485,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1148,"endOffset":1180,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1256,"endOffset":1291,"count":2}],"isBlockCoverage":true},{"functionName":"destroy","ranges":[{"startOffset":1319,"endOffset":1464,"count":2},{"startOffset":1357,"endOffset":1456,"count":0}],"isBlockCoverage":true},{"functionName":"popCallback","ranges":[{"startOffset":1487,"endOffset":1815,"count":1}],"isBlockCoverage":true},{"functionName":"makeAsyncIterable","ranges":[{"startOffset":1817,"endOffset":2103,"count":0}],"isBlockCoverage":false},{"functionName":"fromReadable","ranges":[{"startOffset":2105,"endOffset":2279,"count":0}],"isBlockCoverage":false},{"functionName":"pumpToNode","ranges":[{"startOffset":2281,"endOffset":3325,"count":0}],"isBlockCoverage":false},{"functionName":"pumpToWeb","ranges":[{"startOffset":3327,"endOffset":3925,"count":0}],"isBlockCoverage":false},{"functionName":"pipeline","ranges":[{"startOffset":3927,"endOffset":4020,"count":1}],"isBlockCoverage":true},{"functionName":"pipelineImpl","ranges":[{"startOffset":4022,"endOffset":10539,"count":1},{"startOffset":4186,"endOffset":4234,"count":0},{"startOffset":4326,"endOffset":4334,"count":0},{"startOffset":4759,"endOffset":4819,"count":0},{"startOffset":5479,"endOffset":10439,"count":2},{"startOffset":5607,"endOffset":5629,"count":1},{"startOffset":5614,"endOffset":5619,"count":0},{"startOffset":5887,"endOffset":5941,"count":1},{"startOffset":6307,"endOffset":6418,"count":1},{"startOffset":6443,"endOffset":6859,"count":1},{"startOffset":6485,"endOffset":6681,"count":0},{"startOffset":6710,"endOffset":6741,"count":0},{"startOffset":6742,"endOffset":6770,"count":0},{"startOffset":6803,"endOffset":6853,"count":0},{"startOffset":6859,"endOffset":10435,"count":1},{"startOffset":6899,"endOffset":9028,"count":0},{"startOffset":9297,"endOffset":9752,"count":0},{"startOffset":9778,"endOffset":10435,"count":0},{"startOffset":10439,"endOffset":10453,"count":2},{"startOffset":10477,"endOffset":10486,"count":0},{"startOffset":10488,"endOffset":10522,"count":0}],"isBlockCoverage":true},{"functionName":"abort","ranges":[{"startOffset":4540,"endOffset":4637,"count":0}],"isBlockCoverage":false},{"functionName":"finish","ranges":[{"startOffset":4897,"endOffset":4965,"count":2}],"isBlockCoverage":true},{"functionName":"finishImpl","ranges":[{"startOffset":4969,"endOffset":5423,"count":2},{"startOffset":5015,"endOffset":5073,"count":0},{"startOffset":5075,"endOffset":5101,"count":0},{"startOffset":5129,"endOffset":5180,"count":1},{"startOffset":5218,"endOffset":5234,"count":1},{"startOffset":5234,"endOffset":5251,"count":0},{"startOffset":5287,"endOffset":5419,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5343,"endOffset":5355,"count":3}],"isBlockCoverage":true},{"functionName":"onError","ranges":[{"startOffset":6028,"endOffset":6225,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6340,"endOffset":6408,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7922,"endOffset":8232,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8234,"endOffset":8358,"count":0}],"isBlockCoverage":false},{"functionName":"pipe","ranges":[{"startOffset":10541,"endOffset":12342,"count":1},{"startOffset":11187,"endOffset":11281,"count":0},{"startOffset":11328,"endOffset":11353,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10623,"endOffset":10781,"count":1},{"startOffset":10647,"endOffset":10777,"count":0}],"isBlockCoverage":true},{"functionName":"endFn","ranges":[{"startOffset":11091,"endOffset":11152,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11403,"endOffset":12274,"count":1},{"startOffset":11472,"endOffset":11522,"count":0},{"startOffset":11523,"endOffset":11599,"count":0},{"startOffset":11606,"endOffset":12238,"count":0}],"isBlockCoverage":true}]},{"scriptId":"99","url":"node:internal/streams/destroy","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7354,"count":1}],"isBlockCoverage":false},{"functionName":"checkError","ranges":[{"startOffset":487,"endOffset":798,"count":10},{"startOffset":531,"endOffset":796,"count":4},{"startOffset":706,"endOffset":736,"count":2},{"startOffset":762,"endOffset":792,"count":2}],"isBlockCoverage":true},{"functionName":"destroy","ranges":[{"startOffset":908,"endOffset":1785,"count":5},{"startOffset":1077,"endOffset":1081,"count":1},{"startOffset":1098,"endOffset":1131,"count":4},{"startOffset":1182,"endOffset":1259,"count":0},{"startOffset":1444,"endOffset":1478,"count":4},{"startOffset":1620,"endOffset":1727,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1646,"endOffset":1721,"count":0}],"isBlockCoverage":false},{"functionName":"_destroy","ranges":[{"startOffset":1787,"endOffset":2411,"count":5},{"startOffset":2347,"endOffset":2354,"count":3},{"startOffset":2372,"endOffset":2409,"count":0}],"isBlockCoverage":true},{"functionName":"onDestroy","ranges":[{"startOffset":1847,"endOffset":2316,"count":5},{"startOffset":1889,"endOffset":1910,"count":0},{"startOffset":2041,"endOffset":2076,"count":4},{"startOffset":2159,"endOffset":2181,"count":0},{"startOffset":2196,"endOffset":2256,"count":2},{"startOffset":2256,"endOffset":2312,"count":3}],"isBlockCoverage":true},{"functionName":"emitErrorCloseNT","ranges":[{"startOffset":2413,"endOffset":2500,"count":2}],"isBlockCoverage":true},{"functionName":"emitCloseNT","ranges":[{"startOffset":2502,"endOffset":2822,"count":5},{"startOffset":2607,"endOffset":2644,"count":4},{"startOffset":2707,"endOffset":2740,"count":4},{"startOffset":2742,"endOffset":2786,"count":3},{"startOffset":2791,"endOffset":2820,"count":3}],"isBlockCoverage":true},{"functionName":"emitErrorNT","ranges":[{"startOffset":2824,"endOffset":3171,"count":2},{"startOffset":3029,"endOffset":3046,"count":0}],"isBlockCoverage":true},{"functionName":"undestroy","ranges":[{"startOffset":3173,"endOffset":3863,"count":6}],"isBlockCoverage":true},{"functionName":"errorOrDestroy","ranges":[{"startOffset":3865,"endOffset":5004,"count":0}],"isBlockCoverage":false},{"functionName":"construct","ranges":[{"startOffset":5006,"endOffset":5422,"count":0}],"isBlockCoverage":false},{"functionName":"constructNT","ranges":[{"startOffset":5424,"endOffset":6163,"count":0}],"isBlockCoverage":false},{"functionName":"isRequest","ranges":[{"startOffset":6165,"endOffset":6261,"count":0}],"isBlockCoverage":false},{"functionName":"emitCloseLegacy","ranges":[{"startOffset":6263,"endOffset":6323,"count":0}],"isBlockCoverage":false},{"functionName":"emitErrorCloseLegacy","ranges":[{"startOffset":6325,"endOffset":6445,"count":0}],"isBlockCoverage":false},{"functionName":"destroyer","ranges":[{"startOffset":6480,"endOffset":7262,"count":1},{"startOffset":6569,"endOffset":6604,"count":0},{"startOffset":6606,"endOffset":7260,"count":0}],"isBlockCoverage":true}]},{"scriptId":"100","url":"node:internal/streams/duplex","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6588,"count":1}],"isBlockCoverage":false},{"functionName":"Duplex","ranges":[{"startOffset":2350,"endOffset":4313,"count":6},{"startOffset":2414,"endOffset":2441,"count":0},{"startOffset":3128,"endOffset":3264,"count":2},{"startOffset":3302,"endOffset":3477,"count":1},{"startOffset":3529,"endOffset":3555,"count":0},{"startOffset":3608,"endOffset":3636,"count":1},{"startOffset":3690,"endOffset":3720,"count":0},{"startOffset":3775,"endOffset":3807,"count":1},{"startOffset":3860,"endOffset":3888,"count":1},{"startOffset":3945,"endOffset":3981,"count":0},{"startOffset":4013,"endOffset":4050,"count":0},{"startOffset":4054,"endOffset":4096,"count":0},{"startOffset":4160,"endOffset":4311,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4194,"endOffset":4305,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5461,"endOffset":5673,"count":16},{"startOffset":5559,"endOffset":5590,"count":0},{"startOffset":5634,"endOffset":5666,"count":1}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":5679,"endOffset":5940,"count":0}],"isBlockCoverage":false},{"functionName":"lazyWebStreams","ranges":[{"startOffset":6014,"endOffset":6178,"count":0}],"isBlockCoverage":false},{"functionName":"Duplex.fromWeb","ranges":[{"startOffset":6197,"endOffset":6315,"count":0}],"isBlockCoverage":false},{"functionName":"Duplex.toWeb","ranges":[{"startOffset":6333,"endOffset":6422,"count":0}],"isBlockCoverage":false},{"functionName":"Duplex.from","ranges":[{"startOffset":6455,"endOffset":6586,"count":1}],"isBlockCoverage":true}]},{"scriptId":"101","url":"node:internal/streams/legacy","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3251,"count":1}],"isBlockCoverage":false},{"functionName":"Stream","ranges":[{"startOffset":130,"endOffset":178,"count":9}],"isBlockCoverage":true},{"functionName":"Stream.pipe","ranges":[{"startOffset":292,"endOffset":2094,"count":0}],"isBlockCoverage":false},{"functionName":"eventNames","ranges":[{"startOffset":2127,"endOffset":2393,"count":0}],"isBlockCoverage":false},{"functionName":"prependListener","ranges":[{"startOffset":2396,"endOffset":3203,"count":4},{"startOffset":2655,"endOffset":3018,"count":0},{"startOffset":3024,"endOffset":3201,"count":0}],"isBlockCoverage":true}]},{"scriptId":"102","url":"node:internal/streams/readable","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":51364,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1880,"endOffset":1905,"count":1}],"isBlockCoverage":true},{"functionName":"nop","ranges":[{"startOffset":2867,"endOffset":2875,"count":0}],"isBlockCoverage":false},{"functionName":"makeBitMapDescriptor","ranges":[{"startOffset":3771,"endOffset":3993,"count":19}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":3846,"endOffset":3890,"count":123}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":3896,"endOffset":3985,"count":52},{"startOffset":3926,"endOffset":3946,"count":14},{"startOffset":3946,"endOffset":3979,"count":38}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":6167,"endOffset":6255,"count":18},{"startOffset":6220,"endOffset":6241,"count":2},{"startOffset":6242,"endOffset":6248,"count":16}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":6261,"endOffset":6427,"count":8},{"startOffset":6291,"endOffset":6371,"count":2},{"startOffset":6371,"endOffset":6421,"count":6}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":6504,"endOffset":6604,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":6610,"endOffset":6840,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6909,"endOffset":6997,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":7003,"endOffset":7169,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":7239,"endOffset":7329,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":7335,"endOffset":7504,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":7573,"endOffset":7676,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":7682,"endOffset":7949,"count":0}],"isBlockCoverage":false},{"functionName":"ReadableState","ranges":[{"startOffset":7962,"endOffset":9958,"count":9},{"startOffset":8335,"endOffset":8356,"count":7},{"startOffset":8362,"endOffset":8390,"count":2},{"startOffset":8407,"endOffset":8417,"count":6},{"startOffset":8418,"endOffset":8447,"count":6},{"startOffset":8453,"endOffset":8481,"count":1},{"startOffset":8656,"endOffset":8728,"count":7},{"startOffset":8729,"endOffset":8765,"count":2},{"startOffset":8924,"endOffset":8954,"count":7},{"startOffset":8956,"endOffset":8984,"count":4},{"startOffset":9073,"endOffset":9105,"count":7},{"startOffset":9107,"endOffset":9137,"count":0},{"startOffset":9367,"endOffset":9384,"count":7},{"startOffset":9416,"endOffset":9445,"count":0},{"startOffset":9446,"endOffset":9476,"count":0},{"startOffset":9525,"endOffset":9684,"count":0},{"startOffset":9836,"endOffset":9855,"count":7},{"startOffset":9857,"endOffset":9956,"count":0}],"isBlockCoverage":true},{"functionName":"onConstructed","ranges":[{"startOffset":10002,"endOffset":10119,"count":0}],"isBlockCoverage":false},{"functionName":"Readable","ranges":[{"startOffset":10122,"endOffset":11156,"count":3},{"startOffset":10190,"endOffset":10219,"count":0},{"startOffset":10657,"endOffset":10988,"count":1},{"startOffset":10709,"endOffset":10735,"count":0},{"startOffset":10790,"endOffset":10822,"count":0},{"startOffset":10879,"endOffset":10915,"count":0},{"startOffset":10947,"endOffset":10984,"count":0},{"startOffset":11052,"endOffset":11154,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11086,"endOffset":11148,"count":0}],"isBlockCoverage":false},{"functionName":"Readable._destroy","ranges":[{"startOffset":11293,"endOffset":11325,"count":1}],"isBlockCoverage":true},{"functionName":"Readable.<computed>","ranges":[{"startOffset":11376,"endOffset":11414,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.<computed>","ranges":[{"startOffset":11458,"endOffset":11714,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.push","ranges":[{"startOffset":11943,"endOffset":12212,"count":123},{"startOffset":12078,"endOffset":12142,"count":0}],"isBlockCoverage":true},{"functionName":"Readable.unshift","ranges":[{"startOffset":12308,"endOffset":12575,"count":0}],"isBlockCoverage":false},{"functionName":"readableAddChunkUnshiftByteMode","ranges":[{"startOffset":12579,"endOffset":13645,"count":0}],"isBlockCoverage":false},{"functionName":"readableAddChunkUnshiftObjectMode","ranges":[{"startOffset":13647,"endOffset":13887,"count":0}],"isBlockCoverage":false},{"functionName":"readableAddChunkUnshiftValue","ranges":[{"startOffset":13889,"endOffset":14222,"count":0}],"isBlockCoverage":false},{"functionName":"readableAddChunkPushByteMode","ranges":[{"startOffset":14224,"endOffset":15616,"count":0}],"isBlockCoverage":false},{"functionName":"readableAddChunkPushObjectMode","ranges":[{"startOffset":15618,"endOffset":16215,"count":123},{"startOffset":15714,"endOffset":15800,"count":3},{"startOffset":15800,"endOffset":15840,"count":120},{"startOffset":15840,"endOffset":15924,"count":0},{"startOffset":15924,"endOffset":15981,"count":120},{"startOffset":15981,"endOffset":16004,"count":0},{"startOffset":16004,"endOffset":16076,"count":120},{"startOffset":16076,"endOffset":16088,"count":0},{"startOffset":16090,"endOffset":16142,"count":0},{"startOffset":16142,"endOffset":16214,"count":120}],"isBlockCoverage":true},{"functionName":"canPushMore","ranges":[{"startOffset":16217,"endOffset":16547,"count":120},{"startOffset":16522,"endOffset":16543,"count":40}],"isBlockCoverage":true},{"functionName":"addChunk","ranges":[{"startOffset":16549,"endOffset":17493,"count":120},{"startOffset":16695,"endOffset":16716,"count":41},{"startOffset":16718,"endOffset":17033,"count":41},{"startOffset":16864,"endOffset":16910,"count":0},{"startOffset":17033,"endOffset":17459,"count":79},{"startOffset":17132,"endOffset":17146,"count":0},{"startOffset":17168,"endOffset":17334,"count":0},{"startOffset":17434,"endOffset":17455,"count":41}],"isBlockCoverage":true},{"functionName":"Readable.isPaused","ranges":[{"startOffset":17525,"endOffset":17680,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.setEncoding","ranges":[{"startOffset":17744,"endOffset":18314,"count":0}],"isBlockCoverage":false},{"functionName":"computeNewHighWaterMark","ranges":[{"startOffset":18375,"endOffset":18726,"count":0}],"isBlockCoverage":false},{"functionName":"howMuchToRead","ranges":[{"startOffset":18839,"endOffset":19320,"count":219},{"startOffset":18887,"endOffset":18944,"count":166},{"startOffset":18910,"endOffset":18943,"count":87},{"startOffset":18950,"endOffset":18959,"count":55},{"startOffset":18959,"endOffset":19007,"count":164},{"startOffset":19007,"endOffset":19016,"count":162},{"startOffset":19016,"endOffset":19219,"count":2},{"startOffset":19144,"endOffset":19190,"count":0},{"startOffset":19219,"endOffset":19313,"count":0},{"startOffset":19314,"endOffset":19317,"count":0}],"isBlockCoverage":true},{"functionName":"Readable.read","ranges":[{"startOffset":19417,"endOffset":24092,"count":219},{"startOffset":19601,"endOffset":19619,"count":166},{"startOffset":19619,"endOffset":19686,"count":53},{"startOffset":19650,"endOffset":19686,"count":0},{"startOffset":19851,"endOffset":19900,"count":0},{"startOffset":19921,"endOffset":19956,"count":166},{"startOffset":20142,"endOffset":20188,"count":53},{"startOffset":20189,"endOffset":20341,"count":41},{"startOffset":20272,"endOffset":20298,"count":0},{"startOffset":20343,"endOffset":20520,"count":0},{"startOffset":20629,"endOffset":20662,"count":57},{"startOffset":20664,"endOffset":20739,"count":10},{"startOffset":20700,"endOffset":20718,"count":2},{"startOffset":20739,"endOffset":22034,"count":209},{"startOffset":22034,"endOffset":22075,"count":80},{"startOffset":22077,"endOffset":22462,"count":209},{"startOffset":22462,"endOffset":22540,"count":124},{"startOffset":22540,"endOffset":23164,"count":85},{"startOffset":22728,"endOffset":22759,"count":44},{"startOffset":22849,"endOffset":22901,"count":0},{"startOffset":23128,"endOffset":23160,"count":0},{"startOffset":23164,"endOffset":23194,"count":209},{"startOffset":23194,"endOffset":23219,"count":162},{"startOffset":23219,"endOffset":23242,"count":47},{"startOffset":23242,"endOffset":23264,"count":209},{"startOffset":23264,"endOffset":23358,"count":130},{"startOffset":23339,"endOffset":23342,"count":0},{"startOffset":23358,"endOffset":23540,"count":79},{"startOffset":23439,"endOffset":23485,"count":0},{"startOffset":23540,"endOffset":23568,"count":209},{"startOffset":23568,"endOffset":23926,"count":171},{"startOffset":23735,"endOffset":23766,"count":170},{"startOffset":23863,"endOffset":23896,"count":127},{"startOffset":23904,"endOffset":23922,"count":1},{"startOffset":23926,"endOffset":23947,"count":209},{"startOffset":23947,"endOffset":24005,"count":79},{"startOffset":24007,"endOffset":24075,"count":79},{"startOffset":24075,"endOffset":24091,"count":209}],"isBlockCoverage":true},{"functionName":"onEofChunk","ranges":[{"startOffset":24095,"endOffset":25057,"count":3},{"startOffset":24193,"endOffset":24200,"count":0},{"startOffset":24252,"endOffset":24274,"count":0},{"startOffset":24298,"endOffset":24485,"count":0},{"startOffset":24551,"endOffset":24753,"count":0}],"isBlockCoverage":true},{"functionName":"emitReadable","ranges":[{"startOffset":25258,"endOffset":25589,"count":41}],"isBlockCoverage":true},{"functionName":"emitReadable_","ranges":[{"startOffset":25591,"endOffset":26263,"count":44},{"startOffset":25760,"endOffset":25793,"count":2},{"startOffset":26182,"endOffset":26224,"count":40},{"startOffset":26225,"endOffset":26240,"count":40},{"startOffset":26241,"endOffset":26244,"count":4}],"isBlockCoverage":true},{"functionName":"maybeReadMore","ranges":[{"startOffset":26613,"endOffset":26820,"count":120},{"startOffset":26725,"endOffset":26818,"count":82}],"isBlockCoverage":true},{"functionName":"maybeReadMore_","ranges":[{"startOffset":26822,"endOffset":28651,"count":82},{"startOffset":28317,"endOffset":28435,"count":40},{"startOffset":28365,"endOffset":28434,"count":0},{"startOffset":28437,"endOffset":28615,"count":40}],"isBlockCoverage":true},{"functionName":"Readable._read","ranges":[{"startOffset":28922,"endOffset":28988,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.pipe","ranges":[{"startOffset":29017,"endOffset":33527,"count":4},{"startOffset":29134,"endOffset":29358,"count":0},{"startOffset":29478,"endOffset":29503,"count":1},{"startOffset":29505,"endOffset":29545,"count":3},{"startOffset":29546,"endOffset":29586,"count":1},{"startOffset":29611,"endOffset":29618,"count":0},{"startOffset":29676,"endOffset":29700,"count":0},{"startOffset":33398,"endOffset":33416,"count":0},{"startOffset":33460,"endOffset":33509,"count":0}],"isBlockCoverage":true},{"functionName":"onunpipe","ranges":[{"startOffset":29770,"endOffset":29996,"count":3},{"startOffset":29861,"endOffset":29992,"count":2}],"isBlockCoverage":true},{"functionName":"onend","ranges":[{"startOffset":30000,"endOffset":30058,"count":0}],"isBlockCoverage":false},{"functionName":"cleanup","ranges":[{"startOffset":30103,"endOffset":30995,"count":2},{"startOffset":30306,"endOffset":30358,"count":1},{"startOffset":30880,"endOffset":30906,"count":1},{"startOffset":30907,"endOffset":30973,"count":1},{"startOffset":30981,"endOffset":30991,"count":1}],"isBlockCoverage":true},{"functionName":"pause","ranges":[{"startOffset":30999,"endOffset":32001,"count":40},{"startOffset":31464,"endOffset":31656,"count":0},{"startOffset":31700,"endOffset":31997,"count":1}],"isBlockCoverage":true},{"functionName":"ondata","ranges":[{"startOffset":32031,"endOffset":32191,"count":80},{"startOffset":32165,"endOffset":32187,"count":40}],"isBlockCoverage":true},{"functionName":"onerror","ranges":[{"startOffset":32313,"endOffset":32724,"count":0}],"isBlockCoverage":false},{"functionName":"onclose","ranges":[{"startOffset":32904,"endOffset":32987,"count":0}],"isBlockCoverage":false},{"functionName":"onfinish","ranges":[{"startOffset":33021,"endOffset":33126,"count":0}],"isBlockCoverage":false},{"functionName":"unpipe","ranges":[{"startOffset":33163,"endOffset":33229,"count":2}],"isBlockCoverage":true},{"functionName":"pipeOnDrain","ranges":[{"startOffset":33530,"endOffset":34207,"count":1}],"isBlockCoverage":true},{"functionName":"pipeOnDrainFunctionResult","ranges":[{"startOffset":33573,"endOffset":34204,"count":40},{"startOffset":33888,"endOffset":34049,"count":0},{"startOffset":34085,"endOffset":34122,"count":0},{"startOffset":34173,"endOffset":34200,"count":39}],"isBlockCoverage":true},{"functionName":"Readable.unpipe","ranges":[{"startOffset":34238,"endOffset":34939,"count":2},{"startOffset":34425,"endOffset":34437,"count":0},{"startOffset":34452,"endOffset":34668,"count":0},{"startOffset":34784,"endOffset":34796,"count":0}],"isBlockCoverage":true},{"functionName":"Readable.on","ranges":[{"startOffset":35065,"endOffset":36074,"count":56},{"startOffset":35197,"endOffset":35626,"count":4},{"startOffset":35426,"endOffset":35446,"count":0},{"startOffset":35626,"endOffset":36057,"count":52},{"startOffset":35655,"endOffset":36057,"count":1},{"startOffset":35907,"endOffset":35944,"count":0}],"isBlockCoverage":true},{"functionName":"Readable.removeListener","ranges":[{"startOffset":36169,"endOffset":36876,"count":39},{"startOffset":36369,"endOffset":36755,"count":0},{"startOffset":36779,"endOffset":36814,"count":2},{"startOffset":36816,"endOffset":36859,"count":2}],"isBlockCoverage":true},{"functionName":"Readable.removeAllListeners","ranges":[{"startOffset":36979,"endOffset":37573,"count":0}],"isBlockCoverage":false},{"functionName":"updateReadableListening","ranges":[{"startOffset":37576,"endOffset":38278,"count":0}],"isBlockCoverage":false},{"functionName":"nReadingNextTick","ranges":[{"startOffset":38280,"endOffset":38368,"count":1}],"isBlockCoverage":true},{"functionName":"Readable.resume","ranges":[{"startOffset":38522,"endOffset":39027,"count":43},{"startOffset":38874,"endOffset":38921,"count":0}],"isBlockCoverage":true},{"functionName":"resume","ranges":[{"startOffset":39030,"endOffset":39203,"count":43}],"isBlockCoverage":true},{"functionName":"resume_","ranges":[{"startOffset":39205,"endOffset":39519,"count":43},{"startOffset":39332,"endOffset":39357,"count":12},{"startOffset":39502,"endOffset":39517,"count":0}],"isBlockCoverage":true},{"functionName":"Readable.pause","ranges":[{"startOffset":39548,"endOffset":39860,"count":42},{"startOffset":39687,"endOffset":39802,"count":41}],"isBlockCoverage":true},{"functionName":"flow","ranges":[{"startOffset":39863,"endOffset":40014,"count":87},{"startOffset":39985,"endOffset":40010,"count":44},{"startOffset":40011,"endOffset":40012,"count":39}],"isBlockCoverage":true},{"functionName":"Readable.wrap","ranges":[{"startOffset":40198,"endOffset":41219,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.<computed>","ranges":[{"startOffset":41264,"endOffset":41316,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.iterator","ranges":[{"startOffset":41349,"endOffset":41492,"count":0}],"isBlockCoverage":false},{"functionName":"streamToAsyncIterator","ranges":[{"startOffset":41495,"endOffset":41744,"count":0}],"isBlockCoverage":false},{"functionName":"createAsyncIterator","ranges":[{"startOffset":41746,"endOffset":42822,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":43041,"endOffset":43430,"count":14}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":43436,"endOffset":43566,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":43648,"endOffset":43712,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":43794,"endOffset":44002,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":44090,"endOffset":44156,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":44237,"endOffset":44319,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":44401,"endOffset":44461,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":44472,"endOffset":44581,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":44657,"endOffset":44711,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":44791,"endOffset":44879,"count":1},{"startOffset":44865,"endOffset":44872,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":44957,"endOffset":45042,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":45111,"endOffset":45195,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":45240,"endOffset":45324,"count":8},{"startOffset":45310,"endOffset":45317,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":45395,"endOffset":45482,"count":5},{"startOffset":45468,"endOffset":45475,"count":0}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":45488,"endOffset":45777,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":45852,"endOffset":45940,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":46081,"endOffset":46126,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":46206,"endOffset":46264,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":46270,"endOffset":46431,"count":0}],"isBlockCoverage":false},{"functionName":"fromList","ranges":[{"startOffset":46737,"endOffset":49189,"count":162},{"startOffset":46820,"endOffset":46832,"count":83},{"startOffset":46832,"endOffset":47023,"count":79},{"startOffset":47023,"endOffset":48963,"count":0},{"startOffset":48963,"endOffset":48984,"count":79},{"startOffset":48984,"endOffset":49045,"count":42},{"startOffset":49045,"endOffset":49172,"count":37},{"startOffset":49067,"endOffset":49132,"count":0},{"startOffset":49172,"endOffset":49188,"count":79}],"isBlockCoverage":true},{"functionName":"endReadable","ranges":[{"startOffset":49191,"endOffset":49417,"count":3}],"isBlockCoverage":true},{"functionName":"endReadableNT","ranges":[{"startOffset":49419,"endOffset":50312,"count":3},{"startOffset":49713,"endOffset":49746,"count":0},{"startOffset":49748,"endOffset":49802,"count":0},{"startOffset":50034,"endOffset":50239,"count":2},{"startOffset":50202,"endOffset":50230,"count":1},{"startOffset":50265,"endOffset":50300,"count":2}],"isBlockCoverage":true},{"functionName":"endWritableNT","ranges":[{"startOffset":50314,"endOffset":50474,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.from","ranges":[{"startOffset":50492,"endOffset":50561,"count":0}],"isBlockCoverage":false},{"functionName":"lazyWebStreams","ranges":[{"startOffset":50626,"endOffset":50790,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.fromWeb","ranges":[{"startOffset":50811,"endOffset":50945,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.toWeb","ranges":[{"startOffset":50965,"endOffset":51099,"count":0}],"isBlockCoverage":false},{"functionName":"Readable.wrap","ranges":[{"startOffset":51118,"endOffset":51362,"count":0}],"isBlockCoverage":false}]},{"scriptId":"103","url":"node:internal/streams/add-abort-signal","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1741,"count":1}],"isBlockCoverage":false},{"functionName":"validateAbortSignal","ranges":[{"startOffset":570,"endOffset":729,"count":0}],"isBlockCoverage":false},{"functionName":"addAbortSignal","ranges":[{"startOffset":764,"endOffset":1075,"count":0}],"isBlockCoverage":false},{"functionName":"module.exports.addAbortSignalNoValidate","ranges":[{"startOffset":1120,"endOffset":1739,"count":0}],"isBlockCoverage":false}]},{"scriptId":"104","url":"node:internal/streams/state","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1332,"count":1}],"isBlockCoverage":false},{"functionName":"highWaterMarkFrom","ranges":[{"startOffset":287,"endOffset":454,"count":13},{"startOffset":385,"endOffset":408,"count":3},{"startOffset":409,"endOffset":451,"count":10},{"startOffset":445,"endOffset":451,"count":0}],"isBlockCoverage":true},{"functionName":"getDefaultHighWaterMark","ranges":[{"startOffset":456,"endOffset":586,"count":12},{"startOffset":523,"endOffset":555,"count":1},{"startOffset":556,"endOffset":583,"count":11}],"isBlockCoverage":true},{"functionName":"setDefaultHighWaterMark","ranges":[{"startOffset":588,"endOffset":799,"count":0}],"isBlockCoverage":false},{"functionName":"getHighWaterMark","ranges":[{"startOffset":801,"endOffset":1234,"count":13},{"startOffset":948,"endOffset":1160,"count":3},{"startOffset":992,"endOffset":1129,"count":0},{"startOffset":1160,"endOffset":1233,"count":10}],"isBlockCoverage":true}]},{"scriptId":"105","url":"node:string_decoder","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5141,"count":1}],"isBlockCoverage":false},{"functionName":"normalizeEncoding","ranges":[{"startOffset":2172,"endOffset":2422,"count":0}],"isBlockCoverage":false},{"functionName":"StringDecoder","ranges":[{"startOffset":2633,"endOffset":2832,"count":0}],"isBlockCoverage":false},{"functionName":"write","ranges":[{"startOffset":3155,"endOffset":3540,"count":0}],"isBlockCoverage":false},{"functionName":"end","ranges":[{"startOffset":3817,"endOffset":4008,"count":0}],"isBlockCoverage":false},{"functionName":"text","ranges":[{"startOffset":4219,"endOffset":4376,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4514,"endOffset":4727,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4819,"endOffset":4882,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4975,"endOffset":5090,"count":0}],"isBlockCoverage":false}]},{"scriptId":"106","url":"node:internal/streams/from","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4341,"count":1}],"isBlockCoverage":false},{"functionName":"from","ranges":[{"startOffset":241,"endOffset":4316,"count":1},{"startOffset":365,"endOffset":521,"count":0},{"startOffset":660,"endOffset":860,"count":0}],"isBlockCoverage":true},{"functionName":"read","ranges":[{"startOffset":438,"endOffset":508,"count":0}],"isBlockCoverage":false},{"functionName":"readable._read","ranges":[{"startOffset":1172,"endOffset":1405,"count":41},{"startOffset":1277,"endOffset":1395,"count":0}],"isBlockCoverage":true},{"functionName":"readable._destroy","ranges":[{"startOffset":1430,"endOffset":1634,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1504,"endOffset":1537,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1583,"endOffset":1622,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":1639,"endOffset":2076,"count":1},{"startOffset":1809,"endOffset":1820,"count":0},{"startOffset":1822,"endOffset":1949,"count":0}],"isBlockCoverage":true},{"functionName":"nextSyncWithSyncValues","ranges":[{"startOffset":2204,"endOffset":2809,"count":0}],"isBlockCoverage":false},{"functionName":"changeToAsyncValues","ranges":[{"startOffset":2813,"endOffset":3203,"count":0}],"isBlockCoverage":false},{"functionName":"nextSyncWithAsyncValues","ranges":[{"startOffset":3207,"endOffset":3810,"count":0}],"isBlockCoverage":false},{"functionName":"nextAsync","ranges":[{"startOffset":3814,"endOffset":4295,"count":41},{"startOffset":3944,"endOffset":4004,"count":1},{"startOffset":4004,"endOffset":4034,"count":40},{"startOffset":4034,"endOffset":4118,"count":0},{"startOffset":4118,"endOffset":4154,"count":40},{"startOffset":4154,"endOffset":4185,"count":0},{"startOffset":4185,"endOffset":4220,"count":40},{"startOffset":4220,"endOffset":4272,"count":0},{"startOffset":4272,"endOffset":4291,"count":40}],"isBlockCoverage":true}]},{"scriptId":"107","url":"node:internal/streams/writable","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":33628,"count":1}],"isBlockCoverage":false},{"functionName":"nop","ranges":[{"startOffset":2779,"endOffset":2796,"count":40}],"isBlockCoverage":true},{"functionName":"makeBitMapDescriptor","ranges":[{"startOffset":3852,"endOffset":4074,"count":20}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":3927,"endOffset":3971,"count":38}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":3977,"endOffset":4066,"count":63},{"startOffset":4007,"endOffset":4027,"count":9},{"startOffset":4027,"endOffset":4060,"count":54}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":7038,"endOffset":7116,"count":9},{"startOffset":7085,"endOffset":7106,"count":2},{"startOffset":7107,"endOffset":7113,"count":7}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":7122,"endOffset":7288,"count":8},{"startOffset":7152,"endOffset":7232,"count":2},{"startOffset":7232,"endOffset":7282,"count":6}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":7358,"endOffset":7458,"count":35},{"startOffset":7409,"endOffset":7443,"count":1},{"startOffset":7444,"endOffset":7455,"count":34}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":7464,"endOffset":7737,"count":1},{"startOffset":7502,"endOffset":7564,"count":0},{"startOffset":7581,"endOffset":7642,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":7814,"endOffset":7914,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":7920,"endOffset":8150,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8291,"endOffset":8368,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":8374,"endOffset":8538,"count":80},{"startOffset":8439,"endOffset":8482,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":8725,"endOffset":8825,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":8831,"endOffset":9028,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":9098,"endOffset":9176,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":9182,"endOffset":9349,"count":0}],"isBlockCoverage":false},{"functionName":"WritableState","ranges":[{"startOffset":9362,"endOffset":11664,"count":6},{"startOffset":9640,"endOffset":9668,"count":1},{"startOffset":9731,"endOffset":9759,"count":0},{"startOffset":10050,"endOffset":10086,"count":0},{"startOffset":10140,"endOffset":10171,"count":2},{"startOffset":10278,"endOffset":10306,"count":4},{"startOffset":10429,"endOffset":10459,"count":0},{"startOffset":10716,"endOffset":10722,"count":0},{"startOffset":10754,"endOffset":10783,"count":0},{"startOffset":10784,"endOffset":10814,"count":0},{"startOffset":10863,"endOffset":11072,"count":0}],"isBlockCoverage":true},{"functionName":"resetBuffer","ranges":[{"startOffset":11666,"endOffset":11830,"count":6}],"isBlockCoverage":true},{"functionName":"getBuffer","ranges":[{"startOffset":11868,"endOffset":11997,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":12093,"endOffset":12204,"count":0}],"isBlockCoverage":false},{"functionName":"onConstructed","ranges":[{"startOffset":12253,"endOffset":12439,"count":0}],"isBlockCoverage":false},{"functionName":"Writable","ranges":[{"startOffset":12442,"endOffset":13548,"count":0}],"isBlockCoverage":false},{"functionName":"value","ranges":[{"startOffset":13630,"endOffset":13834,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.pipe","ranges":[{"startOffset":13935,"endOffset":14003,"count":0}],"isBlockCoverage":false},{"functionName":"_write","ranges":[{"startOffset":14006,"endOffset":15404,"count":80},{"startOffset":14110,"endOffset":14137,"count":0},{"startOffset":14182,"endOffset":14227,"count":0},{"startOffset":14272,"endOffset":15019,"count":40},{"startOffset":14366,"endOffset":14389,"count":0},{"startOffset":14396,"endOffset":14516,"count":0},{"startOffset":14553,"endOffset":14695,"count":0},{"startOffset":14764,"endOffset":15015,"count":0},{"startOffset":15071,"endOffset":15120,"count":0},{"startOffset":15166,"endOffset":15216,"count":0},{"startOffset":15229,"endOffset":15320,"count":0}],"isBlockCoverage":true},{"functionName":"Writable.write","ranges":[{"startOffset":15433,"endOffset":15624,"count":80},{"startOffset":15488,"endOffset":15521,"count":0},{"startOffset":15523,"endOffset":15568,"count":0}],"isBlockCoverage":true},{"functionName":"Writable.cork","ranges":[{"startOffset":15653,"endOffset":15751,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.uncork","ranges":[{"startOffset":15782,"endOffset":16020,"count":0}],"isBlockCoverage":false},{"functionName":"setDefaultEncoding","ranges":[{"startOffset":16063,"endOffset":16388,"count":0}],"isBlockCoverage":false},{"functionName":"writeOrBuffer","ranges":[{"startOffset":16578,"endOffset":17782,"count":80},{"startOffset":16695,"endOffset":16698,"count":40},{"startOffset":16699,"endOffset":16713,"count":40},{"startOffset":16829,"endOffset":17236,"count":0},{"startOffset":17296,"endOffset":17335,"count":0},{"startOffset":17526,"endOffset":17547,"count":40},{"startOffset":17562,"endOffset":17600,"count":40},{"startOffset":17729,"endOffset":17779,"count":40}],"isBlockCoverage":true},{"functionName":"doWrite","ranges":[{"startOffset":17784,"endOffset":18221,"count":0}],"isBlockCoverage":false},{"functionName":"onwriteError","ranges":[{"startOffset":18223,"endOffset":18608,"count":0}],"isBlockCoverage":false},{"functionName":"onwrite","ranges":[{"startOffset":18610,"endOffset":21216,"count":80},{"startOffset":18727,"endOffset":18801,"count":0},{"startOffset":18895,"endOffset":18917,"count":0},{"startOffset":19066,"endOffset":19680,"count":0},{"startOffset":19731,"endOffset":19772,"count":0},{"startOffset":19788,"endOffset":21157,"count":40},{"startOffset":19849,"endOffset":19870,"count":0},{"startOffset":20304,"endOffset":20424,"count":0},{"startOffset":20508,"endOffset":20567,"count":0},{"startOffset":20585,"endOffset":21151,"count":0},{"startOffset":21157,"endOffset":21210,"count":40}],"isBlockCoverage":true},{"functionName":"afterWriteTick","ranges":[{"startOffset":21218,"endOffset":21405,"count":0}],"isBlockCoverage":false},{"functionName":"afterWrite","ranges":[{"startOffset":21407,"endOffset":21915,"count":40},{"startOffset":21585,"endOffset":21606,"count":39},{"startOffset":21625,"endOffset":21690,"count":39},{"startOffset":21800,"endOffset":21829,"count":0},{"startOffset":21870,"endOffset":21913,"count":1}],"isBlockCoverage":true},{"functionName":"errorBuffer","ranges":[{"startOffset":21987,"endOffset":22538,"count":0}],"isBlockCoverage":false},{"functionName":"clearBuffer","ranges":[{"startOffset":22604,"endOffset":24274,"count":0}],"isBlockCoverage":false},{"functionName":"Writable._write","ranges":[{"startOffset":24304,"endOffset":24473,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.end","ranges":[{"startOffset":24537,"endOffset":26177,"count":1},{"startOffset":24642,"endOffset":24702,"count":0},{"startOffset":24744,"endOffset":24789,"count":0},{"startOffset":24824,"endOffset":24931,"count":0},{"startOffset":24999,"endOffset":25045,"count":0},{"startOffset":25058,"endOffset":25084,"count":0},{"startOffset":25558,"endOffset":25752,"count":0},{"startOffset":25786,"endOffset":26159,"count":0}],"isBlockCoverage":true},{"functionName":"needFinish","ranges":[{"startOffset":26180,"endOffset":26609,"count":3},{"startOffset":26584,"endOffset":26605,"count":2}],"isBlockCoverage":true},{"functionName":"onFinish","ranges":[{"startOffset":26611,"endOffset":27243,"count":1},{"startOffset":26695,"endOffset":26776,"count":0},{"startOffset":26809,"endOffset":26917,"count":0}],"isBlockCoverage":true},{"functionName":"prefinish","ranges":[{"startOffset":27245,"endOffset":27769,"count":1},{"startOffset":27342,"endOffset":27359,"count":0},{"startOffset":27587,"endOffset":27642,"count":0},{"startOffset":27676,"endOffset":27767,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27541,"endOffset":27578,"count":1}],"isBlockCoverage":true},{"functionName":"finishMaybe","ranges":[{"startOffset":27771,"endOffset":28270,"count":2},{"startOffset":27840,"endOffset":28268,"count":1},{"startOffset":27903,"endOffset":28264,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27975,"endOffset":28137,"count":0}],"isBlockCoverage":false},{"functionName":"finish","ranges":[{"startOffset":28272,"endOffset":28915,"count":1},{"startOffset":28820,"endOffset":28848,"count":0}],"isBlockCoverage":true},{"functionName":"callFinishedCallbacks","ranges":[{"startOffset":28917,"endOffset":29235,"count":1},{"startOffset":29022,"endOffset":29234,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":29319,"endOffset":29422,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":29470,"endOffset":29576,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":29582,"endOffset":29832,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":29879,"endOffset":30282,"count":8},{"startOffset":30202,"endOffset":30275,"count":7}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":30288,"endOffset":30422,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":30477,"endOffset":30595,"count":2},{"startOffset":30581,"endOffset":30588,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":30652,"endOffset":30772,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":30825,"endOffset":30920,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":30972,"endOffset":31088,"count":3},{"startOffset":31074,"endOffset":31081,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":31144,"endOffset":31297,"count":4},{"startOffset":31283,"endOffset":31290,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":31357,"endOffset":31454,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":31507,"endOffset":31600,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":31653,"endOffset":31743,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":31812,"endOffset":31909,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":31968,"endOffset":32225,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.destroy","ranges":[{"startOffset":32303,"endOffset":32583,"count":4},{"startOffset":32448,"endOffset":32485,"count":0},{"startOffset":32487,"endOffset":32534,"count":0}],"isBlockCoverage":true},{"functionName":"Writable._destroy","ranges":[{"startOffset":32671,"endOffset":32703,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.<computed>","ranges":[{"startOffset":32754,"endOffset":32792,"count":0}],"isBlockCoverage":false},{"functionName":"lazyWebStreams","ranges":[{"startOffset":32857,"endOffset":33021,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.fromWeb","ranges":[{"startOffset":33042,"endOffset":33176,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.toWeb","ranges":[{"startOffset":33196,"endOffset":33303,"count":0}],"isBlockCoverage":false},{"functionName":"Writable.<computed>","ranges":[{"startOffset":33347,"endOffset":33626,"count":0}],"isBlockCoverage":false}]},{"scriptId":"108","url":"node:stream/promises","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":917,"count":1}],"isBlockCoverage":false},{"functionName":"pipeline","ranges":[{"startOffset":318,"endOffset":869,"count":0}],"isBlockCoverage":false}]},{"scriptId":"109","url":"node:internal/streams/transform","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7123,"count":1}],"isBlockCoverage":false},{"functionName":"Transform","ranges":[{"startOffset":3920,"endOffset":5500,"count":0}],"isBlockCoverage":false},{"functionName":"final","ranges":[{"startOffset":5502,"endOffset":5946,"count":0}],"isBlockCoverage":false},{"functionName":"prefinish","ranges":[{"startOffset":5948,"endOffset":6029,"count":0}],"isBlockCoverage":false},{"functionName":"Transform._transform","ranges":[{"startOffset":6101,"endOffset":6196,"count":0}],"isBlockCoverage":false},{"functionName":"Transform._write","ranges":[{"startOffset":6228,"endOffset":6965,"count":0}],"isBlockCoverage":false},{"functionName":"Transform._read","ranges":[{"startOffset":6996,"endOffset":7121,"count":0}],"isBlockCoverage":false}]},{"scriptId":"110","url":"node:internal/streams/passthrough","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1762,"count":1}],"isBlockCoverage":false},{"functionName":"PassThrough","ranges":[{"startOffset":1529,"endOffset":1671,"count":0}],"isBlockCoverage":false},{"functionName":"PassThrough._transform","ranges":[{"startOffset":1708,"endOffset":1760,"count":0}],"isBlockCoverage":false}]},{"scriptId":"111","url":"node:internal/streams/duplexpair","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1373,"count":1}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":219,"endOffset":1136,"count":0}],"isBlockCoverage":false},{"functionName":"duplexPair","ranges":[{"startOffset":1138,"endOffset":1343,"count":0}],"isBlockCoverage":false}]},{"scriptId":"112","url":"node:internal/worker/messaging","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6866,"count":1}],"isBlockCoverage":false},{"functionName":"handleMessageFromThread","ranges":[{"startOffset":1503,"endOffset":2538,"count":1},{"startOffset":2097,"endOffset":2251,"count":0},{"startOffset":2256,"endOffset":2532,"count":0}],"isBlockCoverage":true},{"functionName":"handleMessageFromMainThread","ranges":[{"startOffset":2540,"endOffset":2762,"count":0}],"isBlockCoverage":false},{"functionName":"sendMessageToWorker","ranges":[{"startOffset":2764,"endOffset":3647,"count":0}],"isBlockCoverage":false},{"functionName":"receiveMessageFromWorker","ranges":[{"startOffset":3649,"endOffset":4293,"count":0}],"isBlockCoverage":false},{"functionName":"createMainThreadPort","ranges":[{"startOffset":4295,"endOffset":4844,"count":1},{"startOffset":4720,"endOffset":4808,"count":0}],"isBlockCoverage":true},{"functionName":"destroyMainThreadPort","ranges":[{"startOffset":4846,"endOffset":5140,"count":0}],"isBlockCoverage":false},{"functionName":"setupMainThreadPort","ranges":[{"startOffset":5142,"endOffset":5335,"count":0}],"isBlockCoverage":false},{"functionName":"postMessageToThread","ranges":[{"startOffset":5337,"endOffset":6747,"count":0}],"isBlockCoverage":false}]},{"scriptId":"113","url":"node:internal/error_serdes","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5723,"count":1}],"isBlockCoverage":false},{"functionName":"TryGetAllProperties","ranges":[{"startOffset":1039,"endOffset":2143,"count":0}],"isBlockCoverage":false},{"functionName":"GetConstructors","ranges":[{"startOffset":2145,"endOffset":2588,"count":0}],"isBlockCoverage":false},{"functionName":"GetName","ranges":[{"startOffset":2590,"endOffset":2710,"count":0}],"isBlockCoverage":false},{"functionName":"inspect","ranges":[{"startOffset":2737,"endOffset":2907,"count":0}],"isBlockCoverage":false},{"functionName":"serializeError","ranges":[{"startOffset":2924,"endOffset":4219,"count":0}],"isBlockCoverage":false},{"functionName":"fromBuffer","ranges":[{"startOffset":4221,"endOffset":4442,"count":0}],"isBlockCoverage":false},{"functionName":"deserializeError","ranges":[{"startOffset":4461,"endOffset":5666,"count":0}],"isBlockCoverage":false}]},{"scriptId":"114","url":"node:diagnostics_channel","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10086,"count":1}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":808,"endOffset":1217,"count":1}],"isBlockCoverage":false},{"functionName":"#finalizers","ranges":[{"startOffset":888,"endOffset":924,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":930,"endOffset":1047,"count":15}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":1051,"endOffset":1099,"count":15},{"startOffset":1087,"endOffset":1092,"count":0}],"isBlockCoverage":true},{"functionName":"incRef","ranges":[{"startOffset":1103,"endOffset":1157,"count":0}],"isBlockCoverage":false},{"functionName":"decRef","ranges":[{"startOffset":1161,"endOffset":1215,"count":0}],"isBlockCoverage":false},{"functionName":"markActive","ranges":[{"startOffset":1219,"endOffset":1424,"count":0}],"isBlockCoverage":false},{"functionName":"maybeMarkInactive","ranges":[{"startOffset":1426,"endOffset":1794,"count":0}],"isBlockCoverage":false},{"functionName":"defaultTransform","ranges":[{"startOffset":1796,"endOffset":1846,"count":0}],"isBlockCoverage":false},{"functionName":"wrapStoreRun","ranges":[{"startOffset":1848,"endOffset":2176,"count":0}],"isBlockCoverage":false},{"functionName":"subscribe","ranges":[{"startOffset":2258,"endOffset":2492,"count":0}],"isBlockCoverage":false},{"functionName":"unsubscribe","ranges":[{"startOffset":2496,"endOffset":2943,"count":0}],"isBlockCoverage":false},{"functionName":"bindStore","ranges":[{"startOffset":2947,"endOffset":3115,"count":0}],"isBlockCoverage":false},{"functionName":"unbindStore","ranges":[{"startOffset":3119,"endOffset":3318,"count":0}],"isBlockCoverage":false},{"functionName":"get hasSubscribers","ranges":[{"startOffset":3322,"endOffset":3365,"count":0}],"isBlockCoverage":false},{"functionName":"publish","ranges":[{"startOffset":3369,"endOffset":3709,"count":0}],"isBlockCoverage":false},{"functionName":"runStores","ranges":[{"startOffset":3713,"endOffset":4052,"count":0}],"isBlockCoverage":false},{"functionName":"Channel","ranges":[{"startOffset":4074,"endOffset":4215,"count":15}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4226,"endOffset":4411,"count":0}],"isBlockCoverage":false},{"functionName":"subscribe","ranges":[{"startOffset":4415,"endOffset":4500,"count":0}],"isBlockCoverage":false},{"functionName":"unsubscribe","ranges":[{"startOffset":4504,"endOffset":4541,"count":0}],"isBlockCoverage":false},{"functionName":"bindStore","ranges":[{"startOffset":4545,"endOffset":4638,"count":0}],"isBlockCoverage":false},{"functionName":"unbindStore","ranges":[{"startOffset":4642,"endOffset":4679,"count":0}],"isBlockCoverage":false},{"functionName":"get hasSubscribers","ranges":[{"startOffset":4683,"endOffset":4727,"count":3}],"isBlockCoverage":true},{"functionName":"publish","ranges":[{"startOffset":4731,"endOffset":4743,"count":0}],"isBlockCoverage":false},{"functionName":"runStores","ranges":[{"startOffset":4747,"endOffset":4834,"count":0}],"isBlockCoverage":false},{"functionName":"channel","ranges":[{"startOffset":4874,"endOffset":5140,"count":15},{"startOffset":4952,"endOffset":4967,"count":0},{"startOffset":5000,"endOffset":5027,"count":0},{"startOffset":5029,"endOffset":5109,"count":0}],"isBlockCoverage":true},{"functionName":"subscribe","ranges":[{"startOffset":5142,"endOffset":5232,"count":0}],"isBlockCoverage":false},{"functionName":"unsubscribe","ranges":[{"startOffset":5234,"endOffset":5328,"count":0}],"isBlockCoverage":false},{"functionName":"hasSubscribers","ranges":[{"startOffset":5330,"endOffset":5465,"count":0}],"isBlockCoverage":false},{"functionName":"assertChannel","ranges":[{"startOffset":5554,"endOffset":5696,"count":0}],"isBlockCoverage":false},{"functionName":"tracingChannelFrom","ranges":[{"startOffset":5698,"endOffset":6223,"count":5},{"startOffset":5854,"endOffset":5923,"count":0},{"startOffset":5925,"endOffset":6222,"count":0}],"isBlockCoverage":true},{"functionName":"TracingChannel","ranges":[{"startOffset":6250,"endOffset":6475,"count":1},{"startOffset":6321,"endOffset":6471,"count":5}],"isBlockCoverage":true},{"functionName":"get hasSubscribers","ranges":[{"startOffset":6479,"endOffset":6689,"count":0}],"isBlockCoverage":false},{"functionName":"subscribe","ranges":[{"startOffset":6693,"endOffset":6845,"count":0}],"isBlockCoverage":false},{"functionName":"unsubscribe","ranges":[{"startOffset":6849,"endOffset":7082,"count":0}],"isBlockCoverage":false},{"functionName":"traceSync","ranges":[{"startOffset":7086,"endOffset":7597,"count":0}],"isBlockCoverage":false},{"functionName":"tracePromise","ranges":[{"startOffset":7601,"endOffset":8787,"count":0}],"isBlockCoverage":false},{"functionName":"traceCallback","ranges":[{"startOffset":8791,"endOffset":9884,"count":0}],"isBlockCoverage":false},{"functionName":"tracingChannel","ranges":[{"startOffset":9888,"endOffset":9976,"count":1}],"isBlockCoverage":true}]},{"scriptId":"115","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/client-D6NvIMSC.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":549,"count":1}],"isBlockCoverage":true},{"functionName":"r","ranges":[{"startOffset":47,"endOffset":91,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":170,"endOffset":431,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":186,"endOffset":430,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":249,"endOffset":394,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":409,"endOffset":418,"count":1}],"isBlockCoverage":true},{"functionName":"exports.connectingToServer","ranges":[{"startOffset":480,"endOffset":493,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":494,"endOffset":500,"count":0}],"isBlockCoverage":false}]},{"scriptId":"116","url":"node:net","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":68429,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1645,"endOffset":1670,"count":1}],"isBlockCoverage":true},{"functionName":"noop","ranges":[{"startOffset":4172,"endOffset":4180,"count":0}],"isBlockCoverage":false},{"functionName":"getFlags","ranges":[{"startOffset":4653,"endOffset":4747,"count":0}],"isBlockCoverage":false},{"functionName":"createHandle","ranges":[{"startOffset":4749,"endOffset":5132,"count":2},{"startOffset":4916,"endOffset":4938,"count":0},{"startOffset":4973,"endOffset":5131,"count":0}],"isBlockCoverage":true},{"functionName":"getNewAsyncId","ranges":[{"startOffset":5135,"endOffset":5273,"count":4},{"startOffset":5230,"endOffset":5248,"count":0}],"isBlockCoverage":true},{"functionName":"isPipeName","ranges":[{"startOffset":5276,"endOffset":5359,"count":2}],"isBlockCoverage":true},{"functionName":"createServer","ranges":[{"startOffset":5560,"endOffset":5664,"count":0}],"isBlockCoverage":false},{"functionName":"connect","ranges":[{"startOffset":5887,"endOffset":6288,"count":2},{"startOffset":6115,"endOffset":6179,"count":0},{"startOffset":6203,"endOffset":6248,"count":0}],"isBlockCoverage":true},{"functionName":"getDefaultAutoSelectFamily","ranges":[{"startOffset":6290,"endOffset":6365,"count":0}],"isBlockCoverage":false},{"functionName":"setDefaultAutoSelectFamily","ranges":[{"startOffset":6367,"endOffset":6483,"count":0}],"isBlockCoverage":false},{"functionName":"getDefaultAutoSelectFamilyAttemptTimeout","ranges":[{"startOffset":6485,"endOffset":6588,"count":0}],"isBlockCoverage":false},{"functionName":"setDefaultAutoSelectFamilyAttemptTimeout","ranges":[{"startOffset":6590,"endOffset":6777,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeArgs","ranges":[{"startOffset":7271,"endOffset":7997,"count":2},{"startOffset":7339,"endOffset":7420,"count":0},{"startOffset":7497,"endOffset":7513,"count":0},{"startOffset":7515,"endOffset":7568,"count":0},{"startOffset":7651,"endOffset":7816,"count":0},{"startOffset":7890,"endOffset":7912,"count":0}],"isBlockCoverage":true},{"functionName":"initSocketHandle","ranges":[{"startOffset":8069,"endOffset":8672,"count":6},{"startOffset":8236,"endOffset":8670,"count":4},{"startOffset":8425,"endOffset":8666,"count":0}],"isBlockCoverage":true},{"functionName":"closeSocketHandle","ranges":[{"startOffset":8674,"endOffset":9014,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8793,"endOffset":9006,"count":2},{"startOffset":8895,"endOffset":9000,"count":0}],"isBlockCoverage":true},{"functionName":"Socket","ranges":[{"startOffset":9266,"endOffset":13893,"count":4},{"startOffset":9326,"endOffset":9353,"count":0},{"startOffset":9381,"endOffset":9510,"count":0},{"startOffset":9580,"endOffset":9828,"count":0},{"startOffset":9890,"endOffset":10086,"count":0},{"startOffset":10648,"endOffset":10674,"count":0},{"startOffset":11080,"endOffset":11188,"count":0},{"startOffset":11224,"endOffset":12436,"count":2},{"startOffset":11716,"endOffset":11754,"count":0},{"startOffset":11830,"endOffset":11841,"count":1},{"startOffset":11899,"endOffset":12432,"count":0},{"startOffset":12523,"endOffset":12600,"count":0},{"startOffset":12601,"endOffset":12647,"count":0},{"startOffset":12649,"endOffset":12864,"count":0},{"startOffset":13368,"endOffset":13397,"count":2},{"startOffset":13399,"endOffset":13664,"count":0},{"startOffset":13688,"endOffset":13740,"count":0}],"isBlockCoverage":true},{"functionName":"_unrefTimer","ranges":[{"startOffset":14066,"endOffset":14196,"count":42},{"startOffset":14168,"endOffset":14190,"count":0}],"isBlockCoverage":true},{"functionName":"Socket._final","ranges":[{"startOffset":14316,"endOffset":14936,"count":0}],"isBlockCoverage":false},{"functionName":"afterShutdown","ranges":[{"startOffset":14939,"endOffset":15085,"count":0}],"isBlockCoverage":false},{"functionName":"writeAfterFIN","ranges":[{"startOffset":15292,"endOffset":15800,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._onTimeout","ranges":[{"startOffset":15882,"endOffset":16386,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setNoDelay","ranges":[{"startOffset":16420,"endOffset":16797,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setKeepAlive","ranges":[{"startOffset":16833,"endOffset":17439,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.address","ranges":[{"startOffset":17470,"endOffset":17514,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":17600,"endOffset":17644,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":17724,"endOffset":17780,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":17891,"endOffset":18206,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":18295,"endOffset":18375,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":18463,"endOffset":18508,"count":0}],"isBlockCoverage":false},{"functionName":"tryReadStart","ranges":[{"startOffset":18516,"endOffset":18766,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._read","ranges":[{"startOffset":18858,"endOffset":19177,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.end","ranges":[{"startOffset":19204,"endOffset":19360,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.resetAndDestroy","ranges":[{"startOffset":19398,"endOffset":19748,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.pause","ranges":[{"startOffset":19776,"endOffset":20114,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.resume","ranges":[{"startOffset":20144,"endOffset":20328,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.read","ranges":[{"startOffset":20356,"endOffset":20542,"count":0}],"isBlockCoverage":false},{"functionName":"onReadableStreamEnd","ranges":[{"startOffset":20589,"endOffset":20688,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.destroySoon","ranges":[{"startOffset":20722,"endOffset":20869,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._destroy","ranges":[{"startOffset":20901,"endOffset":22415,"count":2},{"startOffset":21205,"endOffset":21212,"count":0},{"startOffset":21424,"endOffset":21669,"count":0},{"startOffset":21710,"endOffset":21946,"count":0},{"startOffset":22165,"endOffset":22236,"count":0},{"startOffset":22258,"endOffset":22413,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21499,"endOffset":21584,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21890,"endOffset":21938,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._reset","ranges":[{"startOffset":22444,"endOffset":22543,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._getpeername","ranges":[{"startOffset":22578,"endOffset":22875,"count":0}],"isBlockCoverage":false},{"functionName":"protoGetter","ranges":[{"startOffset":22878,"endOffset":23060,"count":9}],"isBlockCoverage":true},{"functionName":"bytesRead","ranges":[{"startOffset":23087,"endOffset":23178,"count":0}],"isBlockCoverage":false},{"functionName":"remoteAddress","ranges":[{"startOffset":23211,"endOffset":23277,"count":0}],"isBlockCoverage":false},{"functionName":"remoteFamily","ranges":[{"startOffset":23309,"endOffset":23373,"count":0}],"isBlockCoverage":false},{"functionName":"remotePort","ranges":[{"startOffset":23403,"endOffset":23463,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._getsockname","ranges":[{"startOffset":23500,"endOffset":23776,"count":0}],"isBlockCoverage":false},{"functionName":"localAddress","ranges":[{"startOffset":23808,"endOffset":23873,"count":0}],"isBlockCoverage":false},{"functionName":"localPort","ranges":[{"startOffset":23903,"endOffset":23962,"count":0}],"isBlockCoverage":false},{"functionName":"localFamily","ranges":[{"startOffset":23993,"endOffset":24056,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.<computed>","ranges":[{"startOffset":24097,"endOffset":24144,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._writeGeneric","ranges":[{"startOffset":24180,"endOffset":25092,"count":40},{"startOffset":24402,"endOffset":24746,"count":0},{"startOffset":24827,"endOffset":24883,"count":0},{"startOffset":24937,"endOffset":24973,"count":0},{"startOffset":25052,"endOffset":25090,"count":0}],"isBlockCoverage":true},{"functionName":"connect","ranges":[{"startOffset":24497,"endOffset":24611,"count":0}],"isBlockCoverage":false},{"functionName":"onClose","ranges":[{"startOffset":24618,"endOffset":24697,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._writev","ranges":[{"startOffset":25123,"endOffset":25191,"count":0}],"isBlockCoverage":false},{"functionName":"Socket._write","ranges":[{"startOffset":25221,"endOffset":25302,"count":40}],"isBlockCoverage":true},{"functionName":"_bytesDispatched","ranges":[{"startOffset":25495,"endOffset":25599,"count":0}],"isBlockCoverage":false},{"functionName":"bytesWritten","ranges":[{"startOffset":25631,"endOffset":26560,"count":0}],"isBlockCoverage":false},{"functionName":"checkBindError","ranges":[{"startOffset":26565,"endOffset":27364,"count":0}],"isBlockCoverage":false},{"functionName":"internalConnect","ranges":[{"startOffset":27367,"endOffset":29467,"count":2},{"startOffset":27622,"endOffset":28261,"count":0},{"startOffset":28470,"endOffset":28845,"count":0},{"startOffset":29017,"endOffset":29269,"count":0},{"startOffset":29320,"endOffset":29341,"count":0},{"startOffset":29343,"endOffset":29465,"count":0}],"isBlockCoverage":true},{"functionName":"internalConnectMultiple","ranges":[{"startOffset":29470,"endOffset":32410,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.connect","ranges":[{"startOffset":32439,"endOffset":34035,"count":2},{"startOffset":32848,"endOffset":32897,"count":0},{"startOffset":33109,"endOffset":33135,"count":0},{"startOffset":33137,"endOffset":33159,"count":0},{"startOffset":33273,"endOffset":33329,"count":0},{"startOffset":33380,"endOffset":33416,"count":0},{"startOffset":33440,"endOffset":33524,"count":0},{"startOffset":33693,"endOffset":33729,"count":0},{"startOffset":33970,"endOffset":34018,"count":0}],"isBlockCoverage":true},{"functionName":"reinitializeHandle","ranges":[{"startOffset":34078,"endOffset":34232,"count":0}],"isBlockCoverage":false},{"functionName":"socketToDnsFamily","ranges":[{"startOffset":34235,"endOffset":34381,"count":0}],"isBlockCoverage":false},{"functionName":"lookupAndConnect","ranges":[{"startOffset":34383,"endOffset":38314,"count":0}],"isBlockCoverage":false},{"functionName":"lookupAndConnectMultiple","ranges":[{"startOffset":38316,"endOffset":42415,"count":0}],"isBlockCoverage":false},{"functionName":"connectErrorNT","ranges":[{"startOffset":42417,"endOffset":42476,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.ref","ranges":[{"startOffset":42502,"endOffset":42689,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.unref","ranges":[{"startOffset":42718,"endOffset":42911,"count":2},{"startOffset":42752,"endOffset":42812,"count":0}],"isBlockCoverage":true},{"functionName":"afterConnect","ranges":[{"startOffset":42915,"endOffset":44603,"count":2},{"startOffset":43085,"endOffset":43102,"count":0},{"startOffset":43230,"endOffset":43997,"count":0},{"startOffset":44047,"endOffset":44063,"count":0},{"startOffset":44065,"endOffset":44128,"count":0},{"startOffset":44403,"endOffset":44488,"count":0}],"isBlockCoverage":true},{"functionName":"addClientAbortSignalOption","ranges":[{"startOffset":44605,"endOffset":45015,"count":0}],"isBlockCoverage":false},{"functionName":"createConnectionError","ranges":[{"startOffset":45017,"endOffset":45538,"count":0}],"isBlockCoverage":false},{"functionName":"afterConnectMultiple","ranges":[{"startOffset":45540,"endOffset":46858,"count":0}],"isBlockCoverage":false},{"functionName":"internalConnectMultipleTimeout","ranges":[{"startOffset":46860,"endOffset":47356,"count":0}],"isBlockCoverage":false},{"functionName":"addServerAbortSignalOption","ranges":[{"startOffset":47358,"endOffset":47788,"count":0}],"isBlockCoverage":false},{"functionName":"Server","ranges":[{"startOffset":47790,"endOffset":49402,"count":0}],"isBlockCoverage":false},{"functionName":"toNumber","ranges":[{"startOffset":49513,"endOffset":49578,"count":2},{"startOffset":49564,"endOffset":49567,"count":0}],"isBlockCoverage":true},{"functionName":"createServerHandle","ranges":[{"startOffset":49646,"endOffset":51098,"count":0}],"isBlockCoverage":false},{"functionName":"setupListenHandle","ranges":[{"startOffset":51100,"endOffset":53794,"count":0}],"isBlockCoverage":false},{"functionName":"emitErrorNT","ranges":[{"startOffset":53861,"endOffset":53923,"count":0}],"isBlockCoverage":false},{"functionName":"emitListeningNT","ranges":[{"startOffset":53926,"endOffset":54041,"count":0}],"isBlockCoverage":false},{"functionName":"listenInCluster","ranges":[{"startOffset":54044,"endOffset":55626,"count":0}],"isBlockCoverage":false},{"functionName":"Server.listen","ranges":[{"startOffset":55655,"endOffset":60017,"count":0}],"isBlockCoverage":false},{"functionName":"lookupAndListen","ranges":[{"startOffset":60020,"endOffset":60563,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":60645,"endOffset":60688,"count":0}],"isBlockCoverage":false},{"functionName":"Server.address","ranges":[{"startOffset":60764,"endOffset":61057,"count":0}],"isBlockCoverage":false},{"functionName":"onconnection","ranges":[{"startOffset":61060,"endOffset":62963,"count":0}],"isBlockCoverage":false},{"functionName":"Server.getConnections","ranges":[{"startOffset":63112,"endOffset":63865,"count":0}],"isBlockCoverage":false},{"functionName":"Server.close","ranges":[{"startOffset":63894,"endOffset":64784,"count":0}],"isBlockCoverage":false},{"functionName":"Server.<computed>","ranges":[{"startOffset":64826,"endOffset":64946,"count":0}],"isBlockCoverage":false},{"functionName":"Server._emitCloseIfDrained","ranges":[{"startOffset":64988,"endOffset":65374,"count":0}],"isBlockCoverage":false},{"functionName":"emitCloseNT","ranges":[{"startOffset":65378,"endOffset":65461,"count":0}],"isBlockCoverage":false},{"functionName":"Server.<computed>","ranges":[{"startOffset":65520,"endOffset":65682,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":65904,"endOffset":65940,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":65944,"endOffset":65985,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":66065,"endOffset":66096,"count":90}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":66100,"endOffset":66136,"count":6}],"isBlockCoverage":true},{"functionName":"Server._setupWorker","ranges":[{"startOffset":66175,"endOffset":66416,"count":0}],"isBlockCoverage":false},{"functionName":"Server.ref","ranges":[{"startOffset":66442,"endOffset":66540,"count":0}],"isBlockCoverage":false},{"functionName":"Server.unref","ranges":[{"startOffset":66568,"endOffset":66667,"count":0}],"isBlockCoverage":false},{"functionName":"_setSimultaneousAccepts","ranges":[{"startOffset":66809,"endOffset":67478,"count":0}],"isBlockCoverage":false},{"functionName":"_setSimultaneousAccepts","ranges":[{"startOffset":67517,"endOffset":67758,"count":0}],"isBlockCoverage":false},{"functionName":"get BlockList","ranges":[{"startOffset":67887,"endOffset":67989,"count":1}],"isBlockCoverage":true},{"functionName":"get SocketAddress","ranges":[{"startOffset":67993,"endOffset":68115,"count":1}],"isBlockCoverage":true}]},{"scriptId":"117","url":"node:internal/stream_base_commons","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7170,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1057,"endOffset":1082,"count":0}],"isBlockCoverage":false},{"functionName":"handleWriteReq","ranges":[{"startOffset":1201,"endOffset":2056,"count":40},{"startOffset":1426,"endOffset":1444,"count":0},{"startOffset":1473,"endOffset":1487,"count":0},{"startOffset":1492,"endOffset":1556,"count":0},{"startOffset":1561,"endOffset":1573,"count":0},{"startOffset":1578,"endOffset":1639,"count":0},{"startOffset":1644,"endOffset":1706,"count":0},{"startOffset":1711,"endOffset":1723,"count":0},{"startOffset":1728,"endOffset":1741,"count":0},{"startOffset":1746,"endOffset":1761,"count":0},{"startOffset":1766,"endOffset":1830,"count":0},{"startOffset":1835,"endOffset":2050,"count":0}],"isBlockCoverage":true},{"functionName":"onWriteComplete","ranges":[{"startOffset":2058,"endOffset":2747,"count":0}],"isBlockCoverage":false},{"functionName":"createWriteWrap","ranges":[{"startOffset":2749,"endOffset":2987,"count":40}],"isBlockCoverage":true},{"functionName":"writevGeneric","ranges":[{"startOffset":2989,"endOffset":3628,"count":0}],"isBlockCoverage":false},{"functionName":"writeGeneric","ranges":[{"startOffset":3630,"endOffset":3835,"count":40}],"isBlockCoverage":true},{"functionName":"afterWriteDispatched","ranges":[{"startOffset":3837,"endOffset":4144,"count":40},{"startOffset":4004,"endOffset":4059,"count":0}],"isBlockCoverage":true},{"functionName":"onStreamRead","ranges":[{"startOffset":4146,"endOffset":6085,"count":0}],"isBlockCoverage":false},{"functionName":"setStreamTimeout","ranges":[{"startOffset":6087,"endOffset":6963,"count":0}],"isBlockCoverage":false}]},{"scriptId":"118","url":"node:internal/perf/observe","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16722,"count":1}],"isBlockCoverage":false},{"functionName":"queuePending","ranges":[{"startOffset":2600,"endOffset":2861,"count":0}],"isBlockCoverage":false},{"functionName":"getObserverType","ranges":[{"startOffset":2863,"endOffset":3203,"count":0}],"isBlockCoverage":false},{"functionName":"maybeDecrementObserverCounts","ranges":[{"startOffset":3205,"endOffset":3626,"count":0}],"isBlockCoverage":false},{"functionName":"maybeIncrementObserverCount","ranges":[{"startOffset":3628,"endOffset":3970,"count":0}],"isBlockCoverage":false},{"functionName":"performanceObserverSorter","ranges":[{"startOffset":4047,"endOffset":4114,"count":0}],"isBlockCoverage":false},{"functionName":"PerformanceObserverEntryList","ranges":[{"startOffset":4156,"endOffset":4384,"count":0}],"isBlockCoverage":false},{"functionName":"getEntries","ranges":[{"startOffset":4388,"endOffset":4527,"count":0}],"isBlockCoverage":false},{"functionName":"getEntriesByType","ranges":[{"startOffset":4531,"endOffset":4835,"count":0}],"isBlockCoverage":false},{"functionName":"getEntriesByName","ranges":[{"startOffset":4839,"endOffset":5332,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5336,"endOffset":5584,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":5936,"endOffset":9533,"count":0}],"isBlockCoverage":false},{"functionName":"enqueue","ranges":[{"startOffset":10015,"endOffset":10217,"count":0}],"isBlockCoverage":false},{"functionName":"bufferUserTiming","ranges":[{"startOffset":10278,"endOffset":11304,"count":0}],"isBlockCoverage":false},{"functionName":"bufferResourceTiming","ranges":[{"startOffset":11592,"endOffset":12856,"count":0}],"isBlockCoverage":false},{"functionName":"setResourceTimingBufferSize","ranges":[{"startOffset":12944,"endOffset":13216,"count":0}],"isBlockCoverage":false},{"functionName":"setDispatchBufferFull","ranges":[{"startOffset":13218,"endOffset":13283,"count":0}],"isBlockCoverage":false},{"functionName":"clearEntriesFromBuffer","ranges":[{"startOffset":13285,"endOffset":13885,"count":0}],"isBlockCoverage":false},{"functionName":"filterBufferMapByNameAndType","ranges":[{"startOffset":13887,"endOffset":14729,"count":0}],"isBlockCoverage":false},{"functionName":"observerCallback","ranges":[{"startOffset":14731,"endOffset":15847,"count":0}],"isBlockCoverage":false},{"functionName":"hasObserver","ranges":[{"startOffset":15884,"endOffset":16003,"count":0}],"isBlockCoverage":false},{"functionName":"startPerf","ranges":[{"startOffset":16006,"endOffset":16116,"count":0}],"isBlockCoverage":false},{"functionName":"stopPerf","ranges":[{"startOffset":16118,"endOffset":16433,"count":0}],"isBlockCoverage":false}]},{"scriptId":"119","url":"node:internal/perf/performance_entry","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3272,"count":1}],"isBlockCoverage":false},{"functionName":"isPerformanceEntry","ranges":[{"startOffset":675,"endOffset":748,"count":0}],"isBlockCoverage":false},{"functionName":"PerformanceEntry","ranges":[{"startOffset":777,"endOffset":1132,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":1136,"endOffset":1236,"count":0}],"isBlockCoverage":false},{"functionName":"get entryType","ranges":[{"startOffset":1240,"endOffset":1355,"count":0}],"isBlockCoverage":false},{"functionName":"get startTime","ranges":[{"startOffset":1359,"endOffset":1474,"count":0}],"isBlockCoverage":false},{"functionName":"get duration","ranges":[{"startOffset":1478,"endOffset":1590,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1594,"endOffset":1838,"count":0}],"isBlockCoverage":false},{"functionName":"toJSON","ranges":[{"startOffset":1842,"endOffset":2064,"count":0}],"isBlockCoverage":false},{"functionName":"createPerformanceEntry","ranges":[{"startOffset":2286,"endOffset":2422,"count":0}],"isBlockCoverage":false},{"functionName":"get detail","ranges":[{"startOffset":2539,"endOffset":2649,"count":0}],"isBlockCoverage":false},{"functionName":"toJSON","ranges":[{"startOffset":2653,"endOffset":2904,"count":0}],"isBlockCoverage":false},{"functionName":"createPerformanceNodeEntry","ranges":[{"startOffset":2908,"endOffset":3112,"count":0}],"isBlockCoverage":false}]},{"scriptId":"120","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/suppress-warnings.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":497,"count":1}],"isBlockCoverage":true},{"functionName":"process.emit","ranges":[{"startOffset":404,"endOffset":495,"count":11},{"startOffset":436,"endOffset":454,"count":0}],"isBlockCoverage":true}]},{"scriptId":"121","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/cjs/index.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":484,"count":1}],"isBlockCoverage":true}]},{"scriptId":"122","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/register-D46fvsV_.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8003,"count":1},{"startOffset":1889,"endOffset":1938,"count":0}],"isBlockCoverage":true},{"functionName":"o","ranges":[{"startOffset":47,"endOffset":91,"count":71}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":391,"endOffset":556,"count":89},{"startOffset":444,"endOffset":555,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":584,"endOffset":662,"count":46},{"startOffset":609,"endOffset":659,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":688,"endOffset":745,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":763,"endOffset":814,"count":94},{"startOffset":776,"endOffset":814,"count":36},{"startOffset":789,"endOffset":801,"count":2},{"startOffset":801,"endOffset":813,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":837,"endOffset":861,"count":94},{"startOffset":844,"endOffset":861,"count":58}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":880,"endOffset":935,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1259,"endOffset":1537,"count":1},{"startOffset":1279,"endOffset":1338,"count":0},{"startOffset":1365,"endOffset":1372,"count":0},{"startOffset":1378,"endOffset":1384,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1558,"endOffset":1605,"count":21},{"startOffset":1583,"endOffset":1602,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1695,"endOffset":1728,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1757,"endOffset":1836,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1949,"endOffset":2129,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1952,"endOffset":2129,"count":203},{"startOffset":1968,"endOffset":1973,"count":0},{"startOffset":1981,"endOffset":2128,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2041,"endOffset":2089,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2298,"endOffset":2560,"count":5},{"startOffset":2356,"endOffset":2361,"count":1},{"startOffset":2361,"endOffset":2368,"count":0},{"startOffset":2372,"endOffset":2388,"count":1},{"startOffset":2438,"endOffset":2450,"count":1},{"startOffset":2450,"endOffset":2465,"count":4},{"startOffset":2476,"endOffset":2486,"count":4},{"startOffset":2486,"endOffset":2505,"count":1},{"startOffset":2501,"endOffset":2504,"count":0},{"startOffset":2520,"endOffset":2534,"count":4},{"startOffset":2534,"endOffset":2557,"count":1},{"startOffset":2553,"endOffset":2556,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2577,"endOffset":3476,"count":1},{"startOffset":3289,"endOffset":3342,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2608,"endOffset":3243,"count":21},{"startOffset":2634,"endOffset":2648,"count":0},{"startOffset":2729,"endOffset":2743,"count":0},{"startOffset":2808,"endOffset":2831,"count":0},{"startOffset":2846,"endOffset":2889,"count":0},{"startOffset":2962,"endOffset":2976,"count":0},{"startOffset":3029,"endOffset":3091,"count":1},{"startOffset":3069,"endOffset":3090,"count":0},{"startOffset":3091,"endOffset":3200,"count":20},{"startOffset":3113,"endOffset":3200,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2906,"endOffset":2922,"count":105}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2934,"endOffset":2950,"count":22}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3393,"endOffset":3475,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3502,"endOffset":3775,"count":46}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3505,"endOffset":3775,"count":46},{"startOffset":3550,"endOffset":3560,"count":0},{"startOffset":3571,"endOffset":3656,"count":0},{"startOffset":3672,"endOffset":3774,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4019,"endOffset":4280,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4304,"endOffset":4600,"count":23},{"startOffset":4452,"endOffset":4599,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4627,"endOffset":5129,"count":46}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4634,"endOffset":5129,"count":47},{"startOffset":4712,"endOffset":4744,"count":21},{"startOffset":4735,"endOffset":4743,"count":0},{"startOffset":4760,"endOffset":5128,"count":2},{"startOffset":4821,"endOffset":5089,"count":0},{"startOffset":5111,"endOffset":5119,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5211,"endOffset":5293,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5317,"endOffset":5770,"count":46},{"startOffset":5378,"endOffset":5388,"count":43},{"startOffset":5389,"endOffset":5648,"count":43},{"startOffset":5423,"endOffset":5541,"count":0},{"startOffset":5622,"endOffset":5647,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5662,"endOffset":5768,"count":45},{"startOffset":5685,"endOffset":5707,"count":23},{"startOffset":5707,"endOffset":5729,"count":22},{"startOffset":5729,"endOffset":5754,"count":21},{"startOffset":5738,"endOffset":5753,"count":0},{"startOffset":5754,"endOffset":5765,"count":21}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5793,"endOffset":6003,"count":46},{"startOffset":5821,"endOffset":5845,"count":0},{"startOffset":5874,"endOffset":5908,"count":0},{"startOffset":5909,"endOffset":5991,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6027,"endOffset":6430,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6036,"endOffset":6430,"count":46},{"startOffset":6067,"endOffset":6086,"count":0},{"startOffset":6150,"endOffset":6169,"count":0},{"startOffset":6202,"endOffset":6212,"count":43},{"startOffset":6212,"endOffset":6215,"count":3},{"startOffset":6289,"endOffset":6319,"count":43},{"startOffset":6401,"endOffset":6411,"count":42},{"startOffset":6411,"endOffset":6414,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6239,"endOffset":6253,"count":47}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6460,"endOffset":6739,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6763,"endOffset":7571,"count":1},{"startOffset":6920,"endOffset":6931,"count":0},{"startOffset":6982,"endOffset":6993,"count":0},{"startOffset":7128,"endOffset":7139,"count":0},{"startOffset":7140,"endOffset":7562,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6999,"endOffset":7109,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7151,"endOffset":7311,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7351,"endOffset":7517,"count":0}],"isBlockCoverage":false}]},{"scriptId":"123","url":"node:internal/modules/esm/resolve","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":46464,"count":1}],"isBlockCoverage":false},{"functionName":"emitTrailingSlashPatternDeprecation","ranges":[{"startOffset":2799,"endOffset":3432,"count":0}],"isBlockCoverage":false},{"functionName":"emitInvalidSegmentDeprecation","ranges":[{"startOffset":3945,"endOffset":4687,"count":0}],"isBlockCoverage":false},{"functionName":"emitLegacyIndexDeprecation","ranges":[{"startOffset":5124,"endOffset":6304,"count":3},{"startOffset":5224,"endOffset":5241,"count":0},{"startOffset":5333,"endOffset":6302,"count":0}],"isBlockCoverage":true},{"functionName":"legacyMainResolve","ranges":[{"startOffset":7395,"endOffset":8155,"count":3},{"startOffset":7562,"endOffset":7646,"count":0},{"startOffset":7686,"endOffset":7697,"count":0},{"startOffset":7937,"endOffset":7941,"count":0}],"isBlockCoverage":true},{"functionName":"finalizeResolution","ranges":[{"startOffset":8939,"endOffset":10695,"count":38},{"startOffset":9075,"endOffset":9326,"count":0},{"startOffset":9388,"endOffset":9572,"count":0},{"startOffset":9661,"endOffset":9697,"count":0},{"startOffset":9763,"endOffset":9953,"count":0},{"startOffset":9976,"endOffset":10354,"count":0},{"startOffset":10600,"endOffset":10605,"count":0}],"isBlockCoverage":true},{"functionName":"importNotDefined","ranges":[{"startOffset":11109,"endOffset":11320,"count":0}],"isBlockCoverage":false},{"functionName":"exportsNotFound","ranges":[{"startOffset":11716,"endOffset":11911,"count":0}],"isBlockCoverage":false},{"functionName":"throwInvalidSubpath","ranges":[{"startOffset":12549,"endOffset":12932,"count":0}],"isBlockCoverage":false},{"functionName":"invalidPackageTarget","ranges":[{"startOffset":13388,"endOffset":13766,"count":0}],"isBlockCoverage":false},{"functionName":"resolvePackageTargetString","ranges":[{"startOffset":15122,"endOffset":17861,"count":7},{"startOffset":15291,"endOffset":15302,"count":0},{"startOffset":15303,"endOffset":15339,"count":0},{"startOffset":15341,"endOffset":15425,"count":0},{"startOffset":15475,"endOffset":16018,"count":0},{"startOffset":16110,"endOffset":16720,"count":0},{"startOffset":16939,"endOffset":17023,"count":0},{"startOffset":17067,"endOffset":17860,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15793,"endOffset":15806,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":16319,"endOffset":16332,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":16465,"endOffset":16478,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17202,"endOffset":17215,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17442,"endOffset":17455,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17795,"endOffset":17808,"count":0}],"isBlockCoverage":false},{"functionName":"isArrayIndex","ranges":[{"startOffset":18053,"endOffset":18197,"count":28},{"startOffset":18149,"endOffset":18194,"count":0}],"isBlockCoverage":true},{"functionName":"resolvePackageTarget","ranges":[{"startOffset":18992,"endOffset":21242,"count":21},{"startOffset":19185,"endOffset":19339,"count":7},{"startOffset":19339,"endOffset":21125,"count":14},{"startOffset":19371,"endOffset":20217,"count":0},{"startOffset":20370,"endOffset":20598,"count":28},{"startOffset":20428,"endOffset":20592,"count":0},{"startOffset":20641,"endOffset":21050,"count":25},{"startOffset":20698,"endOffset":20720,"count":18},{"startOffset":20722,"endOffset":21044,"count":14},{"startOffset":20993,"endOffset":21006,"count":0},{"startOffset":21050,"endOffset":21125,"count":0},{"startOffset":21125,"endOffset":21241,"count":0}],"isBlockCoverage":true},{"functionName":"isConditionalExportsMainSugar","ranges":[{"startOffset":21526,"endOffset":22469,"count":7},{"startOffset":21658,"endOffset":21674,"count":0},{"startOffset":21730,"endOffset":21747,"count":0},{"startOffset":21887,"endOffset":22438,"count":14},{"startOffset":21997,"endOffset":22434,"count":7},{"startOffset":22110,"endOffset":22434,"count":0}],"isBlockCoverage":true},{"functionName":"packageExportsResolve","ranges":[{"startOffset":22966,"endOffset":25541,"count":7},{"startOffset":23613,"endOffset":23687,"count":0},{"startOffset":23718,"endOffset":25540,"count":0}],"isBlockCoverage":true},{"functionName":"patternKeyCompare","ranges":[{"startOffset":25915,"endOffset":26470,"count":0}],"isBlockCoverage":false},{"functionName":"packageImportsResolve","ranges":[{"startOffset":26957,"endOffset":29414,"count":0}],"isBlockCoverage":false},{"functionName":"getPackageType","ranges":[{"startOffset":29528,"endOffset":29641,"count":0}],"isBlockCoverage":false},{"functionName":"parsePackageName","ranges":[{"startOffset":29806,"endOffset":30864,"count":7},{"startOffset":29997,"endOffset":30225,"count":0},{"startOffset":30287,"endOffset":30339,"count":0},{"startOffset":30512,"endOffset":30547,"count":0},{"startOffset":30574,"endOffset":30693,"count":0},{"startOffset":30754,"endOffset":30807,"count":0}],"isBlockCoverage":true},{"functionName":"packageResolve","ranges":[{"startOffset":31188,"endOffset":33260,"count":13},{"startOffset":31302,"endOffset":31348,"count":6},{"startOffset":31348,"endOffset":31807,"count":7},{"startOffset":31686,"endOffset":31803,"count":0},{"startOffset":31807,"endOffset":31978,"count":7},{"startOffset":31978,"endOffset":33045,"count":30},{"startOffset":32237,"endOffset":32514,"count":23},{"startOffset":32314,"endOffset":32351,"count":0},{"startOffset":32514,"endOffset":32695,"count":7},{"startOffset":32695,"endOffset":32812,"count":4},{"startOffset":32812,"endOffset":32954,"count":3},{"startOffset":32954,"endOffset":33045,"count":0},{"startOffset":33045,"endOffset":33259,"count":0}],"isBlockCoverage":true},{"functionName":"isBareSpecifier","ranges":[{"startOffset":33371,"endOffset":33481,"count":0}],"isBlockCoverage":false},{"functionName":"isRelativeSpecifier","ranges":[{"startOffset":33600,"endOffset":33879,"count":128},{"startOffset":33670,"endOffset":33861,"count":60},{"startOffset":33728,"endOffset":33744,"count":42},{"startOffset":33744,"endOffset":33857,"count":18},{"startOffset":33861,"endOffset":33878,"count":68}],"isBlockCoverage":true},{"functionName":"shouldBeTreatedAsRelativeOrAbsolutePath","ranges":[{"startOffset":34028,"endOffset":34219,"count":128},{"startOffset":34114,"endOffset":34131,"count":0},{"startOffset":34160,"endOffset":34176,"count":0}],"isBlockCoverage":true},{"functionName":"moduleResolve","ranges":[{"startOffset":34582,"endOffset":35954,"count":44},{"startOffset":34773,"endOffset":34792,"count":0},{"startOffset":35095,"endOffset":35319,"count":30},{"startOffset":35156,"endOffset":35315,"count":0},{"startOffset":35319,"endOffset":35825,"count":14},{"startOffset":35375,"endOffset":35447,"count":0},{"startOffset":35508,"endOffset":35821,"count":13},{"startOffset":35543,"endOffset":35598,"count":0},{"startOffset":35600,"endOffset":35753,"count":0},{"startOffset":35863,"endOffset":35889,"count":6},{"startOffset":35889,"endOffset":35953,"count":38}],"isBlockCoverage":true},{"functionName":"resolveAsCommonJS","ranges":[{"startOffset":36154,"endOffset":37980,"count":0}],"isBlockCoverage":false},{"functionName":"checkIfDisallowedImport","ranges":[{"startOffset":38360,"endOffset":39732,"count":84},{"startOffset":38666,"endOffset":39726,"count":0}],"isBlockCoverage":true},{"functionName":"throwIfInvalidParentURL","ranges":[{"startOffset":39872,"endOffset":40145,"count":84},{"startOffset":39949,"endOffset":40000,"count":0},{"startOffset":40037,"endOffset":40057,"count":0},{"startOffset":40059,"endOffset":40143,"count":0}],"isBlockCoverage":true},{"functionName":"defaultResolve","ranges":[{"startOffset":40769,"endOffset":44767,"count":84},{"startOffset":40926,"endOffset":40936,"count":0},{"startOffset":40938,"endOffset":41747,"count":0},{"startOffset":41851,"endOffset":41890,"count":0},{"startOffset":41988,"endOffset":42047,"count":30},{"startOffset":42047,"endOffset":42095,"count":54},{"startOffset":42095,"endOffset":42230,"count":71},{"startOffset":42230,"endOffset":42275,"count":0},{"startOffset":42276,"endOffset":42311,"count":0},{"startOffset":42313,"endOffset":42476,"count":0},{"startOffset":42476,"endOffset":42639,"count":71},{"startOffset":42543,"endOffset":42631,"count":0},{"startOffset":42646,"endOffset":42705,"count":0},{"startOffset":42710,"endOffset":42825,"count":13},{"startOffset":42775,"endOffset":42797,"count":0},{"startOffset":43159,"endOffset":43182,"count":0},{"startOffset":43255,"endOffset":43265,"count":0},{"startOffset":43295,"endOffset":43342,"count":40},{"startOffset":43342,"endOffset":43401,"count":44},{"startOffset":43401,"endOffset":43908,"count":0},{"startOffset":43908,"endOffset":44064,"count":44},{"startOffset":44064,"endOffset":44086,"count":0},{"startOffset":44087,"endOffset":44105,"count":44},{"startOffset":44118,"endOffset":44541,"count":0},{"startOffset":44541,"endOffset":44766,"count":44}],"isBlockCoverage":true},{"functionName":"decorateErrorWithCommonJSHints","ranges":[{"startOffset":45030,"endOffset":45643,"count":0}],"isBlockCoverage":false},{"functionName":"defaultResolve","ranges":[{"startOffset":46069,"endOffset":46460,"count":0}],"isBlockCoverage":false}]},{"scriptId":"124","url":"node:internal/modules/esm/package_config","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2215,"count":1}],"isBlockCoverage":false},{"functionName":"getPackageScopeConfig","ranges":[{"startOffset":1072,"endOffset":2165,"count":14},{"startOffset":1190,"endOffset":1910,"count":30},{"startOffset":1324,"endOffset":1344,"count":0},{"startOffset":1534,"endOffset":1569,"count":14},{"startOffset":1569,"endOffset":1886,"count":16},{"startOffset":1886,"endOffset":1906,"count":0},{"startOffset":1910,"endOffset":2164,"count":0}],"isBlockCoverage":true}]},{"scriptId":"125","url":"node:internal/modules/esm/get_format","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8075,"count":1}],"isBlockCoverage":false},{"functionName":"node:","ranges":[{"startOffset":1056,"endOffset":1087,"count":6}],"isBlockCoverage":true},{"functionName":"detectModuleFormat","ranges":[{"startOffset":1255,"endOffset":1496,"count":7},{"startOffset":1313,"endOffset":1357,"count":6},{"startOffset":1342,"endOffset":1354,"count":0},{"startOffset":1357,"endOffset":1379,"count":1},{"startOffset":1379,"endOffset":1401,"count":0},{"startOffset":1401,"endOffset":1470,"count":1},{"startOffset":1470,"endOffset":1480,"count":0},{"startOffset":1481,"endOffset":1493,"count":1}],"isBlockCoverage":true},{"functionName":"getDataProtocolModuleFormat","ranges":[{"startOffset":1557,"endOffset":1773,"count":0}],"isBlockCoverage":false},{"functionName":"extname","ranges":[{"startOffset":2048,"endOffset":2407,"count":42},{"startOffset":2148,"endOffset":2392,"count":161},{"startOffset":2210,"endOffset":2245,"count":0},{"startOffset":2253,"endOffset":2382,"count":42},{"startOffset":2341,"endOffset":2345,"count":0},{"startOffset":2392,"endOffset":2406,"count":0}],"isBlockCoverage":true},{"functionName":"underNodeModules","ranges":[{"startOffset":2637,"endOffset":2858,"count":0}],"isBlockCoverage":false},{"functionName":"warnTypelessPackageJsonFile","ranges":[{"startOffset":2901,"endOffset":3528,"count":0}],"isBlockCoverage":false},{"functionName":"getFileProtocolModuleFormat","ranges":[{"startOffset":3669,"endOffset":6736,"count":42},{"startOffset":3838,"endOffset":5421,"count":7},{"startOffset":3971,"endOffset":4004,"count":0},{"startOffset":4137,"endOffset":4496,"count":0},{"startOffset":4503,"endOffset":4626,"count":0},{"startOffset":5080,"endOffset":5099,"count":0},{"startOffset":5101,"endOffset":5380,"count":0},{"startOffset":5421,"endOffset":5441,"count":35},{"startOffset":5441,"endOffset":6444,"count":0},{"startOffset":6444,"endOffset":6520,"count":35},{"startOffset":6520,"endOffset":6735,"count":0}],"isBlockCoverage":true},{"functionName":"getHttpProtocolModuleFormat","ranges":[{"startOffset":6872,"endOffset":7217,"count":0}],"isBlockCoverage":false},{"functionName":"defaultGetFormatWithoutErrors","ranges":[{"startOffset":7362,"endOffset":7597,"count":47},{"startOffset":7516,"endOffset":7538,"count":0}],"isBlockCoverage":true},{"functionName":"defaultGetFormat","ranges":[{"startOffset":7742,"endOffset":7965,"count":1},{"startOffset":7883,"endOffset":7905,"count":0}],"isBlockCoverage":true}]},{"scriptId":"126","url":"node:internal/modules/esm/formats","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1798,"count":1}],"isBlockCoverage":false},{"functionName":"mimeToFormat","ranges":[{"startOffset":660,"endOffset":998,"count":0}],"isBlockCoverage":false},{"functionName":"getFormatOfExtensionlessFile","ranges":[{"startOffset":1368,"endOffset":1704,"count":0}],"isBlockCoverage":false}]},{"scriptId":"127","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/get-tsconfig@4.13.0/node_modules/get-tsconfig/dist/index.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22488,"count":1}],"isBlockCoverage":true},{"functionName":"o","ranges":[{"startOffset":48,"endOffset":93,"count":68}],"isBlockCoverage":true},{"functionName":"E","ranges":[{"startOffset":253,"endOffset":321,"count":2},{"startOffset":297,"endOffset":299,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":344,"endOffset":507,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":368,"endOffset":506,"count":2},{"startOffset":422,"endOffset":429,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":579,"endOffset":684,"count":1},{"startOffset":642,"endOffset":683,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":720,"endOffset":765,"count":0}],"isBlockCoverage":false},{"functionName":"Le","ranges":[{"startOffset":791,"endOffset":4097,"count":1},{"startOffset":3794,"endOffset":3796,"count":0}],"isBlockCoverage":true},{"functionName":"y","ranges":[{"startOffset":870,"endOffset":1072,"count":0}],"isBlockCoverage":false},{"functionName":"v","ranges":[{"startOffset":1093,"endOffset":1129,"count":0}],"isBlockCoverage":false},{"functionName":"j","ranges":[{"startOffset":1148,"endOffset":1648,"count":0}],"isBlockCoverage":false},{"functionName":"d","ranges":[{"startOffset":1666,"endOffset":2224,"count":47},{"startOffset":1699,"endOffset":2215,"count":717},{"startOffset":1708,"endOffset":1739,"count":0},{"startOffset":1773,"endOffset":1804,"count":47},{"startOffset":1804,"endOffset":1814,"count":670},{"startOffset":1814,"endOffset":2148,"count":0},{"startOffset":2148,"endOffset":2162,"count":670},{"startOffset":2163,"endOffset":2211,"count":0},{"startOffset":2211,"endOffset":2215,"count":670}],"isBlockCoverage":true},{"functionName":"A","ranges":[{"startOffset":2242,"endOffset":3469,"count":319},{"startOffset":2284,"endOffset":2300,"count":1},{"startOffset":2300,"endOffset":2330,"count":318},{"startOffset":2330,"endOffset":2406,"count":92},{"startOffset":2334,"endOffset":2382,"count":244},{"startOffset":2406,"endOffset":2414,"count":226},{"startOffset":2414,"endOffset":2507,"count":55},{"startOffset":2457,"endOffset":2493,"count":0},{"startOffset":2507,"endOffset":2517,"count":171},{"startOffset":2517,"endOffset":2565,"count":2},{"startOffset":2565,"endOffset":2611,"count":3},{"startOffset":2611,"endOffset":2634,"count":38},{"startOffset":2634,"endOffset":2657,"count":39},{"startOffset":2657,"endOffset":2687,"count":47},{"startOffset":2687,"endOffset":3083,"count":6},{"startOffset":2733,"endOffset":2804,"count":0},{"startOffset":2867,"endOffset":2997,"count":97},{"startOffset":2901,"endOffset":2925,"count":6},{"startOffset":2926,"endOffset":2943,"count":6},{"startOffset":2943,"endOffset":2951,"count":91},{"startOffset":2951,"endOffset":2996,"count":0},{"startOffset":3005,"endOffset":3016,"count":0},{"startOffset":3041,"endOffset":3083,"count":0},{"startOffset":3083,"endOffset":3262,"count":0},{"startOffset":3262,"endOffset":3467,"count":31},{"startOffset":3278,"endOffset":3284,"count":159},{"startOffset":3286,"endOffset":3308,"count":128},{"startOffset":3347,"endOffset":3369,"count":27},{"startOffset":3369,"endOffset":3392,"count":4},{"startOffset":3392,"endOffset":3413,"count":0},{"startOffset":3414,"endOffset":3467,"count":0}],"isBlockCoverage":true},{"functionName":"h","ranges":[{"startOffset":3485,"endOffset":3616,"count":159},{"startOffset":3513,"endOffset":3522,"count":1},{"startOffset":3522,"endOffset":3532,"count":158},{"startOffset":3532,"endOffset":3582,"count":0},{"startOffset":3582,"endOffset":3606,"count":30},{"startOffset":3607,"endOffset":3615,"count":128}],"isBlockCoverage":true},{"functionName":"B","ranges":[{"startOffset":3649,"endOffset":3706,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3767,"endOffset":3772,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3810,"endOffset":3815,"count":335}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3844,"endOffset":3849,"count":47}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3884,"endOffset":3889,"count":88}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3925,"endOffset":3932,"count":88}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3971,"endOffset":3976,"count":88}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4023,"endOffset":4030,"count":88}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4073,"endOffset":4078,"count":319}],"isBlockCoverage":true},{"functionName":"H","ranges":[{"startOffset":4119,"endOffset":4154,"count":721},{"startOffset":4146,"endOffset":4153,"count":477}],"isBlockCoverage":true},{"functionName":"S","ranges":[{"startOffset":4174,"endOffset":4210,"count":476},{"startOffset":4201,"endOffset":4209,"count":420}],"isBlockCoverage":true},{"functionName":"$","ranges":[{"startOffset":4229,"endOffset":4263,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4286,"endOffset":5696,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5737,"endOffset":5757,"count":20}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5796,"endOffset":5820,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5847,"endOffset":5872,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5899,"endOffset":5925,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5952,"endOffset":5976,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6003,"endOffset":6028,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6055,"endOffset":6081,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6090,"endOffset":6136,"count":1}],"isBlockCoverage":true},{"functionName":"$e","ranges":[{"startOffset":6149,"endOffset":6676,"count":1}],"isBlockCoverage":true},{"functionName":"r","ranges":[{"startOffset":6208,"endOffset":6268,"count":45},{"startOffset":6238,"endOffset":6248,"count":7},{"startOffset":6248,"endOffset":6267,"count":38}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6312,"endOffset":6354,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6391,"endOffset":6399,"count":38}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6434,"endOffset":6449,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6480,"endOffset":6522,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6552,"endOffset":6567,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6609,"endOffset":6655,"count":0}],"isBlockCoverage":false},{"functionName":"Ue","ranges":[{"startOffset":6692,"endOffset":9587,"count":1},{"startOffset":9492,"endOffset":9531,"count":0},{"startOffset":9554,"endOffset":9566,"count":0},{"startOffset":9570,"endOffset":9586,"count":0}],"isBlockCoverage":true},{"functionName":"r","ranges":[{"startOffset":6751,"endOffset":6882,"count":1},{"startOffset":6773,"endOffset":6874,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6774,"endOffset":6874,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6875,"endOffset":6881,"count":6}],"isBlockCoverage":true},{"functionName":"f","ranges":[{"startOffset":6902,"endOffset":7034,"count":2},{"startOffset":6924,"endOffset":7033,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6925,"endOffset":7026,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7027,"endOffset":7033,"count":77}],"isBlockCoverage":true},{"functionName":"u","ranges":[{"startOffset":7055,"endOffset":7201,"count":2},{"startOffset":7193,"endOffset":7200,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7078,"endOffset":7193,"count":78}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7179,"endOffset":7192,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7194,"endOffset":7200,"count":0}],"isBlockCoverage":false},{"functionName":"g","ranges":[{"startOffset":7230,"endOffset":7390,"count":2},{"startOffset":7382,"endOffset":7389,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7253,"endOffset":7382,"count":5},{"startOffset":7261,"endOffset":7265,"count":0},{"startOffset":7374,"endOffset":7381,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7355,"endOffset":7368,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7383,"endOffset":7389,"count":0}],"isBlockCoverage":false},{"functionName":"w","ranges":[{"startOffset":7410,"endOffset":7552,"count":2},{"startOffset":7544,"endOffset":7551,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7433,"endOffset":7544,"count":5},{"startOffset":7441,"endOffset":7446,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7545,"endOffset":7551,"count":0}],"isBlockCoverage":false},{"functionName":"T","ranges":[{"startOffset":7801,"endOffset":8086,"count":166},{"startOffset":7821,"endOffset":8085,"count":319},{"startOffset":7865,"endOffset":7981,"count":0},{"startOffset":7992,"endOffset":8000,"count":0},{"startOffset":8000,"endOffset":8026,"count":6},{"startOffset":8009,"endOffset":8015,"count":0},{"startOffset":8026,"endOffset":8045,"count":0},{"startOffset":8045,"endOffset":8053,"count":92},{"startOffset":8053,"endOffset":8067,"count":147},{"startOffset":8067,"endOffset":8083,"count":166}],"isBlockCoverage":true},{"functionName":"p","ranges":[{"startOffset":8102,"endOffset":8263,"count":0}],"isBlockCoverage":false},{"functionName":"x","ranges":[{"startOffset":8282,"endOffset":8360,"count":47},{"startOffset":8330,"endOffset":8335,"count":9},{"startOffset":8335,"endOffset":8352,"count":38}],"isBlockCoverage":true},{"functionName":"a","ranges":[{"startOffset":8379,"endOffset":8585,"count":31},{"startOffset":8413,"endOffset":8516,"count":0},{"startOffset":8516,"endOffset":8535,"count":27},{"startOffset":8535,"endOffset":8554,"count":4},{"startOffset":8554,"endOffset":8570,"count":0}],"isBlockCoverage":true},{"functionName":"N","ranges":[{"startOffset":8605,"endOffset":8744,"count":38},{"startOffset":8642,"endOffset":8661,"count":0},{"startOffset":8701,"endOffset":8716,"count":0},{"startOffset":8717,"endOffset":8731,"count":0}],"isBlockCoverage":true},{"functionName":"_e","ranges":[{"startOffset":8765,"endOffset":9004,"count":2},{"startOffset":8817,"endOffset":8836,"count":38},{"startOffset":8838,"endOffset":8957,"count":38},{"startOffset":8859,"endOffset":8914,"count":36},{"startOffset":8864,"endOffset":8876,"count":0},{"startOffset":8904,"endOffset":8907,"count":0},{"startOffset":8908,"endOffset":8913,"count":0},{"startOffset":8914,"endOffset":8933,"count":2},{"startOffset":8920,"endOffset":8932,"count":0},{"startOffset":8936,"endOffset":8951,"count":0},{"startOffset":8984,"endOffset":8996,"count":0}],"isBlockCoverage":true},{"functionName":"ye","ranges":[{"startOffset":9024,"endOffset":9314,"count":3},{"startOffset":9081,"endOffset":9100,"count":6},{"startOffset":9102,"endOffset":9256,"count":6},{"startOffset":9123,"endOffset":9178,"count":3},{"startOffset":9128,"endOffset":9140,"count":0},{"startOffset":9168,"endOffset":9171,"count":0},{"startOffset":9172,"endOffset":9177,"count":0},{"startOffset":9178,"endOffset":9197,"count":3},{"startOffset":9184,"endOffset":9196,"count":0},{"startOffset":9198,"endOffset":9231,"count":3},{"startOffset":9235,"endOffset":9250,"count":0},{"startOffset":9294,"endOffset":9306,"count":0}],"isBlockCoverage":true},{"functionName":"z","ranges":[{"startOffset":9333,"endOffset":9446,"count":45},{"startOffset":9367,"endOffset":9386,"count":3},{"startOffset":9386,"endOffset":9405,"count":2},{"startOffset":9405,"endOffset":9426,"count":9},{"startOffset":9426,"endOffset":9444,"count":31}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9609,"endOffset":9938,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9961,"endOffset":10586,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10621,"endOffset":11378,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11404,"endOffset":11429,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11493,"endOffset":11548,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11566,"endOffset":11904,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11975,"endOffset":12935,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":12962,"endOffset":12987,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13042,"endOffset":13108,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13138,"endOffset":13249,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13272,"endOffset":13744,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13799,"endOffset":14988,"count":1},{"startOffset":13836,"endOffset":13840,"count":0},{"startOffset":13841,"endOffset":13904,"count":0},{"startOffset":13926,"endOffset":13985,"count":0},{"startOffset":14062,"endOffset":14084,"count":0},{"startOffset":14098,"endOffset":14378,"count":0},{"startOffset":14468,"endOffset":14546,"count":2},{"startOffset":14486,"endOffset":14504,"count":0},{"startOffset":14505,"endOffset":14545,"count":0},{"startOffset":14564,"endOffset":14696,"count":2},{"startOffset":14577,"endOffset":14695,"count":0},{"startOffset":14697,"endOffset":14723,"count":0},{"startOffset":14771,"endOffset":14787,"count":0},{"startOffset":14788,"endOffset":14846,"count":0},{"startOffset":14862,"endOffset":14979,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14819,"endOffset":14844,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":14956,"endOffset":14976,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15011,"endOffset":15076,"count":5},{"startOffset":15038,"endOffset":15075,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15185,"endOffset":17865,"count":1},{"startOffset":15482,"endOffset":15506,"count":9},{"startOffset":15495,"endOffset":15506,"count":2},{"startOffset":15561,"endOffset":15572,"count":0},{"startOffset":15596,"endOffset":15704,"count":0},{"startOffset":15813,"endOffset":15841,"count":0},{"startOffset":15863,"endOffset":15881,"count":0},{"startOffset":15896,"endOffset":15924,"count":0},{"startOffset":16051,"endOffset":16062,"count":0},{"startOffset":16126,"endOffset":16174,"count":0},{"startOffset":16206,"endOffset":16238,"count":0},{"startOffset":16252,"endOffset":16333,"count":0},{"startOffset":16380,"endOffset":16513,"count":0},{"startOffset":16544,"endOffset":16672,"count":0},{"startOffset":16685,"endOffset":16788,"count":0},{"startOffset":16803,"endOffset":16908,"count":0},{"startOffset":16923,"endOffset":16987,"count":0},{"startOffset":17060,"endOffset":17074,"count":0},{"startOffset":17345,"endOffset":17382,"count":0},{"startOffset":17412,"endOffset":17438,"count":0},{"startOffset":17500,"endOffset":17537,"count":0},{"startOffset":17561,"endOffset":17674,"count":0},{"startOffset":17725,"endOffset":17752,"count":0},{"startOffset":17787,"endOffset":17864,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17899,"endOffset":18374,"count":1},{"startOffset":18007,"endOffset":18059,"count":6},{"startOffset":18026,"endOffset":18058,"count":0},{"startOffset":18098,"endOffset":18167,"count":2},{"startOffset":18113,"endOffset":18166,"count":0},{"startOffset":18189,"endOffset":18272,"count":0},{"startOffset":18296,"endOffset":18365,"count":3},{"startOffset":18311,"endOffset":18364,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":18127,"endOffset":18164,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18233,"endOffset":18270,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18325,"endOffset":18362,"count":5},{"startOffset":18357,"endOffset":18359,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":18397,"endOffset":18524,"count":1},{"startOffset":18472,"endOffset":18484,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":18554,"endOffset":18618,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18643,"endOffset":18726,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18748,"endOffset":18803,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18827,"endOffset":19204,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":19224,"endOffset":19820,"count":1},{"startOffset":19268,"endOffset":19280,"count":0},{"startOffset":19329,"endOffset":19349,"count":0},{"startOffset":19381,"endOffset":19389,"count":0},{"startOffset":19394,"endOffset":19407,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":19415,"endOffset":19819,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":19876,"endOffset":19921,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":19938,"endOffset":20047,"count":1},{"startOffset":19979,"endOffset":20038,"count":44},{"startOffset":20019,"endOffset":20035,"count":6},{"startOffset":20035,"endOffset":20037,"count":38}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":20078,"endOffset":20240,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20277,"endOffset":20363,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20403,"endOffset":20582,"count":1},{"startOffset":20434,"endOffset":20436,"count":0},{"startOffset":20467,"endOffset":20484,"count":0},{"startOffset":20552,"endOffset":20564,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":20701,"endOffset":20849,"count":1},{"startOffset":20777,"endOffset":20831,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":20881,"endOffset":20981,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21012,"endOffset":21066,"count":5}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21260,"endOffset":22356,"count":1},{"startOffset":21306,"endOffset":21408,"count":0},{"startOffset":21428,"endOffset":21482,"count":0},{"startOffset":21484,"endOffset":21494,"count":0},{"startOffset":21582,"endOffset":21599,"count":0},{"startOffset":21614,"endOffset":21618,"count":0},{"startOffset":21623,"endOffset":21630,"count":0},{"startOffset":21810,"endOffset":21815,"count":0},{"startOffset":22135,"endOffset":22142,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21589,"endOffset":21598,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21636,"endOffset":21800,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21826,"endOffset":22134,"count":1},{"startOffset":21853,"endOffset":21866,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21958,"endOffset":22034,"count":1},{"startOffset":22031,"endOffset":22033,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":22060,"endOffset":22102,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":22150,"endOffset":22355,"count":0}],"isBlockCoverage":false}]},{"scriptId":"128","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/resolve-pkg-maps@1.0.0/node_modules/resolve-pkg-maps/dist/index.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2150,"count":1}],"isBlockCoverage":true},{"functionName":"d","ranges":[{"startOffset":76,"endOffset":107,"count":0}],"isBlockCoverage":false},{"functionName":"s","ranges":[{"startOffset":110,"endOffset":166,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":355,"endOffset":399,"count":1}],"isBlockCoverage":true},{"functionName":"f","ranges":[{"startOffset":416,"endOffset":898,"count":0}],"isBlockCoverage":false},{"functionName":"v","ranges":[{"startOffset":907,"endOffset":986,"count":0}],"isBlockCoverage":false},{"functionName":"A","ranges":[{"startOffset":987,"endOffset":1263,"count":0}],"isBlockCoverage":false},{"functionName":"p","ranges":[{"startOffset":1271,"endOffset":1448,"count":0}],"isBlockCoverage":false},{"functionName":"m","ranges":[{"startOffset":1461,"endOffset":1899,"count":0}],"isBlockCoverage":false},{"functionName":"T","ranges":[{"startOffset":1902,"endOffset":2098,"count":0}],"isBlockCoverage":false}]},{"scriptId":"129","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/index-gckBtVBf.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":52353,"count":1},{"startOffset":507,"endOffset":549,"count":64},{"startOffset":596,"endOffset":780,"count":0},{"startOffset":18944,"endOffset":19044,"count":0},{"startOffset":41020,"endOffset":41028,"count":0},{"startOffset":50820,"endOffset":50824,"count":0}],"isBlockCoverage":true},{"functionName":"f","ranges":[{"startOffset":48,"endOffset":93,"count":97}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":295,"endOffset":343,"count":0}],"isBlockCoverage":false},{"functionName":"decode","ranges":[{"startOffset":616,"endOffset":692,"count":0}],"isBlockCoverage":false},{"functionName":"decode","ranges":[{"startOffset":695,"endOffset":779,"count":0}],"isBlockCoverage":false},{"functionName":"Xt","ranges":[{"startOffset":781,"endOffset":1140,"count":0}],"isBlockCoverage":false},{"functionName":"Kt","ranges":[{"startOffset":1155,"endOffset":1222,"count":0}],"isBlockCoverage":false},{"functionName":"K","ranges":[{"startOffset":1238,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"De","ranges":[{"startOffset":1420,"endOffset":1475,"count":0}],"isBlockCoverage":false},{"functionName":"Yt","ranges":[{"startOffset":1494,"endOffset":1520,"count":0}],"isBlockCoverage":false},{"functionName":"Qt","ranges":[{"startOffset":1533,"endOffset":1567,"count":0}],"isBlockCoverage":false},{"functionName":"Te","ranges":[{"startOffset":1592,"endOffset":2063,"count":0}],"isBlockCoverage":false},{"functionName":"Y","ranges":[{"startOffset":2078,"endOffset":2219,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":2249,"endOffset":2273,"count":1}],"isBlockCoverage":true},{"functionName":"ce","ranges":[{"startOffset":2273,"endOffset":2332,"count":0}],"isBlockCoverage":false},{"functionName":"add","ranges":[{"startOffset":2332,"endOffset":2366,"count":0}],"isBlockCoverage":false},{"functionName":"has","ranges":[{"startOffset":2366,"endOffset":2409,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":2419,"endOffset":2442,"count":1}],"isBlockCoverage":true},{"functionName":"ee","ranges":[{"startOffset":2442,"endOffset":2611,"count":0}],"isBlockCoverage":false},{"functionName":"appendLeft","ranges":[{"startOffset":2611,"endOffset":2639,"count":0}],"isBlockCoverage":false},{"functionName":"appendRight","ranges":[{"startOffset":2639,"endOffset":2678,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2678,"endOffset":2854,"count":0}],"isBlockCoverage":false},{"functionName":"contains","ranges":[{"startOffset":2854,"endOffset":2898,"count":0}],"isBlockCoverage":false},{"functionName":"eachNext","ranges":[{"startOffset":2898,"endOffset":2943,"count":0}],"isBlockCoverage":false},{"functionName":"eachPrevious","ranges":[{"startOffset":2943,"endOffset":2996,"count":0}],"isBlockCoverage":false},{"functionName":"edit","ranges":[{"startOffset":2996,"endOffset":3100,"count":0}],"isBlockCoverage":false},{"functionName":"prependLeft","ranges":[{"startOffset":3100,"endOffset":3139,"count":0}],"isBlockCoverage":false},{"functionName":"prependRight","ranges":[{"startOffset":3139,"endOffset":3179,"count":0}],"isBlockCoverage":false},{"functionName":"reset","ranges":[{"startOffset":3179,"endOffset":3290,"count":0}],"isBlockCoverage":false},{"functionName":"split","ranges":[{"startOffset":3290,"endOffset":3602,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3602,"endOffset":3655,"count":0}],"isBlockCoverage":false},{"functionName":"trimEnd","ranges":[{"startOffset":3655,"endOffset":3994,"count":0}],"isBlockCoverage":false},{"functionName":"trimStart","ranges":[{"startOffset":3994,"endOffset":4349,"count":0}],"isBlockCoverage":false},{"functionName":"Zt","ranges":[{"startOffset":4350,"endOffset":4649,"count":1},{"startOffset":4480,"endOffset":4648,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4429,"endOffset":4480,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4507,"endOffset":4551,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4552,"endOffset":4648,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":4692,"endOffset":4719,"count":1}],"isBlockCoverage":true},{"functionName":"er","ranges":[{"startOffset":4719,"endOffset":4957,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":4957,"endOffset":4996,"count":0}],"isBlockCoverage":false},{"functionName":"toUrl","ranges":[{"startOffset":4996,"endOffset":5076,"count":0}],"isBlockCoverage":false},{"functionName":"tr","ranges":[{"startOffset":5078,"endOffset":5366,"count":0}],"isBlockCoverage":false},{"functionName":"rr","ranges":[{"startOffset":5386,"endOffset":5569,"count":0}],"isBlockCoverage":false},{"functionName":"ir","ranges":[{"startOffset":5628,"endOffset":5681,"count":0}],"isBlockCoverage":false},{"functionName":"Fe","ranges":[{"startOffset":5698,"endOffset":5936,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":5978,"endOffset":6004,"count":1}],"isBlockCoverage":true},{"functionName":"or","ranges":[{"startOffset":6004,"endOffset":6167,"count":0}],"isBlockCoverage":false},{"functionName":"addEdit","ranges":[{"startOffset":6167,"endOffset":6698,"count":0}],"isBlockCoverage":false},{"functionName":"addUneditedChunk","ranges":[{"startOffset":6698,"endOffset":7191,"count":0}],"isBlockCoverage":false},{"functionName":"advance","ranges":[{"startOffset":7191,"endOffset":7432,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":7500,"endOffset":7529,"count":1}],"isBlockCoverage":true},{"functionName":"Ee","ranges":[{"startOffset":7529,"endOffset":8173,"count":0}],"isBlockCoverage":false},{"functionName":"addSourcemapLocation","ranges":[{"startOffset":8173,"endOffset":8228,"count":0}],"isBlockCoverage":false},{"functionName":"append","ranges":[{"startOffset":8228,"endOffset":8340,"count":0}],"isBlockCoverage":false},{"functionName":"appendLeft","ranges":[{"startOffset":8340,"endOffset":8516,"count":0}],"isBlockCoverage":false},{"functionName":"appendRight","ranges":[{"startOffset":8516,"endOffset":8696,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":8696,"endOffset":9141,"count":0}],"isBlockCoverage":false},{"functionName":"generateDecodedMap","ranges":[{"startOffset":9141,"endOffset":9775,"count":0}],"isBlockCoverage":false},{"functionName":"generateMap","ranges":[{"startOffset":9775,"endOffset":9832,"count":0}],"isBlockCoverage":false},{"functionName":"_ensureindentStr","ranges":[{"startOffset":9832,"endOffset":9911,"count":0}],"isBlockCoverage":false},{"functionName":"_getRawIndentString","ranges":[{"startOffset":9911,"endOffset":9979,"count":0}],"isBlockCoverage":false},{"functionName":"getIndentString","ranges":[{"startOffset":9979,"endOffset":10069,"count":0}],"isBlockCoverage":false},{"functionName":"indent","ranges":[{"startOffset":10069,"endOffset":10832,"count":0}],"isBlockCoverage":false},{"functionName":"insert","ranges":[{"startOffset":10832,"endOffset":10940,"count":0}],"isBlockCoverage":false},{"functionName":"insertLeft","ranges":[{"startOffset":10940,"endOffset":11115,"count":0}],"isBlockCoverage":false},{"functionName":"insertRight","ranges":[{"startOffset":11115,"endOffset":11298,"count":0}],"isBlockCoverage":false},{"functionName":"move","ranges":[{"startOffset":11298,"endOffset":11827,"count":0}],"isBlockCoverage":false},{"functionName":"overwrite","ranges":[{"startOffset":11827,"endOffset":11912,"count":0}],"isBlockCoverage":false},{"functionName":"update","ranges":[{"startOffset":11912,"endOffset":12930,"count":0}],"isBlockCoverage":false},{"functionName":"prepend","ranges":[{"startOffset":12930,"endOffset":13053,"count":0}],"isBlockCoverage":false},{"functionName":"prependLeft","ranges":[{"startOffset":13053,"endOffset":13241,"count":0}],"isBlockCoverage":false},{"functionName":"prependRight","ranges":[{"startOffset":13241,"endOffset":13433,"count":0}],"isBlockCoverage":false},{"functionName":"remove","ranges":[{"startOffset":13433,"endOffset":13808,"count":0}],"isBlockCoverage":false},{"functionName":"reset","ranges":[{"startOffset":13808,"endOffset":14159,"count":0}],"isBlockCoverage":false},{"functionName":"lastChar","ranges":[{"startOffset":14159,"endOffset":14493,"count":0}],"isBlockCoverage":false},{"functionName":"lastLine","ranges":[{"startOffset":14493,"endOffset":15013,"count":0}],"isBlockCoverage":false},{"functionName":"slice","ranges":[{"startOffset":15013,"endOffset":15676,"count":0}],"isBlockCoverage":false},{"functionName":"snip","ranges":[{"startOffset":15676,"endOffset":15760,"count":0}],"isBlockCoverage":false},{"functionName":"_split","ranges":[{"startOffset":15760,"endOffset":15956,"count":0}],"isBlockCoverage":false},{"functionName":"_splitChunk","ranges":[{"startOffset":15956,"endOffset":16296,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":16296,"endOffset":16395,"count":0}],"isBlockCoverage":false},{"functionName":"isEmpty","ranges":[{"startOffset":16395,"endOffset":16566,"count":0}],"isBlockCoverage":false},{"functionName":"length","ranges":[{"startOffset":16566,"endOffset":16679,"count":0}],"isBlockCoverage":false},{"functionName":"trimLines","ranges":[{"startOffset":16679,"endOffset":16720,"count":0}],"isBlockCoverage":false},{"functionName":"trim","ranges":[{"startOffset":16720,"endOffset":16764,"count":0}],"isBlockCoverage":false},{"functionName":"trimEndAborted","ranges":[{"startOffset":16764,"endOffset":17123,"count":0}],"isBlockCoverage":false},{"functionName":"trimEnd","ranges":[{"startOffset":17123,"endOffset":17169,"count":0}],"isBlockCoverage":false},{"functionName":"trimStartAborted","ranges":[{"startOffset":17169,"endOffset":17532,"count":0}],"isBlockCoverage":false},{"functionName":"trimStart","ranges":[{"startOffset":17532,"endOffset":17582,"count":0}],"isBlockCoverage":false},{"functionName":"hasChanged","ranges":[{"startOffset":17582,"endOffset":17634,"count":0}],"isBlockCoverage":false},{"functionName":"_replaceRegexp","ranges":[{"startOffset":17634,"endOffset":18216,"count":0}],"isBlockCoverage":false},{"functionName":"_replaceString","ranges":[{"startOffset":18216,"endOffset":18325,"count":0}],"isBlockCoverage":false},{"functionName":"replace","ranges":[{"startOffset":18325,"endOffset":18414,"count":0}],"isBlockCoverage":false},{"functionName":"_replaceAllString","ranges":[{"startOffset":18414,"endOffset":18576,"count":0}],"isBlockCoverage":false},{"functionName":"replaceAll","ranges":[{"startOffset":18576,"endOffset":18791,"count":0}],"isBlockCoverage":false},{"functionName":"Pe","ranges":[{"startOffset":18872,"endOffset":18944,"count":0}],"isBlockCoverage":false},{"functionName":"Pe","ranges":[{"startOffset":18945,"endOffset":19044,"count":0}],"isBlockCoverage":false},{"functionName":"cr","ranges":[{"startOffset":19172,"endOffset":37342,"count":0}],"isBlockCoverage":false},{"functionName":"Ce","ranges":[{"startOffset":37356,"endOffset":37555,"count":0}],"isBlockCoverage":false},{"functionName":"ur","ranges":[{"startOffset":37565,"endOffset":38329,"count":0}],"isBlockCoverage":false},{"functionName":"Se","ranges":[{"startOffset":38339,"endOffset":38602,"count":0}],"isBlockCoverage":false},{"functionName":"qe","ranges":[{"startOffset":38612,"endOffset":38649,"count":0}],"isBlockCoverage":false},{"functionName":"D","ranges":[{"startOffset":38659,"endOffset":38790,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":38831,"endOffset":38957,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":38892,"endOffset":38942,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":38972,"endOffset":38997,"count":20},{"startOffset":38989,"endOffset":38997,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":39015,"endOffset":39112,"count":20},{"startOffset":39067,"endOffset":39076,"count":0},{"startOffset":39096,"endOffset":39111,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":39133,"endOffset":39218,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39254,"endOffset":39563,"count":1},{"startOffset":39269,"endOffset":39303,"count":0},{"startOffset":39340,"endOffset":39562,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":39366,"endOffset":39375,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39595,"endOffset":39665,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39687,"endOffset":39693,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39707,"endOffset":39737,"count":1}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":39749,"endOffset":40984,"count":1}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":39770,"endOffset":39797,"count":1}],"isBlockCoverage":true},{"functionName":"dr","ranges":[{"startOffset":39877,"endOffset":40146,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":40002,"endOffset":40070,"count":498}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":40085,"endOffset":40144,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":40146,"endOffset":40440,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":40440,"endOffset":40585,"count":0}],"isBlockCoverage":false},{"functionName":"expireDiskCache","ranges":[{"startOffset":40585,"endOffset":40727,"count":1},{"startOffset":40647,"endOffset":40726,"count":498},{"startOffset":40657,"endOffset":40726,"count":0}],"isBlockCoverage":true},{"functionName":"removeOldCacheDirectory","ranges":[{"startOffset":40727,"endOffset":40983,"count":1},{"startOffset":40823,"endOffset":40974,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":40816,"endOffset":40822,"count":0}],"isBlockCoverage":false},{"functionName":"wr","ranges":[{"startOffset":41209,"endOffset":41242,"count":0}],"isBlockCoverage":false},{"functionName":"mr","ranges":[{"startOffset":41264,"endOffset":41305,"count":0}],"isBlockCoverage":false},{"functionName":"Xe","ranges":[{"startOffset":41333,"endOffset":41373,"count":0}],"isBlockCoverage":false},{"functionName":"kr","ranges":[{"startOffset":41396,"endOffset":41440,"count":0}],"isBlockCoverage":false},{"functionName":"Ke","ranges":[{"startOffset":41458,"endOffset":41496,"count":0}],"isBlockCoverage":false},{"functionName":"oe","ranges":[{"startOffset":41515,"endOffset":41616,"count":0}],"isBlockCoverage":false},{"functionName":"yr","ranges":[{"startOffset":41641,"endOffset":41748,"count":0}],"isBlockCoverage":false},{"functionName":"Ye","ranges":[{"startOffset":41769,"endOffset":41863,"count":0}],"isBlockCoverage":false},{"functionName":"Qe","ranges":[{"startOffset":41879,"endOffset":42197,"count":0}],"isBlockCoverage":false},{"functionName":"Cr","ranges":[{"startOffset":42214,"endOffset":42308,"count":0}],"isBlockCoverage":false},{"functionName":"Sr","ranges":[{"startOffset":42334,"endOffset":42416,"count":0}],"isBlockCoverage":false},{"functionName":"Ze","ranges":[{"startOffset":42435,"endOffset":42736,"count":0}],"isBlockCoverage":false},{"functionName":"vr","ranges":[{"startOffset":42758,"endOffset":43243,"count":0}],"isBlockCoverage":false},{"functionName":"Ve","ranges":[{"startOffset":43261,"endOffset":43323,"count":0}],"isBlockCoverage":false},{"functionName":"xr","ranges":[{"startOffset":43339,"endOffset":43418,"count":0}],"isBlockCoverage":false},{"functionName":"_r","ranges":[{"startOffset":43450,"endOffset":43585,"count":0}],"isBlockCoverage":false},{"functionName":"et","ranges":[{"startOffset":43603,"endOffset":43685,"count":0}],"isBlockCoverage":false},{"functionName":"Er","ranges":[{"startOffset":43717,"endOffset":43798,"count":0}],"isBlockCoverage":false},{"functionName":"Lr","ranges":[{"startOffset":43815,"endOffset":43867,"count":0}],"isBlockCoverage":false},{"functionName":"Or","ranges":[{"startOffset":43888,"endOffset":43922,"count":0}],"isBlockCoverage":false},{"functionName":"Rr","ranges":[{"startOffset":43955,"endOffset":44076,"count":0}],"isBlockCoverage":false},{"functionName":"Ar","ranges":[{"startOffset":44097,"endOffset":44164,"count":0}],"isBlockCoverage":false},{"functionName":"Nr","ranges":[{"startOffset":44183,"endOffset":44243,"count":0}],"isBlockCoverage":false},{"functionName":"Ir","ranges":[{"startOffset":44265,"endOffset":44482,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":44520,"endOffset":44546,"count":1}],"isBlockCoverage":true},{"functionName":"tt","ranges":[{"startOffset":44546,"endOffset":45138,"count":0}],"isBlockCoverage":false},{"functionName":"gn","ranges":[{"startOffset":45139,"endOffset":45163,"count":0}],"isBlockCoverage":false},{"functionName":"rt","ranges":[{"startOffset":45178,"endOffset":45249,"count":0}],"isBlockCoverage":false},{"functionName":"Mr","ranges":[{"startOffset":45273,"endOffset":45397,"count":0}],"isBlockCoverage":false},{"functionName":"Ur","ranges":[{"startOffset":45418,"endOffset":45510,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":45548,"endOffset":45574,"count":1}],"isBlockCoverage":true},{"functionName":"_e","ranges":[{"startOffset":45574,"endOffset":45633,"count":0}],"isBlockCoverage":false},{"functionName":"bn","ranges":[{"startOffset":45634,"endOffset":45658,"count":0}],"isBlockCoverage":false},{"functionName":"nt","ranges":[{"startOffset":45673,"endOffset":45711,"count":0}],"isBlockCoverage":false},{"functionName":"V","ranges":[{"startOffset":45723,"endOffset":45834,"count":0}],"isBlockCoverage":false},{"functionName":"jr","ranges":[{"startOffset":45845,"endOffset":46006,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":46067,"endOffset":46095,"count":1}],"isBlockCoverage":true},{"functionName":"Wr","ranges":[{"startOffset":46095,"endOffset":46269,"count":0}],"isBlockCoverage":false},{"functionName":"pn","ranges":[{"startOffset":46270,"endOffset":46294,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":46318,"endOffset":46357,"count":0}],"isBlockCoverage":false},{"functionName":"Br","ranges":[{"startOffset":46377,"endOffset":46450,"count":0}],"isBlockCoverage":false},{"functionName":"Jr","ranges":[{"startOffset":46475,"endOffset":46601,"count":0}],"isBlockCoverage":false},{"functionName":"st","ranges":[{"startOffset":46619,"endOffset":46861,"count":0}],"isBlockCoverage":false},{"functionName":"Gr","ranges":[{"startOffset":46882,"endOffset":46979,"count":0}],"isBlockCoverage":false},{"functionName":"zr","ranges":[{"startOffset":47000,"endOffset":47264,"count":0}],"isBlockCoverage":false},{"functionName":"Hr","ranges":[{"startOffset":47291,"endOffset":47356,"count":0}],"isBlockCoverage":false},{"functionName":"Xr","ranges":[{"startOffset":47372,"endOffset":47470,"count":0}],"isBlockCoverage":false},{"functionName":"ot","ranges":[{"startOffset":47493,"endOffset":47558,"count":0}],"isBlockCoverage":false},{"functionName":"Kr","ranges":[{"startOffset":47573,"endOffset":47678,"count":0}],"isBlockCoverage":false},{"functionName":"Yr","ranges":[{"startOffset":47708,"endOffset":47759,"count":0}],"isBlockCoverage":false},{"functionName":"Qr","ranges":[{"startOffset":47782,"endOffset":47924,"count":0}],"isBlockCoverage":false},{"functionName":"ct","ranges":[{"startOffset":47982,"endOffset":48066,"count":1}],"isBlockCoverage":true},{"functionName":"ut","ranges":[{"startOffset":48088,"endOffset":48163,"count":0}],"isBlockCoverage":false},{"functionName":"lt","ranges":[{"startOffset":48178,"endOffset":48221,"count":0}],"isBlockCoverage":false},{"functionName":"Vr","ranges":[{"startOffset":48239,"endOffset":48283,"count":0}],"isBlockCoverage":false},{"functionName":"en","ranges":[{"startOffset":48306,"endOffset":48710,"count":0}],"isBlockCoverage":false},{"functionName":"ht","ranges":[{"startOffset":48732,"endOffset":48929,"count":0}],"isBlockCoverage":false},{"functionName":"tn","ranges":[{"startOffset":48957,"endOffset":49002,"count":0}],"isBlockCoverage":false},{"functionName":"rn","ranges":[{"startOffset":49018,"endOffset":49353,"count":0}],"isBlockCoverage":false},{"functionName":"ft","ranges":[{"startOffset":49380,"endOffset":49734,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":49757,"endOffset":49784,"count":1}],"isBlockCoverage":true},{"functionName":"nn","ranges":[{"startOffset":49784,"endOffset":50061,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":50061,"endOffset":50100,"count":0}],"isBlockCoverage":false},{"functionName":"dt","ranges":[{"startOffset":50101,"endOffset":50201,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":50230,"endOffset":50373,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":50404,"endOffset":50558,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":50737,"endOffset":50750,"count":5}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":50864,"endOffset":51192,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":51214,"endOffset":51284,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":51312,"endOffset":51905,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":51928,"endOffset":52217,"count":0}],"isBlockCoverage":false}]},{"scriptId":"130","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/esbuild@0.25.11/node_modules/esbuild/lib/main.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":88706,"count":1},{"startOffset":5563,"endOffset":5894,"count":0},{"startOffset":5942,"endOffset":6270,"count":0},{"startOffset":73733,"endOffset":73744,"count":0},{"startOffset":73873,"endOffset":73887,"count":0},{"startOffset":73905,"endOffset":73919,"count":0},{"startOffset":73924,"endOffset":73958,"count":0},{"startOffset":74028,"endOffset":74036,"count":0},{"startOffset":74083,"endOffset":74102,"count":0},{"startOffset":88373,"endOffset":88404,"count":0},{"startOffset":88502,"endOffset":88704,"count":0}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":300,"endOffset":411,"count":1},{"startOffset":347,"endOffset":409,"count":13}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":431,"endOffset":777,"count":1},{"startOffset":500,"endOffset":529,"count":0},{"startOffset":584,"endOffset":758,"count":13}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":669,"endOffset":684,"count":12}],"isBlockCoverage":true},{"functionName":"__toESM","ranges":[{"startOffset":793,"endOffset":1302,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":1323,"endOffset":1394,"count":1}],"isBlockCoverage":true},{"functionName":"analyzeMetafile","ranges":[{"startOffset":1483,"endOffset":1504,"count":1}],"isBlockCoverage":true},{"functionName":"analyzeMetafileSync","ranges":[{"startOffset":1529,"endOffset":1554,"count":1}],"isBlockCoverage":true},{"functionName":"build","ranges":[{"startOffset":1565,"endOffset":1576,"count":1}],"isBlockCoverage":true},{"functionName":"buildSync","ranges":[{"startOffset":1591,"endOffset":1606,"count":1}],"isBlockCoverage":true},{"functionName":"context","ranges":[{"startOffset":1619,"endOffset":1632,"count":1}],"isBlockCoverage":true},{"functionName":"default","ranges":[{"startOffset":1645,"endOffset":1663,"count":0}],"isBlockCoverage":false},{"functionName":"formatMessages","ranges":[{"startOffset":1683,"endOffset":1703,"count":1}],"isBlockCoverage":true},{"functionName":"formatMessagesSync","ranges":[{"startOffset":1727,"endOffset":1751,"count":1}],"isBlockCoverage":true},{"functionName":"initialize","ranges":[{"startOffset":1767,"endOffset":1783,"count":1}],"isBlockCoverage":true},{"functionName":"stop","ranges":[{"startOffset":1793,"endOffset":1803,"count":1}],"isBlockCoverage":true},{"functionName":"transform","ranges":[{"startOffset":1818,"endOffset":1833,"count":1}],"isBlockCoverage":true},{"functionName":"transformSync","ranges":[{"startOffset":1852,"endOffset":1871,"count":1}],"isBlockCoverage":true},{"functionName":"version","ranges":[{"startOffset":1884,"endOffset":1897,"count":1}],"isBlockCoverage":true},{"functionName":"encodePacket","ranges":[{"startOffset":1980,"endOffset":3020,"count":0}],"isBlockCoverage":false},{"functionName":"decodePacket","ranges":[{"startOffset":3021,"endOffset":4018,"count":0}],"isBlockCoverage":false},{"functionName":"ByteBuffer","ranges":[{"startOffset":4046,"endOffset":4147,"count":0}],"isBlockCoverage":false},{"functionName":"_write","ranges":[{"startOffset":4150,"endOffset":4382,"count":0}],"isBlockCoverage":false},{"functionName":"write8","ranges":[{"startOffset":4385,"endOffset":4467,"count":0}],"isBlockCoverage":false},{"functionName":"write32","ranges":[{"startOffset":4470,"endOffset":4567,"count":0}],"isBlockCoverage":false},{"functionName":"write","ranges":[{"startOffset":4570,"endOffset":4724,"count":0}],"isBlockCoverage":false},{"functionName":"_read","ranges":[{"startOffset":4727,"endOffset":4890,"count":0}],"isBlockCoverage":false},{"functionName":"read8","ranges":[{"startOffset":4893,"endOffset":4942,"count":0}],"isBlockCoverage":false},{"functionName":"read32","ranges":[{"startOffset":4945,"endOffset":5009,"count":0}],"isBlockCoverage":false},{"functionName":"read","ranges":[{"startOffset":5012,"endOffset":5207,"count":0}],"isBlockCoverage":false},{"functionName":"encodeUTF8","ranges":[{"startOffset":5429,"endOffset":5459,"count":1}],"isBlockCoverage":true},{"functionName":"decodeUTF8","ranges":[{"startOffset":5476,"endOffset":5508,"count":0}],"isBlockCoverage":false},{"functionName":"encodeUTF8","ranges":[{"startOffset":5621,"endOffset":5648,"count":0}],"isBlockCoverage":false},{"functionName":"decodeUTF8","ranges":[{"startOffset":5665,"endOffset":5800,"count":0}],"isBlockCoverage":false},{"functionName":"readUInt32LE","ranges":[{"startOffset":6271,"endOffset":6413,"count":0}],"isBlockCoverage":false},{"functionName":"writeUInt32LE","ranges":[{"startOffset":6414,"endOffset":6592,"count":0}],"isBlockCoverage":false},{"functionName":"validateAndJoinStringArray","ranges":[{"startOffset":6725,"endOffset":7003,"count":0}],"isBlockCoverage":false},{"functionName":"canBeAnything","ranges":[{"startOffset":7024,"endOffset":7034,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeBoolean","ranges":[{"startOffset":7056,"endOffset":7114,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeString","ranges":[{"startOffset":7135,"endOffset":7191,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeRegExp","ranges":[{"startOffset":7212,"endOffset":7273,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeInteger","ranges":[{"startOffset":7295,"endOffset":7378,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeValidPortNumber","ranges":[{"startOffset":7408,"endOffset":7532,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeFunction","ranges":[{"startOffset":7555,"endOffset":7615,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeArray","ranges":[{"startOffset":7635,"endOffset":7686,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeArrayOfStrings","ranges":[{"startOffset":7715,"endOffset":7822,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeObject","ranges":[{"startOffset":7843,"endOffset":7943,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeEntryPoints","ranges":[{"startOffset":7969,"endOffset":8056,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeWebAssemblyModule","ranges":[{"startOffset":8088,"endOffset":8166,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeObjectOrNull","ranges":[{"startOffset":8193,"endOffset":8283,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeStringOrBoolean","ranges":[{"startOffset":8313,"endOffset":8412,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeStringOrObject","ranges":[{"startOffset":8441,"endOffset":8582,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeStringOrArrayOfStrings","ranges":[{"startOffset":8619,"endOffset":8767,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeStringOrUint8Array","ranges":[{"startOffset":8800,"endOffset":8903,"count":0}],"isBlockCoverage":false},{"functionName":"mustBeStringOrURL","ranges":[{"startOffset":8929,"endOffset":9018,"count":0}],"isBlockCoverage":false},{"functionName":"getFlag","ranges":[{"startOffset":9020,"endOffset":9283,"count":0}],"isBlockCoverage":false},{"functionName":"checkForInvalidFlags","ranges":[{"startOffset":9284,"endOffset":9467,"count":0}],"isBlockCoverage":false},{"functionName":"validateInitializeOptions","ranges":[{"startOffset":9468,"endOffset":9900,"count":0}],"isBlockCoverage":false},{"functionName":"validateMangleCache","ranges":[{"startOffset":9901,"endOffset":10364,"count":0}],"isBlockCoverage":false},{"functionName":"pushLogFlags","ranges":[{"startOffset":10365,"endOffset":10843,"count":0}],"isBlockCoverage":false},{"functionName":"validateStringValue","ranges":[{"startOffset":10844,"endOffset":11085,"count":0}],"isBlockCoverage":false},{"functionName":"pushCommonFlags","ranges":[{"startOffset":11086,"endOffset":16493,"count":0}],"isBlockCoverage":false},{"functionName":"flagsForBuildOptions","ranges":[{"startOffset":16494,"endOffset":23907,"count":0}],"isBlockCoverage":false},{"functionName":"flagsForTransformOptions","ranges":[{"startOffset":23908,"endOffset":25008,"count":0}],"isBlockCoverage":false},{"functionName":"createChannel","ranges":[{"startOffset":25009,"endOffset":34436,"count":0}],"isBlockCoverage":false},{"functionName":"buildOrContextImpl","ranges":[{"startOffset":34437,"endOffset":43813,"count":0}],"isBlockCoverage":false},{"functionName":"handlePlugins","ranges":[{"startOffset":43834,"endOffset":58215,"count":0}],"isBlockCoverage":false},{"functionName":"createObjectStash","ranges":[{"startOffset":58217,"endOffset":58546,"count":0}],"isBlockCoverage":false},{"functionName":"extractCallerV8","ranges":[{"startOffset":58547,"endOffset":58959,"count":0}],"isBlockCoverage":false},{"functionName":"extractErrorMessageV8","ranges":[{"startOffset":58960,"endOffset":59362,"count":0}],"isBlockCoverage":false},{"functionName":"parseStackLinesV8","ranges":[{"startOffset":59363,"endOffset":60859,"count":0}],"isBlockCoverage":false},{"functionName":"failureErrorWithLog","ranges":[{"startOffset":60860,"endOffset":61759,"count":0}],"isBlockCoverage":false},{"functionName":"replaceDetailsInMessages","ranges":[{"startOffset":61760,"endOffset":61922,"count":0}],"isBlockCoverage":false},{"functionName":"sanitizeLocation","ranges":[{"startOffset":61923,"endOffset":63080,"count":0}],"isBlockCoverage":false},{"functionName":"sanitizeMessages","ranges":[{"startOffset":63081,"endOffset":64543,"count":0}],"isBlockCoverage":false},{"functionName":"sanitizeStringArray","ranges":[{"startOffset":64544,"endOffset":64794,"count":0}],"isBlockCoverage":false},{"functionName":"sanitizeStringMap","ranges":[{"startOffset":64795,"endOffset":65114,"count":0}],"isBlockCoverage":false},{"functionName":"convertOutputFiles","ranges":[{"startOffset":65115,"endOffset":65453,"count":0}],"isBlockCoverage":false},{"functionName":"jsRegExpToGoRegExp","ranges":[{"startOffset":65454,"endOffset":65600,"count":0}],"isBlockCoverage":false},{"functionName":"isValidBinaryPath","ranges":[{"startOffset":65812,"endOffset":65850,"count":0}],"isBlockCoverage":false},{"functionName":"pkgAndSubpathForCurrentPlatform","ranges":[{"startOffset":67214,"endOffset":67910,"count":0}],"isBlockCoverage":false},{"functionName":"pkgForSomeOtherPlatform","ranges":[{"startOffset":67911,"endOffset":68612,"count":0}],"isBlockCoverage":false},{"functionName":"downloadedBinPath","ranges":[{"startOffset":68613,"endOffset":68823,"count":0}],"isBlockCoverage":false},{"functionName":"generateBinPath","ranges":[{"startOffset":68824,"endOffset":73399,"count":0}],"isBlockCoverage":false},{"functionName":"esbuildCommandAndArgs","ranges":[{"startOffset":74147,"endOffset":75216,"count":0}],"isBlockCoverage":false},{"functionName":"isTTY","ranges":[{"startOffset":75230,"endOffset":75249,"count":0}],"isBlockCoverage":false},{"functionName":"readFile","ranges":[{"startOffset":75268,"endOffset":75524,"count":0}],"isBlockCoverage":false},{"functionName":"writeFile","ranges":[{"startOffset":75528,"endOffset":75725,"count":0}],"isBlockCoverage":false},{"functionName":"readFile","ranges":[{"startOffset":75747,"endOffset":76052,"count":0}],"isBlockCoverage":false},{"functionName":"writeFile","ranges":[{"startOffset":76056,"endOffset":76284,"count":0}],"isBlockCoverage":false},{"functionName":"build","ranges":[{"startOffset":76325,"endOffset":76377,"count":0}],"isBlockCoverage":false},{"functionName":"context","ranges":[{"startOffset":76393,"endOffset":76457,"count":0}],"isBlockCoverage":false},{"functionName":"transform","ranges":[{"startOffset":76475,"endOffset":76545,"count":0}],"isBlockCoverage":false},{"functionName":"formatMessages","ranges":[{"startOffset":76568,"endOffset":76649,"count":0}],"isBlockCoverage":false},{"functionName":"analyzeMetafile","ranges":[{"startOffset":76673,"endOffset":76755,"count":0}],"isBlockCoverage":false},{"functionName":"buildSync","ranges":[{"startOffset":76773,"endOffset":77255,"count":0}],"isBlockCoverage":false},{"functionName":"transformSync","ranges":[{"startOffset":77277,"endOffset":77803,"count":0}],"isBlockCoverage":false},{"functionName":"formatMessagesSync","ranges":[{"startOffset":77830,"endOffset":78329,"count":0}],"isBlockCoverage":false},{"functionName":"analyzeMetafileSync","ranges":[{"startOffset":78357,"endOffset":78927,"count":0}],"isBlockCoverage":false},{"functionName":"stop","ranges":[{"startOffset":78940,"endOffset":79066,"count":0}],"isBlockCoverage":false},{"functionName":"initialize","ranges":[{"startOffset":79118,"endOffset":79635,"count":0}],"isBlockCoverage":false},{"functionName":"ensureServiceIsRunning","ranges":[{"startOffset":79736,"endOffset":82398,"count":0}],"isBlockCoverage":false},{"functionName":"runServiceSync","ranges":[{"startOffset":82421,"endOffset":83325,"count":0}],"isBlockCoverage":false},{"functionName":"randomFileName","ranges":[{"startOffset":83348,"endOffset":83445,"count":0}],"isBlockCoverage":false},{"functionName":"startWorkerThreadService","ranges":[{"startOffset":83510,"endOffset":86356,"count":0}],"isBlockCoverage":false},{"functionName":"startSyncServiceWorker","ranges":[{"startOffset":86387,"endOffset":88343,"count":0}],"isBlockCoverage":false}]},{"scriptId":"131","url":"node:child_process","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":27267,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1936,"endOffset":1965,"count":0}],"isBlockCoverage":false},{"functionName":"fork","ranges":[{"startOffset":3430,"endOffset":5105,"count":0}],"isBlockCoverage":false},{"functionName":"_forkChild","ranges":[{"startOffset":5107,"endOffset":5596,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeExecArgs","ranges":[{"startOffset":5598,"endOffset":6112,"count":0}],"isBlockCoverage":false},{"functionName":"exec","ranges":[{"startOffset":6649,"endOffset":6896,"count":0}],"isBlockCoverage":false},{"functionName":"customPromiseExecFunction","ranges":[{"startOffset":6932,"endOffset":7296,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6953,"endOffset":7293,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeExecFileArgs","ranges":[{"startOffset":7433,"endOffset":8331,"count":0}],"isBlockCoverage":false},{"functionName":"execFile","ranges":[{"startOffset":8944,"endOffset":13708,"count":0}],"isBlockCoverage":false},{"functionName":"copyProcessEnvToEnv","ranges":[{"startOffset":13852,"endOffset":14052,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeSpawnArguments","ranges":[{"startOffset":14054,"endOffset":19366,"count":0}],"isBlockCoverage":false},{"functionName":"abortChildProcess","ranges":[{"startOffset":19368,"endOffset":19624,"count":0}],"isBlockCoverage":false},{"functionName":"spawn","ranges":[{"startOffset":20179,"endOffset":21403,"count":0}],"isBlockCoverage":false},{"functionName":"spawnSync","ranges":[{"startOffset":22163,"endOffset":23671,"count":0}],"isBlockCoverage":false},{"functionName":"checkExecSyncError","ranges":[{"startOffset":23674,"endOffset":24060,"count":0}],"isBlockCoverage":false},{"functionName":"execFileSync","ranges":[{"startOffset":24573,"endOffset":25037,"count":0}],"isBlockCoverage":false},{"functionName":"execSync","ranges":[{"startOffset":25535,"endOffset":25911,"count":0}],"isBlockCoverage":false},{"functionName":"validateArgumentNullCheck","ranges":[{"startOffset":25914,"endOffset":26137,"count":0}],"isBlockCoverage":false},{"functionName":"validateArgumentsNullCheck","ranges":[{"startOffset":26140,"endOffset":26302,"count":0}],"isBlockCoverage":false},{"functionName":"validateTimeout","ranges":[{"startOffset":26305,"endOffset":26493,"count":0}],"isBlockCoverage":false},{"functionName":"validateMaxBuffer","ranges":[{"startOffset":26496,"endOffset":26769,"count":0}],"isBlockCoverage":false},{"functionName":"sanitizeKillSignal","ranges":[{"startOffset":26772,"endOffset":27135,"count":0}],"isBlockCoverage":false}]},{"scriptId":"132","url":"node:internal/child_process","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":31799,"count":1}],"isBlockCoverage":false},{"functionName":"send","ranges":[{"startOffset":2498,"endOffset":2557,"count":0}],"isBlockCoverage":false},{"functionName":"got","ranges":[{"startOffset":2564,"endOffset":2618,"count":0}],"isBlockCoverage":false},{"functionName":"send","ranges":[{"startOffset":2680,"endOffset":2747,"count":0}],"isBlockCoverage":false},{"functionName":"got","ranges":[{"startOffset":2754,"endOffset":2895,"count":0}],"isBlockCoverage":false},{"functionName":"send","ranges":[{"startOffset":2925,"endOffset":4479,"count":0}],"isBlockCoverage":false},{"functionName":"postSend","ranges":[{"startOffset":4486,"endOffset":5232,"count":0}],"isBlockCoverage":false},{"functionName":"got","ranges":[{"startOffset":5239,"endOffset":5696,"count":0}],"isBlockCoverage":false},{"functionName":"send","ranges":[{"startOffset":5761,"endOffset":5820,"count":0}],"isBlockCoverage":false},{"functionName":"got","ranges":[{"startOffset":5827,"endOffset":5881,"count":0}],"isBlockCoverage":false},{"functionName":"send","ranges":[{"startOffset":5946,"endOffset":6066,"count":0}],"isBlockCoverage":false},{"functionName":"got","ranges":[{"startOffset":6073,"endOffset":6232,"count":0}],"isBlockCoverage":false},{"functionName":"stdioStringToArray","ranges":[{"startOffset":6243,"endOffset":6658,"count":0}],"isBlockCoverage":false},{"functionName":"ChildProcess","ranges":[{"startOffset":6660,"endOffset":8153,"count":0}],"isBlockCoverage":false},{"functionName":"flushStdio","ranges":[{"startOffset":8276,"endOffset":8754,"count":0}],"isBlockCoverage":false},{"functionName":"createSocket","ranges":[{"startOffset":8757,"endOffset":8847,"count":0}],"isBlockCoverage":false},{"functionName":"getHandleWrapType","ranges":[{"startOffset":8850,"endOffset":9079,"count":0}],"isBlockCoverage":false},{"functionName":"closePendingHandle","ranges":[{"startOffset":9081,"endOffset":9194,"count":0}],"isBlockCoverage":false},{"functionName":"ChildProcess.spawn","ranges":[{"startOffset":9228,"endOffset":12799,"count":0}],"isBlockCoverage":false},{"functionName":"onErrorNT","ranges":[{"startOffset":12803,"endOffset":12864,"count":0}],"isBlockCoverage":false},{"functionName":"onSpawnNT","ranges":[{"startOffset":12867,"endOffset":12917,"count":0}],"isBlockCoverage":false},{"functionName":"ChildProcess.kill","ranges":[{"startOffset":12950,"endOffset":13623,"count":0}],"isBlockCoverage":false},{"functionName":"ChildProcess.<computed>","ranges":[{"startOffset":13666,"endOffset":13723,"count":0}],"isBlockCoverage":false},{"functionName":"ChildProcess.ref","ranges":[{"startOffset":13756,"endOffset":13810,"count":0}],"isBlockCoverage":false},{"functionName":"ChildProcess.unref","ranges":[{"startOffset":13845,"endOffset":13901,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":13904,"endOffset":14901,"count":0}],"isBlockCoverage":false},{"functionName":"setupChannel","ranges":[{"startOffset":15049,"endOffset":27173,"count":0}],"isBlockCoverage":false},{"functionName":"isInternal","ranges":[{"startOffset":27208,"endOffset":27518,"count":0}],"isBlockCoverage":false},{"functionName":"getValidStdio","ranges":[{"startOffset":27552,"endOffset":30477,"count":0}],"isBlockCoverage":false},{"functionName":"getSocketList","ranges":[{"startOffset":30480,"endOffset":30796,"count":0}],"isBlockCoverage":false},{"functionName":"maybeClose","ranges":[{"startOffset":30799,"endOffset":31000,"count":0}],"isBlockCoverage":false},{"functionName":"spawnSync","ranges":[{"startOffset":31002,"endOffset":31673,"count":0}],"isBlockCoverage":false}]},{"scriptId":"133","url":"node:dgram","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":28668,"count":1}],"isBlockCoverage":false},{"functionName":"lazyLoadCluster","ranges":[{"startOffset":2910,"endOffset":3007,"count":0}],"isBlockCoverage":false},{"functionName":"Socket","ranges":[{"startOffset":3073,"endOffset":4712,"count":0}],"isBlockCoverage":false},{"functionName":"createSocket","ranges":[{"startOffset":4823,"endOffset":4901,"count":0}],"isBlockCoverage":false},{"functionName":"startListening","ranges":[{"startOffset":4904,"endOffset":5347,"count":0}],"isBlockCoverage":false},{"functionName":"replaceHandle","ranges":[{"startOffset":5349,"endOffset":5914,"count":0}],"isBlockCoverage":false},{"functionName":"bufferSize","ranges":[{"startOffset":5916,"endOffset":6208,"count":0}],"isBlockCoverage":false},{"functionName":"bindServerHandle","ranges":[{"startOffset":6276,"endOffset":6772,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.bind","ranges":[{"startOffset":6798,"endOffset":10253,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.connect","ranges":[{"startOffset":10283,"endOffset":11079,"count":0}],"isBlockCoverage":false},{"functionName":"_connect","ranges":[{"startOffset":11083,"endOffset":11429,"count":0}],"isBlockCoverage":false},{"functionName":"doConnect","ranges":[{"startOffset":11432,"endOffset":12078,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.disconnect","ranges":[{"startOffset":12111,"endOffset":12422,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.sendto","ranges":[{"startOffset":12527,"endOffset":12968,"count":0}],"isBlockCoverage":false},{"functionName":"sliceBuffer","ranges":[{"startOffset":12972,"endOffset":13732,"count":0}],"isBlockCoverage":false},{"functionName":"fixBufferList","ranges":[{"startOffset":13735,"endOffset":14119,"count":0}],"isBlockCoverage":false},{"functionName":"enqueue","ranges":[{"startOffset":14122,"endOffset":14549,"count":0}],"isBlockCoverage":false},{"functionName":"onListenSuccess","ranges":[{"startOffset":14552,"endOffset":14690,"count":0}],"isBlockCoverage":false},{"functionName":"onListenError","ranges":[{"startOffset":14693,"endOffset":14817,"count":0}],"isBlockCoverage":false},{"functionName":"clearQueue","ranges":[{"startOffset":14820,"endOffset":15017,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.send","ranges":[{"startOffset":15588,"endOffset":18481,"count":0}],"isBlockCoverage":false},{"functionName":"doSend","ranges":[{"startOffset":18484,"endOffset":19627,"count":0}],"isBlockCoverage":false},{"functionName":"afterSend","ranges":[{"startOffset":19629,"endOffset":19810,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.close","ranges":[{"startOffset":19837,"endOffset":20405,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.<computed>","ranges":[{"startOffset":20447,"endOffset":20580,"count":0}],"isBlockCoverage":false},{"functionName":"socketCloseNT","ranges":[{"startOffset":20584,"endOffset":20638,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.address","ranges":[{"startOffset":20668,"endOffset":20862,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.remoteAddress","ranges":[{"startOffset":20898,"endOffset":21212,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setBroadcast","ranges":[{"startOffset":21248,"endOffset":21400,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setTTL","ranges":[{"startOffset":21430,"endOffset":21608,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setMulticastTTL","ranges":[{"startOffset":21647,"endOffset":21843,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setMulticastLoopback","ranges":[{"startOffset":21887,"endOffset":22091,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setMulticastInterface","ranges":[{"startOffset":22136,"endOffset":22402,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.addMembership","ranges":[{"startOffset":22438,"endOffset":22816,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.dropMembership","ranges":[{"startOffset":22854,"endOffset":23235,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.addSourceSpecificMembership","ranges":[{"startOffset":23285,"endOffset":23896,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.dropSourceSpecificMembership","ranges":[{"startOffset":23948,"endOffset":24565,"count":0}],"isBlockCoverage":false},{"functionName":"healthCheck","ranges":[{"startOffset":24569,"endOffset":24732,"count":0}],"isBlockCoverage":false},{"functionName":"stopReceiving","ranges":[{"startOffset":24735,"endOffset":24899,"count":0}],"isBlockCoverage":false},{"functionName":"onMessage","ranges":[{"startOffset":24902,"endOffset":25160,"count":0}],"isBlockCoverage":false},{"functionName":"onError","ranges":[{"startOffset":25163,"endOffset":25278,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.ref","ranges":[{"startOffset":25304,"endOffset":25411,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.unref","ranges":[{"startOffset":25440,"endOffset":25549,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setRecvBufferSize","ranges":[{"startOffset":25590,"endOffset":25647,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.setSendBufferSize","ranges":[{"startOffset":25688,"endOffset":25745,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.getRecvBufferSize","ranges":[{"startOffset":25786,"endOffset":25843,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.getSendBufferSize","ranges":[{"startOffset":25884,"endOffset":25941,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.getSendQueueSize","ranges":[{"startOffset":25980,"endOffset":26049,"count":0}],"isBlockCoverage":false},{"functionName":"Socket.getSendQueueCount","ranges":[{"startOffset":26089,"endOffset":26159,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":26278,"endOffset":26332,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":26405,"endOffset":26461,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":26614,"endOffset":26671,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":26747,"endOffset":26806,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":26962,"endOffset":27019,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":27095,"endOffset":27154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":27306,"endOffset":27359,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":27431,"endOffset":27486,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":27638,"endOffset":27695,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":27771,"endOffset":27830,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":27937,"endOffset":27972,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":28081,"endOffset":28118,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":28403,"endOffset":28439,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":28443,"endOffset":28484,"count":0}],"isBlockCoverage":false}]},{"scriptId":"134","url":"node:internal/dgram","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1851,"count":1}],"isBlockCoverage":false},{"functionName":"lookup4","ranges":[{"startOffset":478,"endOffset":579,"count":0}],"isBlockCoverage":false},{"functionName":"lookup6","ranges":[{"startOffset":582,"endOffset":677,"count":0}],"isBlockCoverage":false},{"functionName":"newHandle","ranges":[{"startOffset":679,"endOffset":1323,"count":0}],"isBlockCoverage":false},{"functionName":"_createSocketHandle","ranges":[{"startOffset":1326,"endOffset":1774,"count":0}],"isBlockCoverage":false}]},{"scriptId":"135","url":"node:internal/socket_list","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2709,"count":1}],"isBlockCoverage":false},{"functionName":"SocketListSend","ranges":[{"startOffset":235,"endOffset":376,"count":0}],"isBlockCoverage":false},{"functionName":"_request","ranges":[{"startOffset":380,"endOffset":1035,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":1039,"endOffset":1190,"count":0}],"isBlockCoverage":false},{"functionName":"getConnections","ranges":[{"startOffset":1194,"endOffset":1430,"count":0}],"isBlockCoverage":false},{"functionName":"SocketListReceive","ranges":[{"startOffset":1544,"endOffset":2404,"count":0}],"isBlockCoverage":false},{"functionName":"add","ranges":[{"startOffset":2408,"endOffset":2649,"count":0}],"isBlockCoverage":false}]},{"scriptId":"136","url":"node:crypto","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8841,"count":1}],"isBlockCoverage":false},{"functionName":"lazyWebCrypto","ranges":[{"startOffset":3092,"endOffset":3194,"count":2}],"isBlockCoverage":true},{"functionName":"lazyOwnsProcessState","ranges":[{"startOffset":3218,"endOffset":3348,"count":0}],"isBlockCoverage":false},{"functionName":"createHash","ranges":[{"startOffset":3490,"endOffset":3572,"count":0}],"isBlockCoverage":false},{"functionName":"createCipher","ranges":[{"startOffset":3574,"endOffset":3674,"count":0}],"isBlockCoverage":false},{"functionName":"createCipheriv","ranges":[{"startOffset":3676,"endOffset":3778,"count":0}],"isBlockCoverage":false},{"functionName":"createDecipher","ranges":[{"startOffset":3780,"endOffset":3884,"count":0}],"isBlockCoverage":false},{"functionName":"createDecipheriv","ranges":[{"startOffset":3886,"endOffset":3992,"count":0}],"isBlockCoverage":false},{"functionName":"createDiffieHellman","ranges":[{"startOffset":3994,"endOffset":4150,"count":0}],"isBlockCoverage":false},{"functionName":"createDiffieHellmanGroup","ranges":[{"startOffset":4152,"endOffset":4234,"count":0}],"isBlockCoverage":false},{"functionName":"createECDH","ranges":[{"startOffset":4236,"endOffset":4292,"count":0}],"isBlockCoverage":false},{"functionName":"createHmac","ranges":[{"startOffset":4294,"endOffset":4376,"count":0}],"isBlockCoverage":false},{"functionName":"createSign","ranges":[{"startOffset":4378,"endOffset":4460,"count":0}],"isBlockCoverage":false},{"functionName":"createVerify","ranges":[{"startOffset":4462,"endOffset":4548,"count":0}],"isBlockCoverage":false},{"functionName":"getFips","ranges":[{"startOffset":5599,"endOffset":5684,"count":0}],"isBlockCoverage":false},{"functionName":"setFips","ranges":[{"startOffset":5686,"endOffset":5970,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomValues","ranges":[{"startOffset":5972,"endOffset":6063,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6141,"endOffset":6395,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":6399,"endOffset":6588,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomBytesAlias","ranges":[{"startOffset":6637,"endOffset":7470,"count":3}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":6735,"endOffset":7225,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":7231,"endOffset":7462,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8214,"endOffset":8254,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":8366,"endOffset":8413,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":8539,"endOffset":8560,"count":1}],"isBlockCoverage":true}]},{"scriptId":"137","url":"node:internal/crypto/random","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16246,"count":1}],"isBlockCoverage":false},{"functionName":"assertOffset","ranges":[{"startOffset":1260,"endOffset":1626,"count":0}],"isBlockCoverage":false},{"functionName":"assertSize","ranges":[{"startOffset":1628,"endOffset":2089,"count":0}],"isBlockCoverage":false},{"functionName":"randomBytes","ranges":[{"startOffset":2091,"endOffset":2634,"count":0}],"isBlockCoverage":false},{"functionName":"randomFillSync","ranges":[{"startOffset":2636,"endOffset":3304,"count":0}],"isBlockCoverage":false},{"functionName":"randomFill","ranges":[{"startOffset":3306,"endOffset":4352,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":4902,"endOffset":7142,"count":0}],"isBlockCoverage":false},{"functionName":"asyncRefillRandomIntCache","ranges":[{"startOffset":7144,"endOffset":8020,"count":0}],"isBlockCoverage":false},{"functionName":"onJobDone","ranges":[{"startOffset":8023,"endOffset":8185,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomValues","ranges":[{"startOffset":8417,"endOffset":9033,"count":0}],"isBlockCoverage":false},{"functionName":"getHexBytes","ranges":[{"startOffset":9398,"endOffset":9697,"count":0}],"isBlockCoverage":false},{"functionName":"serializeUUID","ranges":[{"startOffset":9699,"endOffset":10425,"count":0}],"isBlockCoverage":false},{"functionName":"getBufferedUUID","ranges":[{"startOffset":10427,"endOffset":10730,"count":0}],"isBlockCoverage":false},{"functionName":"getUnbufferedUUID","ranges":[{"startOffset":10732,"endOffset":10970,"count":0}],"isBlockCoverage":false},{"functionName":"randomUUID","ranges":[{"startOffset":10972,"endOffset":11292,"count":0}],"isBlockCoverage":false},{"functionName":"createRandomPrimeJob","ranges":[{"startOffset":11294,"endOffset":12527,"count":0}],"isBlockCoverage":false},{"functionName":"generatePrime","ranges":[{"startOffset":12529,"endOffset":12985,"count":0}],"isBlockCoverage":false},{"functionName":"generatePrimeSync","ranges":[{"startOffset":12987,"endOffset":13245,"count":0}],"isBlockCoverage":false},{"functionName":"numberToHexCharCode","ranges":[{"startOffset":13519,"endOffset":13563,"count":0}],"isBlockCoverage":false},{"functionName":"arrayBufferToUnsignedBigInt","ranges":[{"startOffset":13638,"endOffset":14065,"count":0}],"isBlockCoverage":false},{"functionName":"unsignedBigIntToBuffer","ranges":[{"startOffset":14067,"endOffset":14364,"count":0}],"isBlockCoverage":false},{"functionName":"checkPrime","ranges":[{"startOffset":14366,"endOffset":15259,"count":0}],"isBlockCoverage":false},{"functionName":"checkPrimeSync","ranges":[{"startOffset":15261,"endOffset":16059,"count":0}],"isBlockCoverage":false}]},{"scriptId":"138","url":"node:internal/crypto/pbkdf2","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2973,"count":1}],"isBlockCoverage":false},{"functionName":"pbkdf2","ranges":[{"startOffset":487,"endOffset":1151,"count":0}],"isBlockCoverage":false},{"functionName":"pbkdf2Sync","ranges":[{"startOffset":1153,"endOffset":1558,"count":0}],"isBlockCoverage":false},{"functionName":"check","ranges":[{"startOffset":1560,"endOffset":2031,"count":0}],"isBlockCoverage":false},{"functionName":"pbkdf2DeriveBits","ranges":[{"startOffset":2074,"endOffset":2905,"count":0}],"isBlockCoverage":false}]},{"scriptId":"139","url":"node:internal/crypto/util","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16325,"count":1}],"isBlockCoverage":false},{"functionName":"toBuf","ranges":[{"startOffset":1942,"endOffset":2121,"count":0}],"isBlockCoverage":false},{"functionName":"getHashCache","ranges":[{"startOffset":2139,"endOffset":2408,"count":0}],"isBlockCoverage":false},{"functionName":"getCachedHashId","ranges":[{"startOffset":2410,"endOffset":2538,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2572,"endOffset":2615,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2649,"endOffset":2691,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2725,"endOffset":2767,"count":0}],"isBlockCoverage":false},{"functionName":"setEngine","ranges":[{"startOffset":2771,"endOffset":3178,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3225,"endOffset":3710,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6657,"endOffset":6766,"count":0}],"isBlockCoverage":false},{"functionName":"validateMaxBufferLength","ranges":[{"startOffset":7574,"endOffset":7787,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeAlgorithm","ranges":[{"startOffset":8013,"endOffset":10448,"count":0}],"isBlockCoverage":false},{"functionName":"getDataViewOrTypedArrayBuffer","ranges":[{"startOffset":10450,"endOffset":10589,"count":0}],"isBlockCoverage":false},{"functionName":"getDataViewOrTypedArrayByteOffset","ranges":[{"startOffset":10591,"endOffset":10742,"count":0}],"isBlockCoverage":false},{"functionName":"getDataViewOrTypedArrayByteLength","ranges":[{"startOffset":10744,"endOffset":10895,"count":0}],"isBlockCoverage":false},{"functionName":"hasAnyNotIn","ranges":[{"startOffset":10897,"endOffset":11036,"count":0}],"isBlockCoverage":false},{"functionName":"validateBitLength","ranges":[{"startOffset":11038,"endOffset":11380,"count":0}],"isBlockCoverage":false},{"functionName":"validateByteLength","ranges":[{"startOffset":11382,"endOffset":11578,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11623,"endOffset":11913,"count":0}],"isBlockCoverage":false},{"functionName":"onDone","ranges":[{"startOffset":11917,"endOffset":12149,"count":0}],"isBlockCoverage":false},{"functionName":"jobPromise","ranges":[{"startOffset":12151,"endOffset":12421,"count":0}],"isBlockCoverage":false},{"functionName":"bigIntArrayToUnsignedInt","ranges":[{"startOffset":12957,"endOffset":13237,"count":0}],"isBlockCoverage":false},{"functionName":"bigIntArrayToUnsignedBigInt","ranges":[{"startOffset":13239,"endOffset":13475,"count":0}],"isBlockCoverage":false},{"functionName":"getStringOption","ranges":[{"startOffset":13477,"endOffset":13642,"count":0}],"isBlockCoverage":false},{"functionName":"getUsagesUnion","ranges":[{"startOffset":13644,"endOffset":13856,"count":0}],"isBlockCoverage":false},{"functionName":"getBlockSize","ranges":[{"startOffset":13858,"endOffset":14070,"count":0}],"isBlockCoverage":false},{"functionName":"getDigestSizeInBytes","ranges":[{"startOffset":14072,"endOffset":14255,"count":0}],"isBlockCoverage":false},{"functionName":"validateKeyOps","ranges":[{"startOffset":14394,"endOffset":15360,"count":0}],"isBlockCoverage":false},{"functionName":"secureHeapUsed","ranges":[{"startOffset":15362,"endOffset":15745,"count":0}],"isBlockCoverage":false}]},{"scriptId":"140","url":"node:internal/crypto/hashnames","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2520,"count":1}],"isBlockCoverage":false},{"functionName":"normalizeHashName","ranges":[{"startOffset":1890,"endOffset":2133,"count":0}],"isBlockCoverage":false}]},{"scriptId":"141","url":"node:internal/crypto/scrypt","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3331,"count":1}],"isBlockCoverage":false},{"functionName":"scrypt","ranges":[{"startOffset":626,"endOffset":1292,"count":0}],"isBlockCoverage":false},{"functionName":"scryptSync","ranges":[{"startOffset":1294,"endOffset":1700,"count":0}],"isBlockCoverage":false},{"functionName":"check","ranges":[{"startOffset":1702,"endOffset":3283,"count":0}],"isBlockCoverage":false}]},{"scriptId":"142","url":"node:internal/crypto/hkdf","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3376,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":831,"endOffset":1382,"count":0}],"isBlockCoverage":false},{"functionName":"prepareKey","ranges":[{"startOffset":1386,"endOffset":1814,"count":0}],"isBlockCoverage":false},{"functionName":"hkdf","ranges":[{"startOffset":1816,"endOffset":2282,"count":0}],"isBlockCoverage":false},{"functionName":"hkdfSync","ranges":[{"startOffset":2284,"endOffset":2622,"count":0}],"isBlockCoverage":false},{"functionName":"hkdfDeriveBits","ranges":[{"startOffset":2661,"endOffset":3314,"count":0}],"isBlockCoverage":false}]},{"scriptId":"143","url":"node:internal/crypto/keys","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22339,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2318,"endOffset":6439,"count":1}],"isBlockCoverage":true},{"functionName":"KeyObject","ranges":[{"startOffset":2428,"endOffset":2970,"count":0}],"isBlockCoverage":false},{"functionName":"get type","ranges":[{"startOffset":2976,"endOffset":3023,"count":0}],"isBlockCoverage":false},{"functionName":"from","ranges":[{"startOffset":3036,"endOffset":3177,"count":0}],"isBlockCoverage":false},{"functionName":"equals","ranges":[{"startOffset":3183,"endOffset":3467,"count":0}],"isBlockCoverage":false},{"functionName":"SecretKeyObject","ranges":[{"startOffset":3685,"endOffset":3743,"count":0}],"isBlockCoverage":false},{"functionName":"get symmetricKeySize","ranges":[{"startOffset":3749,"endOffset":3829,"count":0}],"isBlockCoverage":false},{"functionName":"export","ranges":[{"startOffset":3835,"endOffset":4183,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeKeyDetails","ranges":[{"startOffset":4316,"endOffset":4585,"count":0}],"isBlockCoverage":false},{"functionName":"AsymmetricKeyObject","ranges":[{"startOffset":4694,"endOffset":4754,"count":0}],"isBlockCoverage":false},{"functionName":"get asymmetricKeyType","ranges":[{"startOffset":4760,"endOffset":4912,"count":0}],"isBlockCoverage":false},{"functionName":"get asymmetricKeyDetails","ranges":[{"startOffset":4918,"endOffset":5295,"count":0}],"isBlockCoverage":false},{"functionName":"PublicKeyObject","ranges":[{"startOffset":5359,"endOffset":5417,"count":0}],"isBlockCoverage":false},{"functionName":"export","ranges":[{"startOffset":5423,"endOffset":5714,"count":0}],"isBlockCoverage":false},{"functionName":"PrivateKeyObject","ranges":[{"startOffset":5779,"endOffset":5838,"count":0}],"isBlockCoverage":false},{"functionName":"export","ranges":[{"startOffset":5844,"endOffset":6358,"count":0}],"isBlockCoverage":false},{"functionName":"parseKeyFormat","ranges":[{"startOffset":6443,"endOffset":6828,"count":0}],"isBlockCoverage":false},{"functionName":"parseKeyType","ranges":[{"startOffset":6830,"endOffset":7682,"count":0}],"isBlockCoverage":false},{"functionName":"option","ranges":[{"startOffset":7684,"endOffset":7805,"count":0}],"isBlockCoverage":false},{"functionName":"parseKeyFormatAndType","ranges":[{"startOffset":7807,"endOffset":8507,"count":0}],"isBlockCoverage":false},{"functionName":"isStringOrBuffer","ranges":[{"startOffset":8509,"endOffset":8646,"count":0}],"isBlockCoverage":false},{"functionName":"parseKeyEncoding","ranges":[{"startOffset":8648,"endOffset":10006,"count":0}],"isBlockCoverage":false},{"functionName":"parsePublicKeyEncoding","ranges":[{"startOffset":10205,"endOffset":10341,"count":0}],"isBlockCoverage":false},{"functionName":"parsePrivateKeyEncoding","ranges":[{"startOffset":10541,"endOffset":10657,"count":0}],"isBlockCoverage":false},{"functionName":"getKeyObjectHandle","ranges":[{"startOffset":10659,"endOffset":11237,"count":0}],"isBlockCoverage":false},{"functionName":"getKeyTypes","ranges":[{"startOffset":11239,"endOffset":11744,"count":0}],"isBlockCoverage":false},{"functionName":"getKeyObjectHandleFromJwk","ranges":[{"startOffset":11746,"endOffset":14295,"count":0}],"isBlockCoverage":false},{"functionName":"prepareAsymmetricKey","ranges":[{"startOffset":14297,"endOffset":15840,"count":0}],"isBlockCoverage":false},{"functionName":"preparePrivateKey","ranges":[{"startOffset":15842,"endOffset":15930,"count":0}],"isBlockCoverage":false},{"functionName":"preparePublicOrPrivateKey","ranges":[{"startOffset":15932,"endOffset":16027,"count":0}],"isBlockCoverage":false},{"functionName":"prepareSecretKey","ranges":[{"startOffset":16029,"endOffset":16727,"count":0}],"isBlockCoverage":false},{"functionName":"createSecretKey","ranges":[{"startOffset":16729,"endOffset":16933,"count":0}],"isBlockCoverage":false},{"functionName":"createPublicKey","ranges":[{"startOffset":16935,"endOffset":17272,"count":0}],"isBlockCoverage":false},{"functionName":"createPrivateKey","ranges":[{"startOffset":17274,"endOffset":17615,"count":0}],"isBlockCoverage":false},{"functionName":"isKeyObject","ranges":[{"startOffset":17617,"endOffset":17699,"count":0}],"isBlockCoverage":false},{"functionName":"CryptoKey","ranges":[{"startOffset":18122,"endOffset":18182,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18186,"endOffset":18535,"count":0}],"isBlockCoverage":false},{"functionName":"get type","ranges":[{"startOffset":18539,"endOffset":18674,"count":0}],"isBlockCoverage":false},{"functionName":"get extractable","ranges":[{"startOffset":18678,"endOffset":18817,"count":0}],"isBlockCoverage":false},{"functionName":"get algorithm","ranges":[{"startOffset":18821,"endOffset":18956,"count":0}],"isBlockCoverage":false},{"functionName":"get usages","ranges":[{"startOffset":18960,"endOffset":19092,"count":0}],"isBlockCoverage":false},{"functionName":"defineCryptoKeyProperties","ranges":[{"startOffset":19545,"endOffset":20448,"count":0}],"isBlockCoverage":false},{"functionName":"InternalCryptoKey","ranges":[{"startOffset":20744,"endOffset":21159,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21163,"endOffset":21524,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21528,"endOffset":21675,"count":0}],"isBlockCoverage":false},{"functionName":"isCryptoKey","ranges":[{"startOffset":21804,"endOffset":21888,"count":0}],"isBlockCoverage":false}]},{"scriptId":"144","url":"node:internal/crypto/keygen","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10712,"count":1}],"isBlockCoverage":false},{"functionName":"isJwk","ranges":[{"startOffset":1183,"endOffset":1253,"count":0}],"isBlockCoverage":false},{"functionName":"wrapKey","ranges":[{"startOffset":1255,"endOffset":1409,"count":0}],"isBlockCoverage":false},{"functionName":"generateKeyPair","ranges":[{"startOffset":1411,"endOffset":2047,"count":0}],"isBlockCoverage":false},{"functionName":"generateKeyPairSync","ranges":[{"startOffset":2193,"endOffset":2310,"count":0}],"isBlockCoverage":false},{"functionName":"handleError","ranges":[{"startOffset":2312,"endOffset":2690,"count":0}],"isBlockCoverage":false},{"functionName":"parseKeyEncoding","ranges":[{"startOffset":2692,"endOffset":3942,"count":0}],"isBlockCoverage":false},{"functionName":"createJob","ranges":[{"startOffset":3944,"endOffset":9232,"count":0}],"isBlockCoverage":false},{"functionName":"generateKeyJob","ranges":[{"startOffset":9263,"endOffset":9800,"count":0}],"isBlockCoverage":false},{"functionName":"handleGenerateKeyError","ranges":[{"startOffset":9802,"endOffset":10004,"count":0}],"isBlockCoverage":false},{"functionName":"generateKey","ranges":[{"startOffset":10006,"endOffset":10476,"count":0}],"isBlockCoverage":false},{"functionName":"generateKeySync","ranges":[{"startOffset":10478,"endOffset":10612,"count":0}],"isBlockCoverage":false}]},{"scriptId":"145","url":"node:internal/crypto/diffiehellman","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10195,"count":1}],"isBlockCoverage":false},{"functionName":"DiffieHellman","ranges":[{"startOffset":1246,"endOffset":3050,"count":0}],"isBlockCoverage":false},{"functionName":"DiffieHellmanGroup","ranges":[{"startOffset":3053,"endOffset":3379,"count":0}],"isBlockCoverage":false},{"functionName":"dhGenerateKeys","ranges":[{"startOffset":3490,"endOffset":3605,"count":0}],"isBlockCoverage":false},{"functionName":"dhComputeSecret","ranges":[{"startOffset":3719,"endOffset":3977,"count":0}],"isBlockCoverage":false},{"functionName":"dhGetPrime","ranges":[{"startOffset":4076,"endOffset":4185,"count":0}],"isBlockCoverage":false},{"functionName":"dhGetGenerator","ranges":[{"startOffset":4296,"endOffset":4421,"count":0}],"isBlockCoverage":false},{"functionName":"dhGetPublicKey","ranges":[{"startOffset":4532,"endOffset":4645,"count":0}],"isBlockCoverage":false},{"functionName":"dhGetPrivateKey","ranges":[{"startOffset":4759,"endOffset":4874,"count":0}],"isBlockCoverage":false},{"functionName":"setPublicKey","ranges":[{"startOffset":4916,"endOffset":5058,"count":0}],"isBlockCoverage":false},{"functionName":"setPrivateKey","ranges":[{"startOffset":5102,"endOffset":5246,"count":0}],"isBlockCoverage":false},{"functionName":"ECDH","ranges":[{"startOffset":5250,"endOffset":5404,"count":0}],"isBlockCoverage":false},{"functionName":"generateKeys","ranges":[{"startOffset":5715,"endOffset":5837,"count":0}],"isBlockCoverage":false},{"functionName":"getPublicKey","ranges":[{"startOffset":5870,"endOffset":6021,"count":0}],"isBlockCoverage":false},{"functionName":"convertKey","ranges":[{"startOffset":6042,"endOffset":6308,"count":0}],"isBlockCoverage":false},{"functionName":"encode","ranges":[{"startOffset":6311,"endOffset":6446,"count":0}],"isBlockCoverage":false},{"functionName":"getFormat","ranges":[{"startOffset":6448,"endOffset":6771,"count":0}],"isBlockCoverage":false},{"functionName":"diffieHellman","ranges":[{"startOffset":6845,"endOffset":7913,"count":0}],"isBlockCoverage":false},{"functionName":"ecdhDeriveBits","ranges":[{"startOffset":8044,"endOffset":10089,"count":0}],"isBlockCoverage":false}]},{"scriptId":"146","url":"node:internal/crypto/cipher","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10199,"count":1}],"isBlockCoverage":false},{"functionName":"rsaFunctionFor","ranges":[{"startOffset":1233,"endOffset":1981,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1301,"endOffset":1978,"count":0}],"isBlockCoverage":false},{"functionName":"getDecoder","ranges":[{"startOffset":2482,"endOffset":2848,"count":0}],"isBlockCoverage":false},{"functionName":"getUIntOption","ranges":[{"startOffset":2850,"endOffset":3084,"count":0}],"isBlockCoverage":false},{"functionName":"createCipherBase","ranges":[{"startOffset":3086,"endOffset":3505,"count":0}],"isBlockCoverage":false},{"functionName":"createCipher","ranges":[{"startOffset":3507,"endOffset":3742,"count":0}],"isBlockCoverage":false},{"functionName":"createCipherWithIV","ranges":[{"startOffset":3744,"endOffset":4083,"count":0}],"isBlockCoverage":false},{"functionName":"Cipher","ranges":[{"startOffset":4326,"endOffset":4527,"count":0}],"isBlockCoverage":false},{"functionName":"_transform","ranges":[{"startOffset":4670,"endOffset":4786,"count":0}],"isBlockCoverage":false},{"functionName":"_flush","ranges":[{"startOffset":4815,"endOffset":4953,"count":0}],"isBlockCoverage":false},{"functionName":"update","ranges":[{"startOffset":4982,"endOffset":5498,"count":0}],"isBlockCoverage":false},{"functionName":"final","ranges":[{"startOffset":5527,"endOffset":5771,"count":0}],"isBlockCoverage":false},{"functionName":"setAutoPadding","ranges":[{"startOffset":5809,"endOffset":5956,"count":0}],"isBlockCoverage":false},{"functionName":"getAuthTag","ranges":[{"startOffset":5989,"endOffset":6149,"count":0}],"isBlockCoverage":false},{"functionName":"setAuthTag","ranges":[{"startOffset":6153,"endOffset":6365,"count":0}],"isBlockCoverage":false},{"functionName":"setAAD","ranges":[{"startOffset":6393,"endOffset":6735,"count":0}],"isBlockCoverage":false},{"functionName":"Cipheriv","ranges":[{"startOffset":6983,"endOffset":7193,"count":0}],"isBlockCoverage":false},{"functionName":"addCipherPrototypeFunctions","ranges":[{"startOffset":7195,"endOffset":7786,"count":3},{"startOffset":7591,"endOffset":7664,"count":1},{"startOffset":7664,"endOffset":7726,"count":2}],"isBlockCoverage":true},{"functionName":"Decipher","ranges":[{"startOffset":8187,"endOffset":8395,"count":0}],"isBlockCoverage":false},{"functionName":"Decipheriv","ranges":[{"startOffset":8800,"endOffset":9017,"count":0}],"isBlockCoverage":false},{"functionName":"getCipherInfo","ranges":[{"startOffset":9179,"endOffset":10040,"count":0}],"isBlockCoverage":false}]},{"scriptId":"147","url":"node:internal/streams/lazy_transform","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1535,"count":1}],"isBlockCoverage":false},{"functionName":"LazyTransform","ranges":[{"startOffset":401,"endOffset":463,"count":0}],"isBlockCoverage":false},{"functionName":"makeGetter","ranges":[{"startOffset":595,"endOffset":918,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":632,"endOffset":915,"count":0}],"isBlockCoverage":false},{"functionName":"makeSetter","ranges":[{"startOffset":920,"endOffset":1139,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":957,"endOffset":1136,"count":0}],"isBlockCoverage":false}]},{"scriptId":"148","url":"node:internal/crypto/sig","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6942,"count":1}],"isBlockCoverage":false},{"functionName":"Sign","ranges":[{"startOffset":870,"endOffset":1129,"count":0}],"isBlockCoverage":false},{"functionName":"_write","ranges":[{"startOffset":1252,"endOffset":1344,"count":0}],"isBlockCoverage":false},{"functionName":"update","ranges":[{"startOffset":1371,"endOffset":1684,"count":0}],"isBlockCoverage":false},{"functionName":"getPadding","ranges":[{"startOffset":1687,"endOffset":1762,"count":0}],"isBlockCoverage":false},{"functionName":"getSaltLength","ranges":[{"startOffset":1764,"endOffset":1845,"count":0}],"isBlockCoverage":false},{"functionName":"getDSASignatureEncoding","ranges":[{"startOffset":1847,"endOffset":2199,"count":0}],"isBlockCoverage":false},{"functionName":"getIntOption","ranges":[{"startOffset":2201,"endOffset":2446,"count":0}],"isBlockCoverage":false},{"functionName":"sign","ranges":[{"startOffset":2470,"endOffset":3086,"count":0}],"isBlockCoverage":false},{"functionName":"signOneShot","ranges":[{"startOffset":3089,"endOffset":4307,"count":0}],"isBlockCoverage":false},{"functionName":"Verify","ranges":[{"startOffset":4309,"endOffset":4576,"count":0}],"isBlockCoverage":false},{"functionName":"verify","ranges":[{"startOffset":4804,"endOffset":5387,"count":0}],"isBlockCoverage":false},{"functionName":"verifyOneShot","ranges":[{"startOffset":5390,"endOffset":6868,"count":0}],"isBlockCoverage":false}]},{"scriptId":"149","url":"node:internal/crypto/hash","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7010,"count":1}],"isBlockCoverage":false},{"functionName":"normalizeAlgorithm","ranges":[{"startOffset":1214,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1523,"endOffset":1711,"count":0}],"isBlockCoverage":false},{"functionName":"Hash","ranges":[{"startOffset":1717,"endOffset":2532,"count":0}],"isBlockCoverage":false},{"functionName":"copy","ranges":[{"startOffset":2663,"endOffset":2831,"count":0}],"isBlockCoverage":false},{"functionName":"_transform","ranges":[{"startOffset":2862,"endOffset":2967,"count":0}],"isBlockCoverage":false},{"functionName":"_flush","ranges":[{"startOffset":2994,"endOffset":3074,"count":0}],"isBlockCoverage":false},{"functionName":"update","ranges":[{"startOffset":3101,"endOffset":3565,"count":0}],"isBlockCoverage":false},{"functionName":"digest","ranges":[{"startOffset":3593,"endOffset":3914,"count":0}],"isBlockCoverage":false},{"functionName":"Hmac","ranges":[{"startOffset":3917,"endOffset":4317,"count":0}],"isBlockCoverage":false},{"functionName":"digest","ranges":[{"startOffset":4498,"endOffset":4930,"count":0}],"isBlockCoverage":false},{"functionName":"asyncDigest","ranges":[{"startOffset":5085,"endOffset":5556,"count":0}],"isBlockCoverage":false},{"functionName":"hash","ranges":[{"startOffset":5558,"endOffset":6947,"count":0}],"isBlockCoverage":false}]},{"scriptId":"150","url":"node:internal/crypto/x509","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9909,"count":1}],"isBlockCoverage":false},{"functionName":"isX509Certificate","ranges":[{"startOffset":1155,"endOffset":1238,"count":0}],"isBlockCoverage":false},{"functionName":"getFlags","ranges":[{"startOffset":1240,"endOffset":2485,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":2487,"endOffset":2649,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":2651,"endOffset":9663,"count":0}],"isBlockCoverage":false}]},{"scriptId":"151","url":"node:internal/crypto/certificate","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1546,"count":1}],"isBlockCoverage":false},{"functionName":"verifySpkac","ranges":[{"startOffset":385,"endOffset":505,"count":0}],"isBlockCoverage":false},{"functionName":"exportPublicKey","ranges":[{"startOffset":507,"endOffset":635,"count":0}],"isBlockCoverage":false},{"functionName":"exportChallenge","ranges":[{"startOffset":637,"endOffset":765,"count":0}],"isBlockCoverage":false},{"functionName":"Certificate","ranges":[{"startOffset":1122,"endOffset":1216,"count":0}],"isBlockCoverage":false}]},{"scriptId":"152","url":"node:tty","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5045,"count":1}],"isBlockCoverage":false},{"functionName":"isatty","ranges":[{"startOffset":1526,"endOffset":1632,"count":0}],"isBlockCoverage":false},{"functionName":"ReadStream","ranges":[{"startOffset":1634,"endOffset":2103,"count":0}],"isBlockCoverage":false},{"functionName":"ReadStream.setRawMode","ranges":[{"startOffset":2252,"endOffset":2473,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream","ranges":[{"startOffset":2476,"endOffset":3442,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream._refreshSize","ranges":[{"startOffset":3733,"endOffset":4167,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream.cursorTo","ranges":[{"startOffset":4223,"endOffset":4363,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream.moveCursor","ranges":[{"startOffset":4400,"endOffset":4546,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream.clearLine","ranges":[{"startOffset":4582,"endOffset":4721,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream.clearScreenDown","ranges":[{"startOffset":4763,"endOffset":4898,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream.getWindowSize","ranges":[{"startOffset":4938,"endOffset":4988,"count":0}],"isBlockCoverage":false}]},{"scriptId":"153","url":"node:internal/tty","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6478,"count":1}],"isBlockCoverage":false},{"functionName":"warnOnDeactivatedColors","ranges":[{"startOffset":2542,"endOffset":2995,"count":0}],"isBlockCoverage":false},{"functionName":"getColorDepth","ranges":[{"startOffset":3153,"endOffset":6149,"count":1},{"startOffset":3396,"endOffset":3404,"count":0},{"startOffset":3411,"endOffset":3420,"count":0},{"startOffset":3427,"endOffset":3503,"count":0},{"startOffset":3510,"endOffset":3584,"count":0},{"startOffset":3591,"endOffset":3665,"count":0},{"startOffset":3715,"endOffset":3831,"count":0},{"startOffset":3832,"endOffset":4054,"count":0},{"startOffset":4056,"endOffset":5405,"count":0},{"startOffset":5410,"endOffset":5427,"count":0},{"startOffset":5432,"endOffset":5472,"count":0},{"startOffset":5477,"endOffset":5524,"count":0},{"startOffset":5528,"endOffset":5594,"count":0},{"startOffset":5596,"endOffset":6148,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4892,"endOffset":4913,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5941,"endOffset":5994,"count":0}],"isBlockCoverage":false},{"functionName":"hasColors","ranges":[{"startOffset":6151,"endOffset":6424,"count":0}],"isBlockCoverage":false}]},{"scriptId":"154","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/index-BWFBUo6r.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1181,"count":1},{"startOffset":124,"endOffset":129,"count":0},{"startOffset":147,"endOffset":154,"count":0},{"startOffset":179,"endOffset":182,"count":0},{"startOffset":329,"endOffset":338,"count":0},{"startOffset":343,"endOffset":550,"count":0},{"startOffset":552,"endOffset":677,"count":0}],"isBlockCoverage":true},{"functionName":"p","ranges":[{"startOffset":47,"endOffset":91,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":500,"endOffset":521,"count":0}],"isBlockCoverage":false},{"functionName":"e","ranges":[{"startOffset":711,"endOffset":869,"count":9}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":808,"endOffset":868,"count":3},{"startOffset":820,"endOffset":863,"count":0}],"isBlockCoverage":true}]},{"scriptId":"155","url":"node:internal/source_map/prepare_stack_trace","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9064,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":334,"endOffset":359,"count":0}],"isBlockCoverage":false},{"functionName":"prepareStackTraceWithSourceMaps","ranges":[{"startOffset":833,"endOffset":2304,"count":2},{"startOffset":938,"endOffset":1012,"count":0},{"startOffset":1100,"endOffset":1129,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1240,"endOffset":2252,"count":2},{"startOffset":1497,"endOffset":1551,"count":0},{"startOffset":1595,"endOffset":1618,"count":0},{"startOffset":2007,"endOffset":2163,"count":0},{"startOffset":2170,"endOffset":2207,"count":0}],"isBlockCoverage":true},{"functionName":"serializeJSStackFrame","ranges":[{"startOffset":2811,"endOffset":4492,"count":0}],"isBlockCoverage":false},{"functionName":"getOriginalSymbolName","ranges":[{"startOffset":4642,"endOffset":5332,"count":0}],"isBlockCoverage":false},{"functionName":"getErrorSource","ranges":[{"startOffset":5915,"endOffset":6997,"count":0}],"isBlockCoverage":false},{"functionName":"getOriginalSource","ranges":[{"startOffset":7329,"endOffset":8226,"count":0}],"isBlockCoverage":false},{"functionName":"getSourceMapErrorSource","ranges":[{"startOffset":8571,"endOffset":8951,"count":0}],"isBlockCoverage":false}]},{"scriptId":"156","url":"node:internal/modules/esm/module_map","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4028,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":281,"endOffset":306,"count":1}],"isBlockCoverage":true},{"functionName":"ResolveCache","ranges":[{"startOffset":850,"endOffset":878,"count":1}],"isBlockCoverage":true},{"functionName":"serializeKey","ranges":[{"startOffset":1224,"endOffset":1836,"count":84},{"startOffset":1633,"endOffset":1835,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1752,"endOffset":1818,"count":0}],"isBlockCoverage":false},{"functionName":"#getModuleCachedImports","ranges":[{"startOffset":1840,"endOffset":2056,"count":168},{"startOffset":1954,"endOffset":2026,"count":11}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":2231,"endOffset":2333,"count":84}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":2473,"endOffset":2602,"count":84}],"isBlockCoverage":true},{"functionName":"has","ranges":[{"startOffset":2606,"endOffset":2710,"count":0}],"isBlockCoverage":false},{"functionName":"LoadCache","ranges":[{"startOffset":2844,"endOffset":2872,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":2921,"endOffset":3064,"count":335},{"startOffset":3051,"endOffset":3059,"count":216}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":3067,"endOffset":3674,"count":119},{"startOffset":3298,"endOffset":3334,"count":0},{"startOffset":3336,"endOffset":3406,"count":0},{"startOffset":3490,"endOffset":3496,"count":0}],"isBlockCoverage":true},{"functionName":"has","ranges":[{"startOffset":3677,"endOffset":3834,"count":0}],"isBlockCoverage":false},{"functionName":"delete","ranges":[{"startOffset":3837,"endOffset":3973,"count":0}],"isBlockCoverage":false}]},{"scriptId":"157","url":"node:internal/modules/esm/translators","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":17488,"count":1}],"isBlockCoverage":false},{"functionName":"lazyTypes","ranges":[{"startOffset":464,"endOffset":580,"count":30},{"startOffset":510,"endOffset":528,"count":29},{"startOffset":528,"endOffset":579,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1246,"endOffset":1271,"count":1}],"isBlockCoverage":true},{"functionName":"getSource","ranges":[{"startOffset":1855,"endOffset":1983,"count":0}],"isBlockCoverage":false},{"functionName":"initCJSParseSync","ranges":[{"startOffset":2284,"endOffset":2421,"count":1}],"isBlockCoverage":true},{"functionName":"assertBufferSource","ranges":[{"startOffset":2994,"endOffset":3415,"count":113},{"startOffset":3071,"endOffset":3098,"count":98},{"startOffset":3100,"endOffset":3117,"count":83},{"startOffset":3117,"endOffset":3211,"count":30},{"startOffset":3211,"endOffset":3236,"count":0},{"startOffset":3238,"endOffset":3255,"count":30},{"startOffset":3255,"endOffset":3334,"count":0},{"startOffset":3335,"endOffset":3339,"count":0}],"isBlockCoverage":true},{"functionName":"stringify","ranges":[{"startOffset":3639,"endOffset":3906,"count":105},{"startOffset":3698,"endOffset":3714,"count":90},{"startOffset":3714,"endOffset":3843,"count":15},{"startOffset":3843,"endOffset":3862,"count":1},{"startOffset":3863,"endOffset":3872,"count":14}],"isBlockCoverage":true},{"functionName":"errPath","ranges":[{"startOffset":4026,"endOffset":4171,"count":0}],"isBlockCoverage":false},{"functionName":"moduleStrategy","ranges":[{"startOffset":4253,"endOffset":4576,"count":98}],"isBlockCoverage":true},{"functionName":"loadCJSModule","ranges":[{"startOffset":5236,"endOffset":7291,"count":0}],"isBlockCoverage":false},{"functionName":"createCJSModuleWrap","ranges":[{"startOffset":7775,"endOffset":9217,"count":7},{"startOffset":8044,"endOffset":8077,"count":0},{"startOffset":8242,"endOffset":8264,"count":0},{"startOffset":8311,"endOffset":8367,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8427,"endOffset":9205,"count":7},{"startOffset":8504,"endOffset":8567,"count":3},{"startOffset":8718,"endOffset":8761,"count":0},{"startOffset":8804,"endOffset":9161,"count":18},{"startOffset":8907,"endOffset":8934,"count":0},{"startOffset":9058,"endOffset":9114,"count":0}],"isBlockCoverage":true},{"functionName":"requireCommonJS","ranges":[{"startOffset":9252,"endOffset":9521,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9683,"endOffset":9797,"count":0}],"isBlockCoverage":false},{"functionName":"commonjsStrategy","ranges":[{"startOffset":9985,"endOffset":10729,"count":7},{"startOffset":10051,"endOffset":10080,"count":1},{"startOffset":10477,"endOffset":10492,"count":0},{"startOffset":10617,"endOffset":10665,"count":0}],"isBlockCoverage":true},{"functionName":"cjsLoader","ranges":[{"startOffset":10327,"endOffset":10476,"count":3}],"isBlockCoverage":true},{"functionName":"cjsPreparseModuleExports","ranges":[{"startOffset":10918,"endOffset":13463,"count":7},{"startOffset":11100,"endOffset":11143,"count":1},{"startOffset":11145,"endOffset":11214,"count":0},{"startOffset":11264,"endOffset":11517,"count":6},{"startOffset":11599,"endOffset":11604,"count":0},{"startOffset":11612,"endOffset":11661,"count":0},{"startOffset":11827,"endOffset":13426,"count":0}],"isBlockCoverage":true},{"functionName":"builtinStrategy","ranges":[{"startOffset":13587,"endOffset":13993,"count":14},{"startOffset":13866,"endOffset":13918,"count":0}],"isBlockCoverage":true},{"functionName":"jsonStrategy","ranges":[{"startOffset":14105,"endOffset":16326,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":16392,"endOffset":17485,"count":0}],"isBlockCoverage":false}]},{"scriptId":"158","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/lexer-DgIbo0BU.cjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13507,"count":1},{"startOffset":13365,"endOffset":13409,"count":0}],"isBlockCoverage":true},{"functionName":"k","ranges":[{"startOffset":47,"endOffset":91,"count":23}],"isBlockCoverage":true},{"functionName":"exports.ImportType.exports.ImportType","ranges":[{"startOffset":118,"endOffset":301,"count":1}],"isBlockCoverage":true},{"functionName":"U","ranges":[{"startOffset":406,"endOffset":1282,"count":20},{"startOffset":432,"endOffset":456,"count":0},{"startOffset":497,"endOffset":512,"count":0},{"startOffset":548,"endOffset":583,"count":1},{"startOffset":609,"endOffset":611,"count":0},{"startOffset":664,"endOffset":801,"count":0},{"startOffset":830,"endOffset":1000,"count":0},{"startOffset":1013,"endOffset":1199,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":446,"endOffset":454,"count":0}],"isBlockCoverage":false},{"functionName":"N","ranges":[{"startOffset":1199,"endOffset":1243,"count":0}],"isBlockCoverage":false},{"functionName":"Y","ranges":[{"startOffset":1295,"endOffset":1396,"count":0}],"isBlockCoverage":false},{"functionName":"R","ranges":[{"startOffset":1405,"endOffset":1479,"count":20},{"startOffset":1456,"endOffset":1478,"count":154721}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13390,"endOffset":13408,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13447,"endOffset":13467,"count":1}],"isBlockCoverage":true}]},{"scriptId":"159","url":"node:internal/modules/esm/load","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7611,"count":1}],"isBlockCoverage":false},{"functionName":"getSource","ranges":[{"startOffset":1239,"endOffset":2466,"count":14},{"startOffset":1507,"endOffset":2332,"count":0},{"startOffset":2345,"endOffset":2355,"count":0},{"startOffset":2357,"endOffset":2413,"count":0}],"isBlockCoverage":true},{"functionName":"getSourceSync","ranges":[{"startOffset":2649,"endOffset":3388,"count":0}],"isBlockCoverage":false},{"functionName":"defaultLoad","ranges":[{"startOffset":3509,"endOffset":4917,"count":24},{"startOffset":3693,"endOffset":3728,"count":0},{"startOffset":3729,"endOffset":3761,"count":0},{"startOffset":3763,"endOffset":3970,"count":0},{"startOffset":4122,"endOffset":4172,"count":10},{"startOffset":4172,"endOffset":4782,"count":14},{"startOffset":4204,"endOffset":4231,"count":0},{"startOffset":4413,"endOffset":4778,"count":1}],"isBlockCoverage":true},{"functionName":"defaultLoadSync","ranges":[{"startOffset":5430,"endOffset":6070,"count":0}],"isBlockCoverage":false},{"functionName":"throwIfUnsupportedURLScheme","ranges":[{"startOffset":6258,"endOffset":6890,"count":24},{"startOffset":6488,"endOffset":6515,"count":10},{"startOffset":6516,"endOffset":6543,"count":10},{"startOffset":6544,"endOffset":6673,"count":0},{"startOffset":6678,"endOffset":6888,"count":0}],"isBlockCoverage":true},{"functionName":"throwUnknownModuleFormat","ranges":[{"startOffset":7269,"endOffset":7507,"count":0}],"isBlockCoverage":false}]},{"scriptId":"160","url":"node:internal/fs/promises","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":34493,"count":1}],"isBlockCoverage":false},{"functionName":"lazyLoadCpPromises","ranges":[{"startOffset":3287,"endOffset":3379,"count":0}],"isBlockCoverage":false},{"functionName":"lazyFsStreams","ranges":[{"startOffset":3441,"endOffset":3524,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3553,"endOffset":3603,"count":0}],"isBlockCoverage":false},{"functionName":"handleErrorFromBinding","ranges":[{"startOffset":3888,"endOffset":4018,"count":2}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":4020,"endOffset":10138,"count":14}],"isBlockCoverage":false},{"functionName":"FileHandle","ranges":[{"startOffset":4161,"endOffset":4338,"count":14},{"startOffset":4275,"endOffset":4279,"count":0}],"isBlockCoverage":true},{"functionName":"getAsyncId","ranges":[{"startOffset":4342,"endOffset":4399,"count":0}],"isBlockCoverage":false},{"functionName":"get fd","ranges":[{"startOffset":4403,"endOffset":4439,"count":28}],"isBlockCoverage":true},{"functionName":"appendFile","ranges":[{"startOffset":4443,"endOffset":4525,"count":0}],"isBlockCoverage":false},{"functionName":"chmod","ranges":[{"startOffset":4529,"endOffset":4585,"count":0}],"isBlockCoverage":false},{"functionName":"chown","ranges":[{"startOffset":4589,"endOffset":4653,"count":0}],"isBlockCoverage":false},{"functionName":"datasync","ranges":[{"startOffset":4657,"endOffset":4709,"count":0}],"isBlockCoverage":false},{"functionName":"sync","ranges":[{"startOffset":4713,"endOffset":4757,"count":0}],"isBlockCoverage":false},{"functionName":"read","ranges":[{"startOffset":4761,"endOffset":4870,"count":0}],"isBlockCoverage":false},{"functionName":"readv","ranges":[{"startOffset":4874,"endOffset":4955,"count":0}],"isBlockCoverage":false},{"functionName":"readFile","ranges":[{"startOffset":4959,"endOffset":5026,"count":0}],"isBlockCoverage":false},{"functionName":"readLines","ranges":[{"startOffset":5030,"endOffset":5173,"count":0}],"isBlockCoverage":false},{"functionName":"stat","ranges":[{"startOffset":5177,"endOffset":5237,"count":0}],"isBlockCoverage":false},{"functionName":"truncate","ranges":[{"startOffset":5241,"endOffset":5305,"count":0}],"isBlockCoverage":false},{"functionName":"utimes","ranges":[{"startOffset":5309,"endOffset":5383,"count":0}],"isBlockCoverage":false},{"functionName":"write","ranges":[{"startOffset":5387,"endOffset":5498,"count":0}],"isBlockCoverage":false},{"functionName":"writev","ranges":[{"startOffset":5502,"endOffset":5585,"count":0}],"isBlockCoverage":false},{"functionName":"writeFile","ranges":[{"startOffset":5589,"endOffset":5670,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":5682,"endOffset":6474,"count":14},{"startOffset":5716,"endOffset":5754,"count":0},{"startOffset":5785,"endOffset":5826,"count":0},{"startOffset":6052,"endOffset":6413,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5994,"endOffset":6036,"count":14}],"isBlockCoverage":true},{"functionName":"<computed>.SafePromisePrototypeFinally.<computed>","ranges":[{"startOffset":6137,"endOffset":6249,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6252,"endOffset":6397,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6479,"endOffset":6538,"count":0}],"isBlockCoverage":false},{"functionName":"readableWebStream","ranges":[{"startOffset":6733,"endOffset":8419,"count":0}],"isBlockCoverage":false},{"functionName":"createReadStream","ranges":[{"startOffset":8717,"endOffset":8868,"count":0}],"isBlockCoverage":false},{"functionName":"createWriteStream","ranges":[{"startOffset":9172,"endOffset":9326,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9330,"endOffset":9730,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9734,"endOffset":9787,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9791,"endOffset":9878,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9882,"endOffset":9915,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9919,"endOffset":10136,"count":0}],"isBlockCoverage":false},{"functionName":"handleFdClose","ranges":[{"startOffset":10140,"endOffset":10511,"count":14}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10251,"endOffset":10310,"count":14}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10297,"endOffset":10309,"count":14}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10316,"endOffset":10503,"count":0}],"isBlockCoverage":false},{"functionName":"handleFdSync","ranges":[{"startOffset":10513,"endOffset":10796,"count":0}],"isBlockCoverage":false},{"functionName":"fsCall","ranges":[{"startOffset":10798,"endOffset":11258,"count":0}],"isBlockCoverage":false},{"functionName":"checkAborted","ranges":[{"startOffset":11260,"endOffset":11380,"count":56},{"startOffset":11304,"endOffset":11313,"count":0},{"startOffset":11319,"endOffset":11378,"count":0}],"isBlockCoverage":true},{"functionName":"writeFileHandle","ranges":[{"startOffset":11382,"endOffset":12524,"count":0}],"isBlockCoverage":false},{"functionName":"readFileHandle","ranges":[{"startOffset":12526,"endOffset":14927,"count":14},{"startOffset":12678,"endOffset":12708,"count":0},{"startOffset":13062,"endOffset":13100,"count":0},{"startOffset":13133,"endOffset":13181,"count":0},{"startOffset":13214,"endOffset":13252,"count":0},{"startOffset":13523,"endOffset":13595,"count":0},{"startOffset":13779,"endOffset":13783,"count":0},{"startOffset":13868,"endOffset":13935,"count":0},{"startOffset":14029,"endOffset":14040,"count":0},{"startOffset":14097,"endOffset":14157,"count":0},{"startOffset":14201,"endOffset":14215,"count":0},{"startOffset":14217,"endOffset":14327,"count":0},{"startOffset":14358,"endOffset":14586,"count":0},{"startOffset":14587,"endOffset":14601,"count":0},{"startOffset":14621,"endOffset":14921,"count":0}],"isBlockCoverage":true},{"functionName":"access","ranges":[{"startOffset":15080,"endOffset":15318,"count":2}],"isBlockCoverage":true},{"functionName":"cp","ranges":[{"startOffset":15320,"endOffset":15589,"count":0}],"isBlockCoverage":false},{"functionName":"copyFile","ranges":[{"startOffset":15591,"endOffset":15973,"count":0}],"isBlockCoverage":false},{"functionName":"open","ranges":[{"startOffset":16093,"endOffset":16481,"count":14}],"isBlockCoverage":true},{"functionName":"read","ranges":[{"startOffset":16483,"endOffset":17924,"count":0}],"isBlockCoverage":false},{"functionName":"readv","ranges":[{"startOffset":17926,"endOffset":18290,"count":0}],"isBlockCoverage":false},{"functionName":"write","ranges":[{"startOffset":18292,"endOffset":19650,"count":0}],"isBlockCoverage":false},{"functionName":"writev","ranges":[{"startOffset":19652,"endOffset":20117,"count":0}],"isBlockCoverage":false},{"functionName":"rename","ranges":[{"startOffset":20119,"endOffset":20495,"count":0}],"isBlockCoverage":false},{"functionName":"truncate","ranges":[{"startOffset":20497,"endOffset":20630,"count":0}],"isBlockCoverage":false},{"functionName":"ftruncate","ranges":[{"startOffset":20632,"endOffset":20871,"count":0}],"isBlockCoverage":false},{"functionName":"rm","ranges":[{"startOffset":20873,"endOffset":21075,"count":0}],"isBlockCoverage":false},{"functionName":"rmdir","ranges":[{"startOffset":21077,"endOffset":21526,"count":0}],"isBlockCoverage":false},{"functionName":"fdatasync","ranges":[{"startOffset":21528,"endOffset":21697,"count":0}],"isBlockCoverage":false},{"functionName":"fsync","ranges":[{"startOffset":21699,"endOffset":21860,"count":0}],"isBlockCoverage":false},{"functionName":"mkdir","ranges":[{"startOffset":21862,"endOffset":22409,"count":0}],"isBlockCoverage":false},{"functionName":"readdirRecursive","ranges":[{"startOffset":22411,"endOffset":24433,"count":0}],"isBlockCoverage":false},{"functionName":"readdir","ranges":[{"startOffset":24435,"endOffset":25055,"count":0}],"isBlockCoverage":false},{"functionName":"readlink","ranges":[{"startOffset":25057,"endOffset":25371,"count":0}],"isBlockCoverage":false},{"functionName":"symlink","ranges":[{"startOffset":25373,"endOffset":26673,"count":0}],"isBlockCoverage":false},{"functionName":"fstat","ranges":[{"startOffset":26675,"endOffset":26927,"count":0}],"isBlockCoverage":false},{"functionName":"lstat","ranges":[{"startOffset":26929,"endOffset":27254,"count":0}],"isBlockCoverage":false},{"functionName":"stat","ranges":[{"startOffset":27256,"endOffset":27578,"count":0}],"isBlockCoverage":false},{"functionName":"statfs","ranges":[{"startOffset":27580,"endOffset":27909,"count":0}],"isBlockCoverage":false},{"functionName":"link","ranges":[{"startOffset":27911,"endOffset":28304,"count":0}],"isBlockCoverage":false},{"functionName":"unlink","ranges":[{"startOffset":28306,"endOffset":28524,"count":0}],"isBlockCoverage":false},{"functionName":"fchmod","ranges":[{"startOffset":28526,"endOffset":28739,"count":0}],"isBlockCoverage":false},{"functionName":"chmod","ranges":[{"startOffset":28741,"endOffset":29007,"count":0}],"isBlockCoverage":false},{"functionName":"lchmod","ranges":[{"startOffset":29009,"endOffset":29237,"count":0}],"isBlockCoverage":false},{"functionName":"lchown","ranges":[{"startOffset":29239,"endOffset":29571,"count":0}],"isBlockCoverage":false},{"functionName":"fchown","ranges":[{"startOffset":29573,"endOffset":29850,"count":0}],"isBlockCoverage":false},{"functionName":"chown","ranges":[{"startOffset":29852,"endOffset":30182,"count":0}],"isBlockCoverage":false},{"functionName":"utimes","ranges":[{"startOffset":30184,"endOffset":30521,"count":0}],"isBlockCoverage":false},{"functionName":"futimes","ranges":[{"startOffset":30523,"endOffset":30802,"count":0}],"isBlockCoverage":false},{"functionName":"lutimes","ranges":[{"startOffset":30804,"endOffset":31146,"count":0}],"isBlockCoverage":false},{"functionName":"realpath","ranges":[{"startOffset":31148,"endOffset":31430,"count":0}],"isBlockCoverage":false},{"functionName":"mkdtemp","ranges":[{"startOffset":31432,"endOffset":31740,"count":0}],"isBlockCoverage":false},{"functionName":"writeFile","ranges":[{"startOffset":31742,"endOffset":32616,"count":0}],"isBlockCoverage":false},{"functionName":"isCustomIterable","ranges":[{"startOffset":32618,"endOffset":32732,"count":0}],"isBlockCoverage":false},{"functionName":"appendFile","ranges":[{"startOffset":32734,"endOffset":32975,"count":0}],"isBlockCoverage":false},{"functionName":"readFile","ranges":[{"startOffset":32977,"endOffset":33321,"count":14},{"startOffset":33094,"endOffset":33100,"count":0},{"startOffset":33141,"endOffset":33178,"count":0}],"isBlockCoverage":true},{"functionName":"_watch","ranges":[{"startOffset":33323,"endOffset":33982,"count":0}],"isBlockCoverage":false}]},{"scriptId":"161","url":"node:internal/fs/dir","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8077,"count":1}],"isBlockCoverage":false},{"functionName":"Dir","ranges":[{"startOffset":1177,"endOffset":1993,"count":0}],"isBlockCoverage":false},{"functionName":"get path","ranges":[{"startOffset":1997,"endOffset":2040,"count":0}],"isBlockCoverage":false},{"functionName":"read","ranges":[{"startOffset":2044,"endOffset":2111,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2115,"endOffset":3841,"count":0}],"isBlockCoverage":false},{"functionName":"processReadResult","ranges":[{"startOffset":3845,"endOffset":4099,"count":0}],"isBlockCoverage":false},{"functionName":"readSyncRecursive","ranges":[{"startOffset":4103,"endOffset":4682,"count":0}],"isBlockCoverage":false},{"functionName":"readSync","ranges":[{"startOffset":4686,"endOffset":5662,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":5666,"endOffset":6355,"count":0}],"isBlockCoverage":false},{"functionName":"closeSync","ranges":[{"startOffset":6359,"endOffset":6736,"count":0}],"isBlockCoverage":false},{"functionName":"entries","ranges":[{"startOffset":6740,"endOffset":7003,"count":0}],"isBlockCoverage":false},{"functionName":"opendir","ranges":[{"startOffset":7183,"endOffset":7763,"count":0}],"isBlockCoverage":false},{"functionName":"opendirSync","ranges":[{"startOffset":7765,"endOffset":8020,"count":0}],"isBlockCoverage":false}]},{"scriptId":"162","url":"node:internal/fs/watchers","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11262,"count":1}],"isBlockCoverage":false},{"functionName":"emitStop","ranges":[{"startOffset":1420,"endOffset":1468,"count":0}],"isBlockCoverage":false},{"functionName":"StatWatcher","ranges":[{"startOffset":1470,"endOffset":1700,"count":0}],"isBlockCoverage":false},{"functionName":"onchange","ranges":[{"startOffset":1820,"endOffset":2177,"count":0}],"isBlockCoverage":false},{"functionName":"StatWatcher.<computed>","ranges":[{"startOffset":2565,"endOffset":3403,"count":0}],"isBlockCoverage":false},{"functionName":"StatWatcher.start","ranges":[{"startOffset":3624,"endOffset":3632,"count":0}],"isBlockCoverage":false},{"functionName":"StatWatcher.stop","ranges":[{"startOffset":3878,"endOffset":4159,"count":0}],"isBlockCoverage":false},{"functionName":"StatWatcher.<computed>","ranges":[{"startOffset":4248,"endOffset":4675,"count":0}],"isBlockCoverage":false},{"functionName":"StatWatcher.ref","ranges":[{"startOffset":4706,"endOffset":4988,"count":0}],"isBlockCoverage":false},{"functionName":"StatWatcher.unref","ranges":[{"startOffset":5021,"endOffset":5271,"count":0}],"isBlockCoverage":false},{"functionName":"FSWatcher","ranges":[{"startOffset":5275,"endOffset":6247,"count":0}],"isBlockCoverage":false},{"functionName":"FSWatcher.<computed>","ranges":[{"startOffset":6784,"endOffset":7698,"count":0}],"isBlockCoverage":false},{"functionName":"FSWatcher.start","ranges":[{"startOffset":7915,"endOffset":7923,"count":0}],"isBlockCoverage":false},{"functionName":"FSWatcher.close","ranges":[{"startOffset":8046,"endOffset":8383,"count":0}],"isBlockCoverage":false},{"functionName":"FSWatcher.ref","ranges":[{"startOffset":8412,"endOffset":8481,"count":0}],"isBlockCoverage":false},{"functionName":"FSWatcher.unref","ranges":[{"startOffset":8512,"endOffset":8583,"count":0}],"isBlockCoverage":false},{"functionName":"emitCloseNT","ranges":[{"startOffset":8586,"endOffset":8638,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8862,"endOffset":8898,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":8902,"endOffset":8943,"count":0}],"isBlockCoverage":false},{"functionName":"watch","ranges":[{"startOffset":8979,"endOffset":11130,"count":0}],"isBlockCoverage":false}]},{"scriptId":"163","url":"node:internal/fs/recursive_watch","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7216,"count":1}],"isBlockCoverage":false},{"functionName":"lazyLoadFsSync","ranges":[{"startOffset":716,"endOffset":802,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":833,"endOffset":7162,"count":0}],"isBlockCoverage":false}]},{"scriptId":"164","url":"node:internal/readline/interface","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":39318,"count":1}],"isBlockCoverage":false},{"functionName":"InterfaceConstructor","ranges":[{"startOffset":3911,"endOffset":9403,"count":0}],"isBlockCoverage":false},{"functionName":"Interface","ranges":[{"startOffset":9644,"endOffset":9744,"count":0}],"isBlockCoverage":false},{"functionName":"get columns","ranges":[{"startOffset":9747,"endOffset":9859,"count":0}],"isBlockCoverage":false},{"functionName":"setPrompt","ranges":[{"startOffset":9968,"endOffset":10019,"count":0}],"isBlockCoverage":false},{"functionName":"getPrompt","ranges":[{"startOffset":10113,"endOffset":10156,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10160,"endOffset":10351,"count":0}],"isBlockCoverage":false},{"functionName":"prompt","ranges":[{"startOffset":10490,"endOffset":10744,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10748,"endOffset":11055,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11059,"endOffset":11301,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11305,"endOffset":11392,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11396,"endOffset":11564,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11568,"endOffset":11765,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11769,"endOffset":12947,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":12951,"endOffset":13956,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":14040,"endOffset":14211,"count":0}],"isBlockCoverage":false},{"functionName":"pause","ranges":[{"startOffset":14292,"endOffset":14423,"count":0}],"isBlockCoverage":false},{"functionName":"resume","ranges":[{"startOffset":14515,"endOffset":14651,"count":0}],"isBlockCoverage":false},{"functionName":"write","ranges":[{"startOffset":14922,"endOffset":15081,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15085,"endOffset":16819,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":16823,"endOffset":17492,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17496,"endOffset":17895,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17899,"endOffset":20108,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20112,"endOffset":20573,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20577,"endOffset":20835,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20839,"endOffset":21321,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21325,"endOffset":21806,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21810,"endOffset":22570,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":22574,"endOffset":23001,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":23005,"endOffset":23283,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":23287,"endOffset":23545,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":23549,"endOffset":23809,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":23813,"endOffset":23968,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":23972,"endOffset":24647,"count":0}],"isBlockCoverage":false},{"functionName":"clearLine","ranges":[{"startOffset":24651,"endOffset":24800,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":24804,"endOffset":24958,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":24962,"endOffset":25149,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":25153,"endOffset":25461,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":25465,"endOffset":25773,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":26208,"endOffset":26842,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":26846,"endOffset":27554,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":27629,"endOffset":28569,"count":0}],"isBlockCoverage":false},{"functionName":"getCursorPos","ranges":[{"startOffset":28746,"endOffset":28915,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":29034,"endOffset":29591,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":29628,"endOffset":38030,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":38338,"endOffset":38718,"count":0}],"isBlockCoverage":false}]},{"scriptId":"165","url":"node:internal/readline/utils","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12396,"count":1}],"isBlockCoverage":false},{"functionName":"CSI","ranges":[{"startOffset":385,"endOffset":579,"count":4},{"startOffset":544,"endOffset":559,"count":0}],"isBlockCoverage":true},{"functionName":"charLengthLeft","ranges":[{"startOffset":958,"endOffset":1220,"count":0}],"isBlockCoverage":false},{"functionName":"charLengthAt","ranges":[{"startOffset":1222,"endOffset":1484,"count":0}],"isBlockCoverage":false},{"functionName":"emitKeys","ranges":[{"startOffset":2213,"endOffset":11840,"count":0}],"isBlockCoverage":false},{"functionName":"commonPrefix","ranges":[{"startOffset":11870,"endOffset":12283,"count":0}],"isBlockCoverage":false}]},{"scriptId":"166","url":"node:internal/readline/callbacks","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2754,"count":1}],"isBlockCoverage":false},{"functionName":"cursorTo","ranges":[{"startOffset":460,"endOffset":1146,"count":0}],"isBlockCoverage":false},{"functionName":"moveCursor","ranges":[{"startOffset":1210,"endOffset":1722,"count":0}],"isBlockCoverage":false},{"functionName":"clearLine","ranges":[{"startOffset":1869,"endOffset":2272,"count":0}],"isBlockCoverage":false},{"functionName":"clearScreenDown","ranges":[{"startOffset":2349,"endOffset":2672,"count":0}],"isBlockCoverage":false}]},{"scriptId":"167","url":"node:internal/modules/esm/module_job","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":17379,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":449,"endOffset":474,"count":1}],"isBlockCoverage":true},{"functionName":"isCommonJSGlobalLikeNotDefinedError","ranges":[{"startOffset":1284,"endOffset":1415,"count":0}],"isBlockCoverage":false},{"functionName":"explainCommonJSGlobalLikeNotDefinedError","ranges":[{"startOffset":1541,"endOffset":2388,"count":0}],"isBlockCoverage":false},{"functionName":"ModuleJobBase","ranges":[{"startOffset":2415,"endOffset":2602,"count":119}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":2717,"endOffset":12334,"count":119}],"isBlockCoverage":false},{"functionName":"ModuleJob","ranges":[{"startOffset":3464,"endOffset":4419,"count":119},{"startOffset":3812,"endOffset":3967,"count":0}],"isBlockCoverage":true},{"functionName":"_link","ranges":[{"startOffset":4557,"endOffset":6182,"count":119},{"startOffset":5540,"endOffset":6107,"count":332}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5796,"endOffset":5947,"count":332}],"isBlockCoverage":true},{"functionName":"instantiate","ranges":[{"startOffset":6186,"endOffset":6331,"count":3}],"isBlockCoverage":true},{"functionName":"_instantiate","ranges":[{"startOffset":6335,"endOffset":10064,"count":3},{"startOffset":6868,"endOffset":7045,"count":0},{"startOffset":7102,"endOffset":9817,"count":0},{"startOffset":9864,"endOffset":10060,"count":126}],"isBlockCoverage":true},{"functionName":"addJobsToDependencyGraph","ranges":[{"startOffset":6434,"endOffset":6767,"count":335},{"startOffset":6568,"endOffset":6593,"count":209},{"startOffset":6593,"endOffset":6766,"count":126}],"isBlockCoverage":true},{"functionName":"runSync","ranges":[{"startOffset":10068,"endOffset":11916,"count":0}],"isBlockCoverage":false},{"functionName":"run","ranges":[{"startOffset":11920,"endOffset":12332,"count":3},{"startOffset":12175,"endOffset":12275,"count":0}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":12909,"endOffset":17259,"count":0}],"isBlockCoverage":false}]},{"scriptId":"168","url":"node:internal/source_map/source_map_cache_map","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3653,"count":1}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":915,"endOffset":3564,"count":1}],"isBlockCoverage":false},{"functionName":"#cleanup","ranges":[{"startOffset":1366,"endOffset":1740,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":2181,"endOffset":2496,"count":88}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2309,"endOffset":2355,"count":88}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":2598,"endOffset":2826,"count":2},{"startOffset":2693,"endOffset":2700,"count":0},{"startOffset":2763,"endOffset":2825,"count":0}],"isBlockCoverage":true},{"functionName":"get size","ranges":[{"startOffset":2979,"endOffset":3032,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3036,"endOffset":3562,"count":0}],"isBlockCoverage":false}]},{"scriptId":"170","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/loader.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":729,"count":1}],"isBlockCoverage":true}]},{"scriptId":"171","url":"node:internal/fs/streams","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":15271,"count":1}],"isBlockCoverage":false},{"functionName":"_construct","ranges":[{"startOffset":1082,"endOffset":1985,"count":0}],"isBlockCoverage":false},{"functionName":"FileHandleOperations","ranges":[{"startOffset":2078,"endOffset":3168,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":3171,"endOffset":3412,"count":0}],"isBlockCoverage":false},{"functionName":"_close","ranges":[{"startOffset":3414,"endOffset":3536,"count":0}],"isBlockCoverage":false},{"functionName":"importFd","ranges":[{"startOffset":3538,"endOffset":4543,"count":0}],"isBlockCoverage":false},{"functionName":"ReadStream","ranges":[{"startOffset":4545,"endOffset":6288,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6477,"endOffset":6532,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":6536,"endOffset":6593,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6629,"endOffset":6654,"count":0}],"isBlockCoverage":false},{"functionName":"ReadStream._read","ranges":[{"startOffset":6830,"endOffset":7961,"count":0}],"isBlockCoverage":false},{"functionName":"ReadStream._destroy","ranges":[{"startOffset":7996,"endOffset":8557,"count":0}],"isBlockCoverage":false},{"functionName":"ReadStream.close","ranges":[{"startOffset":8589,"endOffset":8675,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8755,"endOffset":8789,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream","ranges":[{"startOffset":8818,"endOffset":10816,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":11008,"endOffset":11063,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":11067,"endOffset":11124,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11161,"endOffset":11186,"count":0}],"isBlockCoverage":false},{"functionName":"writeAll","ranges":[{"startOffset":11337,"endOffset":12130,"count":0}],"isBlockCoverage":false},{"functionName":"writevAll","ranges":[{"startOffset":12132,"endOffset":12949,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream._write","ranges":[{"startOffset":12982,"endOffset":13366,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream._writev","ranges":[{"startOffset":13401,"endOffset":13963,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream._destroy","ranges":[{"startOffset":13999,"endOffset":14560,"count":0}],"isBlockCoverage":false},{"functionName":"WriteStream.close","ranges":[{"startOffset":14593,"endOffset":14975,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":15157,"endOffset":15191,"count":0}],"isBlockCoverage":false}]},{"scriptId":"172","url":"node:internal/crypto/webcrypto","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":30983,"count":1}],"isBlockCoverage":false},{"functionName":"digest","ranges":[{"startOffset":1190,"endOffset":1799,"count":0}],"isBlockCoverage":false},{"functionName":"randomUUID","ranges":[{"startOffset":1801,"endOffset":1911,"count":0}],"isBlockCoverage":false},{"functionName":"generateKey","ranges":[{"startOffset":1913,"endOffset":4408,"count":0}],"isBlockCoverage":false},{"functionName":"deriveBits","ranges":[{"startOffset":4410,"endOffset":5977,"count":0}],"isBlockCoverage":false},{"functionName":"getKeyLength","ranges":[{"startOffset":5979,"endOffset":6599,"count":0}],"isBlockCoverage":false},{"functionName":"deriveKey","ranges":[{"startOffset":6601,"endOffset":8781,"count":0}],"isBlockCoverage":false},{"functionName":"exportKeySpki","ranges":[{"startOffset":8783,"endOffset":9761,"count":0}],"isBlockCoverage":false},{"functionName":"exportKeyPkcs8","ranges":[{"startOffset":9763,"endOffset":10750,"count":0}],"isBlockCoverage":false},{"functionName":"exportKeyRaw","ranges":[{"startOffset":10752,"endOffset":11685,"count":0}],"isBlockCoverage":false},{"functionName":"exportKeyJWK","ranges":[{"startOffset":11687,"endOffset":13253,"count":0}],"isBlockCoverage":false},{"functionName":"exportKey","ranges":[{"startOffset":13255,"endOffset":14115,"count":0}],"isBlockCoverage":false},{"functionName":"importGenericSecretKey","ranges":[{"startOffset":14117,"endOffset":15467,"count":0}],"isBlockCoverage":false},{"functionName":"importKey","ranges":[{"startOffset":15469,"endOffset":18211,"count":0}],"isBlockCoverage":false},{"functionName":"wrapKey","ranges":[{"startOffset":18304,"endOffset":19839,"count":0}],"isBlockCoverage":false},{"functionName":"unwrapKey","ranges":[{"startOffset":19934,"endOffset":21897,"count":0}],"isBlockCoverage":false},{"functionName":"signVerify","ranges":[{"startOffset":21899,"endOffset":23002,"count":0}],"isBlockCoverage":false},{"functionName":"sign","ranges":[{"startOffset":23004,"endOffset":23630,"count":0}],"isBlockCoverage":false},{"functionName":"verify","ranges":[{"startOffset":23632,"endOffset":24389,"count":0}],"isBlockCoverage":false},{"functionName":"cipherOrWrap","ranges":[{"startOffset":24391,"endOffset":25802,"count":0}],"isBlockCoverage":false},{"functionName":"encrypt","ranges":[{"startOffset":25804,"endOffset":26530,"count":0}],"isBlockCoverage":false},{"functionName":"decrypt","ranges":[{"startOffset":26532,"endOffset":27258,"count":0}],"isBlockCoverage":false},{"functionName":"SubtleCrypto","ranges":[{"startOffset":27414,"endOffset":27474,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27509,"endOffset":27522,"count":1}],"isBlockCoverage":true},{"functionName":"Crypto","ranges":[{"startOffset":27561,"endOffset":27621,"count":0}],"isBlockCoverage":true},{"functionName":"get subtle","ranges":[{"startOffset":27625,"endOffset":27725,"count":1},{"startOffset":27665,"endOffset":27702,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27760,"endOffset":27773,"count":1}],"isBlockCoverage":true},{"functionName":"getRandomValues","ranges":[{"startOffset":27789,"endOffset":28122,"count":0}],"isBlockCoverage":false}]},{"scriptId":"173","url":"node:internal/blocklist","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3880,"count":1}],"isBlockCoverage":false},{"functionName":"BlockList","ranges":[{"startOffset":765,"endOffset":880,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":884,"endOffset":1138,"count":0}],"isBlockCoverage":false},{"functionName":"addAddress","ranges":[{"startOffset":1142,"endOffset":1463,"count":0}],"isBlockCoverage":false},{"functionName":"addRange","ranges":[{"startOffset":1467,"endOffset":2145,"count":0}],"isBlockCoverage":false},{"functionName":"addSubnet","ranges":[{"startOffset":2149,"endOffset":2694,"count":0}],"isBlockCoverage":false},{"functionName":"check","ranges":[{"startOffset":2698,"endOffset":3163,"count":0}],"isBlockCoverage":false},{"functionName":"get rules","ranges":[{"startOffset":3167,"endOffset":3221,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3225,"endOffset":3382,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3386,"endOffset":3486,"count":0}],"isBlockCoverage":false},{"functionName":"InternalBlockList","ranges":[{"startOffset":3541,"endOffset":3672,"count":0}],"isBlockCoverage":false}]},{"scriptId":"174","url":"node:internal/socketaddress","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3388,"count":1}],"isBlockCoverage":false},{"functionName":"isSocketAddress","ranges":[{"startOffset":743,"endOffset":814,"count":0}],"isBlockCoverage":false},{"functionName":"SocketAddress","ranges":[{"startOffset":818,"endOffset":1787,"count":0}],"isBlockCoverage":false},{"functionName":"get address","ranges":[{"startOffset":1791,"endOffset":1844,"count":0}],"isBlockCoverage":false},{"functionName":"get port","ranges":[{"startOffset":1848,"endOffset":1895,"count":0}],"isBlockCoverage":false},{"functionName":"get family","ranges":[{"startOffset":1899,"endOffset":1980,"count":0}],"isBlockCoverage":false},{"functionName":"get flowlabel","ranges":[{"startOffset":1984,"endOffset":2092,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2096,"endOffset":2335,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2339,"endOffset":2504,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2508,"endOffset":2714,"count":0}],"isBlockCoverage":false},{"functionName":"toJSON","ranges":[{"startOffset":2718,"endOffset":2864,"count":0}],"isBlockCoverage":false},{"functionName":"InternalSocketAddress","ranges":[{"startOffset":2923,"endOffset":3143,"count":0}],"isBlockCoverage":false}]},{"scriptId":"175","url":"node:internal/util/parse_args/parse_args","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13843,"count":1}],"isBlockCoverage":false},{"functionName":"getMainArgs","ranges":[{"startOffset":1135,"endOffset":1729,"count":0}],"isBlockCoverage":false},{"functionName":"checkOptionLikeValue","ranges":[{"startOffset":1874,"endOffset":2478,"count":0}],"isBlockCoverage":false},{"functionName":"checkOptionUsage","ranges":[{"startOffset":2658,"endOffset":3900,"count":0}],"isBlockCoverage":false},{"functionName":"storeOption","ranges":[{"startOffset":4234,"endOffset":5373,"count":0}],"isBlockCoverage":false},{"functionName":"storeDefaultOption","ranges":[{"startOffset":5698,"endOffset":5867,"count":0}],"isBlockCoverage":false},{"functionName":"argsToTokens","ranges":[{"startOffset":6142,"endOffset":10122,"count":0}],"isBlockCoverage":false},{"functionName":"parseArgs","ranges":[{"startOffset":10142,"endOffset":13805,"count":0}],"isBlockCoverage":false}]},{"scriptId":"176","url":"node:internal/util/parse_args/utils","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6225,"count":1}],"isBlockCoverage":false},{"functionName":"objectGetOwn","ranges":[{"startOffset":693,"endOffset":782,"count":0}],"isBlockCoverage":false},{"functionName":"optionsGetOwn","ranges":[{"startOffset":865,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"isOptionValue","ranges":[{"startOffset":1277,"endOffset":1502,"count":0}],"isBlockCoverage":false},{"functionName":"isOptionLikeValue","ranges":[{"startOffset":1719,"endOffset":1862,"count":0}],"isBlockCoverage":false},{"functionName":"isLoneShortOption","ranges":[{"startOffset":1936,"endOffset":2088,"count":0}],"isBlockCoverage":false},{"functionName":"isLoneLongOption","ranges":[{"startOffset":2336,"endOffset":2484,"count":0}],"isBlockCoverage":false},{"functionName":"isLongOptionAndValue","ranges":[{"startOffset":2681,"endOffset":2832,"count":0}],"isBlockCoverage":false},{"functionName":"isShortOptionGroup","ranges":[{"startOffset":3724,"endOffset":4109,"count":0}],"isBlockCoverage":false},{"functionName":"isShortOptionAndValue","ranges":[{"startOffset":4418,"endOffset":4847,"count":0}],"isBlockCoverage":false},{"functionName":"findLongOptionForShort","ranges":[{"startOffset":5170,"endOffset":5472,"count":0}],"isBlockCoverage":false},{"functionName":"useDefaultValueOption","ranges":[{"startOffset":5797,"endOffset":5967,"count":0}],"isBlockCoverage":false}]},{"scriptId":"177","url":"node:internal/mime","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11171,"count":1}],"isBlockCoverage":false},{"functionName":"toASCIILower","ranges":[{"startOffset":587,"endOffset":820,"count":0}],"isBlockCoverage":false},{"functionName":"parseTypeAndSubtype","ranges":[{"startOffset":867,"endOffset":2486,"count":0}],"isBlockCoverage":false},{"functionName":"removeBackslashes","ranges":[{"startOffset":2603,"endOffset":3018,"count":0}],"isBlockCoverage":false},{"functionName":"escapeQuoteOrSolidus","ranges":[{"startOffset":3021,"endOffset":3233,"count":0}],"isBlockCoverage":false},{"functionName":"encode","ranges":[{"startOffset":3250,"endOffset":3489,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":3492,"endOffset":9197,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":9657,"endOffset":10967,"count":0}],"isBlockCoverage":false}]},{"scriptId":"178","url":"node:fs/promises","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":73,"count":1}],"isBlockCoverage":false}]},{"scriptId":"179","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/get-pipe-path-BHW2eJdv.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":368,"count":1}],"isBlockCoverage":true},{"functionName":"e","ranges":[{"startOffset":34,"endOffset":78,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":262,"endOffset":327,"count":1},{"startOffset":304,"endOffset":324,"count":0}],"isBlockCoverage":true}]},{"scriptId":"180","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/esm/index.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7014,"count":1},{"startOffset":2452,"endOffset":2471,"count":0},{"startOffset":3563,"endOffset":3695,"count":0},{"startOffset":6770,"endOffset":6932,"count":0}],"isBlockCoverage":true},{"functionName":"c","ranges":[{"startOffset":34,"endOffset":78,"count":14}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":962,"endOffset":1321,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1341,"endOffset":1417,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1450,"endOffset":1699,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1724,"endOffset":1940,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1965,"endOffset":2005,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2029,"endOffset":2202,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2250,"endOffset":2410,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2480,"endOffset":3549,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3578,"endOffset":3686,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3705,"endOffset":4113,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4148,"endOffset":4422,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4449,"endOffset":5000,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5020,"endOffset":5660,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5686,"endOffset":6040,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6078,"endOffset":6753,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6785,"endOffset":6920,"count":0}],"isBlockCoverage":false}]},{"scriptId":"181","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/temporary-directory-CwHp0_NW.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":151,"count":1},{"startOffset":80,"endOffset":102,"count":0}],"isBlockCoverage":true}]},{"scriptId":"182","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/node-features-_8ZFwP_x.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":526,"count":1}],"isBlockCoverage":true},{"functionName":"o","ranges":[{"startOffset":34,"endOffset":78,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":89,"endOffset":182,"count":2},{"startOffset":155,"endOffset":166,"count":0},{"startOffset":171,"endOffset":181,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":261,"endOffset":367,"count":2},{"startOffset":299,"endOffset":358,"count":4},{"startOffset":330,"endOffset":343,"count":3},{"startOffset":344,"endOffset":357,"count":2},{"startOffset":358,"endOffset":366,"count":0}],"isBlockCoverage":true}]},{"scriptId":"183","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/register-B7jrtLTO.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1472,"count":1}],"isBlockCoverage":true},{"functionName":"o","ranges":[{"startOffset":34,"endOffset":78,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":261,"endOffset":513,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":555,"endOffset":1443,"count":1},{"startOffset":574,"endOffset":724,"count":0},{"startOffset":997,"endOffset":1008,"count":0},{"startOffset":1019,"endOffset":1029,"count":0},{"startOffset":1059,"endOffset":1069,"count":0},{"startOffset":1073,"endOffset":1107,"count":0},{"startOffset":1109,"endOffset":1140,"count":0},{"startOffset":1387,"endOffset":1440,"count":0}],"isBlockCoverage":true},{"functionName":"m._resolveFilename","ranges":[{"startOffset":778,"endOffset":800,"count":45}],"isBlockCoverage":true},{"functionName":"n","ranges":[{"startOffset":1076,"endOffset":1106,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1151,"endOffset":1364,"count":0}],"isBlockCoverage":false}]},{"scriptId":"184","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/get-tsconfig@4.13.0/node_modules/get-tsconfig/dist/index.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22476,"count":1}],"isBlockCoverage":true},{"functionName":"o","ranges":[{"startOffset":35,"endOffset":80,"count":33}],"isBlockCoverage":true},{"functionName":"h","ranges":[{"startOffset":268,"endOffset":336,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":359,"endOffset":522,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":383,"endOffset":521,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":594,"endOffset":699,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":735,"endOffset":780,"count":0}],"isBlockCoverage":false},{"functionName":"Le","ranges":[{"startOffset":806,"endOffset":4112,"count":0}],"isBlockCoverage":false},{"functionName":"X","ranges":[{"startOffset":4134,"endOffset":4169,"count":0}],"isBlockCoverage":false},{"functionName":"S","ranges":[{"startOffset":4189,"endOffset":4225,"count":0}],"isBlockCoverage":false},{"functionName":"$","ranges":[{"startOffset":4244,"endOffset":4278,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4301,"endOffset":5711,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5752,"endOffset":5772,"count":20}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5811,"endOffset":5835,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5862,"endOffset":5887,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5914,"endOffset":5940,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5967,"endOffset":5991,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6018,"endOffset":6043,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6070,"endOffset":6096,"count":200}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6105,"endOffset":6151,"count":1}],"isBlockCoverage":true},{"functionName":"$e","ranges":[{"startOffset":6164,"endOffset":6691,"count":0}],"isBlockCoverage":false},{"functionName":"xe","ranges":[{"startOffset":6707,"endOffset":9602,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9624,"endOffset":9953,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9976,"endOffset":10601,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10636,"endOffset":11393,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11419,"endOffset":11444,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11508,"endOffset":11563,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11581,"endOffset":11904,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11975,"endOffset":12935,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":12962,"endOffset":12987,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13042,"endOffset":13108,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13138,"endOffset":13249,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13272,"endOffset":13744,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13799,"endOffset":14988,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15011,"endOffset":15076,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15185,"endOffset":17865,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17899,"endOffset":18374,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18397,"endOffset":18524,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18554,"endOffset":18618,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18643,"endOffset":18726,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18748,"endOffset":18803,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":18827,"endOffset":19204,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":19224,"endOffset":19820,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":19876,"endOffset":19921,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":19938,"endOffset":20047,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20078,"endOffset":20240,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20277,"endOffset":20363,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20403,"endOffset":20582,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20701,"endOffset":20849,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":20881,"endOffset":20981,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21012,"endOffset":21066,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":21260,"endOffset":22356,"count":0}],"isBlockCoverage":false}]},{"scriptId":"185","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/index-gbaejti9.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1058,"count":1},{"startOffset":111,"endOffset":116,"count":0},{"startOffset":134,"endOffset":141,"count":0},{"startOffset":166,"endOffset":169,"count":0},{"startOffset":316,"endOffset":325,"count":0},{"startOffset":330,"endOffset":537,"count":0},{"startOffset":539,"endOffset":664,"count":0}],"isBlockCoverage":true},{"functionName":"g","ranges":[{"startOffset":34,"endOffset":78,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":487,"endOffset":508,"count":0}],"isBlockCoverage":false},{"functionName":"e","ranges":[{"startOffset":698,"endOffset":856,"count":9}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":795,"endOffset":855,"count":3},{"startOffset":807,"endOffset":850,"count":0}],"isBlockCoverage":true}]},{"scriptId":"186","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/register-CFH5oNdT.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7496,"count":1},{"startOffset":1903,"endOffset":1936,"count":0}],"isBlockCoverage":true},{"functionName":"o","ranges":[{"startOffset":34,"endOffset":78,"count":23}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":593,"endOffset":758,"count":45},{"startOffset":646,"endOffset":757,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":786,"endOffset":864,"count":45},{"startOffset":811,"endOffset":861,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":891,"endOffset":948,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":966,"endOffset":1017,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1040,"endOffset":1064,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1084,"endOffset":1140,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1395,"endOffset":1551,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1572,"endOffset":1619,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1709,"endOffset":1742,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1771,"endOffset":1850,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1947,"endOffset":2105,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1950,"endOffset":2105,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2250,"endOffset":2512,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2529,"endOffset":3357,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3383,"endOffset":3656,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3900,"endOffset":4161,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4185,"endOffset":4453,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4480,"endOffset":4982,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5064,"endOffset":5146,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5170,"endOffset":5623,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5646,"endOffset":5788,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5812,"endOffset":6215,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6245,"endOffset":6510,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6534,"endOffset":7334,"count":0}],"isBlockCoverage":false}]},{"scriptId":"187","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/require-DQxpCAr4.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":465,"count":1}],"isBlockCoverage":true},{"functionName":"a","ranges":[{"startOffset":34,"endOffset":78,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":188,"endOffset":255,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":274,"endOffset":345,"count":0}],"isBlockCoverage":false}]},{"scriptId":"188","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/client-BQVF1NaW.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":500,"count":1}],"isBlockCoverage":true},{"functionName":"o","ranges":[{"startOffset":34,"endOffset":78,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":157,"endOffset":406,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":173,"endOffset":405,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":224,"endOffset":369,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":384,"endOffset":393,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":455,"endOffset":468,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":469,"endOffset":475,"count":0}],"isBlockCoverage":false}]},{"scriptId":"189","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/index-7AaEi15b.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":52247,"count":1},{"startOffset":593,"endOffset":635,"count":64},{"startOffset":682,"endOffset":866,"count":0},{"startOffset":19030,"endOffset":19130,"count":0},{"startOffset":41055,"endOffset":41063,"count":0},{"startOffset":50855,"endOffset":50859,"count":0}],"isBlockCoverage":true},{"functionName":"f","ranges":[{"startOffset":35,"endOffset":80,"count":97}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":381,"endOffset":429,"count":0}],"isBlockCoverage":false},{"functionName":"decode","ranges":[{"startOffset":702,"endOffset":778,"count":0}],"isBlockCoverage":false},{"functionName":"decode","ranges":[{"startOffset":781,"endOffset":865,"count":0}],"isBlockCoverage":false},{"functionName":"Qt","ranges":[{"startOffset":867,"endOffset":1226,"count":0}],"isBlockCoverage":false},{"functionName":"Zt","ranges":[{"startOffset":1241,"endOffset":1308,"count":0}],"isBlockCoverage":false},{"functionName":"K","ranges":[{"startOffset":1324,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"je","ranges":[{"startOffset":1506,"endOffset":1561,"count":0}],"isBlockCoverage":false},{"functionName":"Vt","ranges":[{"startOffset":1580,"endOffset":1606,"count":0}],"isBlockCoverage":false},{"functionName":"en","ranges":[{"startOffset":1619,"endOffset":1653,"count":0}],"isBlockCoverage":false},{"functionName":"De","ranges":[{"startOffset":1678,"endOffset":2149,"count":0}],"isBlockCoverage":false},{"functionName":"Y","ranges":[{"startOffset":2164,"endOffset":2305,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":2335,"endOffset":2359,"count":1}],"isBlockCoverage":true},{"functionName":"ae","ranges":[{"startOffset":2359,"endOffset":2418,"count":0}],"isBlockCoverage":false},{"functionName":"add","ranges":[{"startOffset":2418,"endOffset":2452,"count":0}],"isBlockCoverage":false},{"functionName":"has","ranges":[{"startOffset":2452,"endOffset":2495,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":2505,"endOffset":2528,"count":1}],"isBlockCoverage":true},{"functionName":"ee","ranges":[{"startOffset":2528,"endOffset":2697,"count":0}],"isBlockCoverage":false},{"functionName":"appendLeft","ranges":[{"startOffset":2697,"endOffset":2725,"count":0}],"isBlockCoverage":false},{"functionName":"appendRight","ranges":[{"startOffset":2725,"endOffset":2764,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2764,"endOffset":2940,"count":0}],"isBlockCoverage":false},{"functionName":"contains","ranges":[{"startOffset":2940,"endOffset":2984,"count":0}],"isBlockCoverage":false},{"functionName":"eachNext","ranges":[{"startOffset":2984,"endOffset":3029,"count":0}],"isBlockCoverage":false},{"functionName":"eachPrevious","ranges":[{"startOffset":3029,"endOffset":3082,"count":0}],"isBlockCoverage":false},{"functionName":"edit","ranges":[{"startOffset":3082,"endOffset":3186,"count":0}],"isBlockCoverage":false},{"functionName":"prependLeft","ranges":[{"startOffset":3186,"endOffset":3225,"count":0}],"isBlockCoverage":false},{"functionName":"prependRight","ranges":[{"startOffset":3225,"endOffset":3265,"count":0}],"isBlockCoverage":false},{"functionName":"reset","ranges":[{"startOffset":3265,"endOffset":3376,"count":0}],"isBlockCoverage":false},{"functionName":"split","ranges":[{"startOffset":3376,"endOffset":3688,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3688,"endOffset":3741,"count":0}],"isBlockCoverage":false},{"functionName":"trimEnd","ranges":[{"startOffset":3741,"endOffset":4080,"count":0}],"isBlockCoverage":false},{"functionName":"trimStart","ranges":[{"startOffset":4080,"endOffset":4435,"count":0}],"isBlockCoverage":false},{"functionName":"tn","ranges":[{"startOffset":4436,"endOffset":4735,"count":1},{"startOffset":4566,"endOffset":4734,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4515,"endOffset":4566,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4593,"endOffset":4637,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4638,"endOffset":4734,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":4778,"endOffset":4805,"count":1}],"isBlockCoverage":true},{"functionName":"rn","ranges":[{"startOffset":4805,"endOffset":5043,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":5043,"endOffset":5082,"count":0}],"isBlockCoverage":false},{"functionName":"toUrl","ranges":[{"startOffset":5082,"endOffset":5162,"count":0}],"isBlockCoverage":false},{"functionName":"sn","ranges":[{"startOffset":5164,"endOffset":5452,"count":0}],"isBlockCoverage":false},{"functionName":"on","ranges":[{"startOffset":5472,"endOffset":5655,"count":0}],"isBlockCoverage":false},{"functionName":"cn","ranges":[{"startOffset":5714,"endOffset":5767,"count":0}],"isBlockCoverage":false},{"functionName":"Te","ranges":[{"startOffset":5784,"endOffset":6022,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":6064,"endOffset":6090,"count":1}],"isBlockCoverage":true},{"functionName":"ln","ranges":[{"startOffset":6090,"endOffset":6253,"count":0}],"isBlockCoverage":false},{"functionName":"addEdit","ranges":[{"startOffset":6253,"endOffset":6784,"count":0}],"isBlockCoverage":false},{"functionName":"addUneditedChunk","ranges":[{"startOffset":6784,"endOffset":7277,"count":0}],"isBlockCoverage":false},{"functionName":"advance","ranges":[{"startOffset":7277,"endOffset":7518,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":7586,"endOffset":7615,"count":1}],"isBlockCoverage":true},{"functionName":"_e","ranges":[{"startOffset":7615,"endOffset":8259,"count":0}],"isBlockCoverage":false},{"functionName":"addSourcemapLocation","ranges":[{"startOffset":8259,"endOffset":8314,"count":0}],"isBlockCoverage":false},{"functionName":"append","ranges":[{"startOffset":8314,"endOffset":8426,"count":0}],"isBlockCoverage":false},{"functionName":"appendLeft","ranges":[{"startOffset":8426,"endOffset":8602,"count":0}],"isBlockCoverage":false},{"functionName":"appendRight","ranges":[{"startOffset":8602,"endOffset":8782,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":8782,"endOffset":9227,"count":0}],"isBlockCoverage":false},{"functionName":"generateDecodedMap","ranges":[{"startOffset":9227,"endOffset":9861,"count":0}],"isBlockCoverage":false},{"functionName":"generateMap","ranges":[{"startOffset":9861,"endOffset":9918,"count":0}],"isBlockCoverage":false},{"functionName":"_ensureindentStr","ranges":[{"startOffset":9918,"endOffset":9997,"count":0}],"isBlockCoverage":false},{"functionName":"_getRawIndentString","ranges":[{"startOffset":9997,"endOffset":10065,"count":0}],"isBlockCoverage":false},{"functionName":"getIndentString","ranges":[{"startOffset":10065,"endOffset":10155,"count":0}],"isBlockCoverage":false},{"functionName":"indent","ranges":[{"startOffset":10155,"endOffset":10918,"count":0}],"isBlockCoverage":false},{"functionName":"insert","ranges":[{"startOffset":10918,"endOffset":11026,"count":0}],"isBlockCoverage":false},{"functionName":"insertLeft","ranges":[{"startOffset":11026,"endOffset":11201,"count":0}],"isBlockCoverage":false},{"functionName":"insertRight","ranges":[{"startOffset":11201,"endOffset":11384,"count":0}],"isBlockCoverage":false},{"functionName":"move","ranges":[{"startOffset":11384,"endOffset":11913,"count":0}],"isBlockCoverage":false},{"functionName":"overwrite","ranges":[{"startOffset":11913,"endOffset":11998,"count":0}],"isBlockCoverage":false},{"functionName":"update","ranges":[{"startOffset":11998,"endOffset":13016,"count":0}],"isBlockCoverage":false},{"functionName":"prepend","ranges":[{"startOffset":13016,"endOffset":13139,"count":0}],"isBlockCoverage":false},{"functionName":"prependLeft","ranges":[{"startOffset":13139,"endOffset":13327,"count":0}],"isBlockCoverage":false},{"functionName":"prependRight","ranges":[{"startOffset":13327,"endOffset":13519,"count":0}],"isBlockCoverage":false},{"functionName":"remove","ranges":[{"startOffset":13519,"endOffset":13894,"count":0}],"isBlockCoverage":false},{"functionName":"reset","ranges":[{"startOffset":13894,"endOffset":14245,"count":0}],"isBlockCoverage":false},{"functionName":"lastChar","ranges":[{"startOffset":14245,"endOffset":14579,"count":0}],"isBlockCoverage":false},{"functionName":"lastLine","ranges":[{"startOffset":14579,"endOffset":15099,"count":0}],"isBlockCoverage":false},{"functionName":"slice","ranges":[{"startOffset":15099,"endOffset":15762,"count":0}],"isBlockCoverage":false},{"functionName":"snip","ranges":[{"startOffset":15762,"endOffset":15846,"count":0}],"isBlockCoverage":false},{"functionName":"_split","ranges":[{"startOffset":15846,"endOffset":16042,"count":0}],"isBlockCoverage":false},{"functionName":"_splitChunk","ranges":[{"startOffset":16042,"endOffset":16382,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":16382,"endOffset":16481,"count":0}],"isBlockCoverage":false},{"functionName":"isEmpty","ranges":[{"startOffset":16481,"endOffset":16652,"count":0}],"isBlockCoverage":false},{"functionName":"length","ranges":[{"startOffset":16652,"endOffset":16765,"count":0}],"isBlockCoverage":false},{"functionName":"trimLines","ranges":[{"startOffset":16765,"endOffset":16806,"count":0}],"isBlockCoverage":false},{"functionName":"trim","ranges":[{"startOffset":16806,"endOffset":16850,"count":0}],"isBlockCoverage":false},{"functionName":"trimEndAborted","ranges":[{"startOffset":16850,"endOffset":17209,"count":0}],"isBlockCoverage":false},{"functionName":"trimEnd","ranges":[{"startOffset":17209,"endOffset":17255,"count":0}],"isBlockCoverage":false},{"functionName":"trimStartAborted","ranges":[{"startOffset":17255,"endOffset":17618,"count":0}],"isBlockCoverage":false},{"functionName":"trimStart","ranges":[{"startOffset":17618,"endOffset":17668,"count":0}],"isBlockCoverage":false},{"functionName":"hasChanged","ranges":[{"startOffset":17668,"endOffset":17720,"count":0}],"isBlockCoverage":false},{"functionName":"_replaceRegexp","ranges":[{"startOffset":17720,"endOffset":18302,"count":0}],"isBlockCoverage":false},{"functionName":"_replaceString","ranges":[{"startOffset":18302,"endOffset":18411,"count":0}],"isBlockCoverage":false},{"functionName":"replace","ranges":[{"startOffset":18411,"endOffset":18500,"count":0}],"isBlockCoverage":false},{"functionName":"_replaceAllString","ranges":[{"startOffset":18500,"endOffset":18662,"count":0}],"isBlockCoverage":false},{"functionName":"replaceAll","ranges":[{"startOffset":18662,"endOffset":18877,"count":0}],"isBlockCoverage":false},{"functionName":"Fe","ranges":[{"startOffset":18958,"endOffset":19030,"count":0}],"isBlockCoverage":false},{"functionName":"Fe","ranges":[{"startOffset":19031,"endOffset":19130,"count":0}],"isBlockCoverage":false},{"functionName":"fn","ranges":[{"startOffset":19258,"endOffset":37428,"count":0}],"isBlockCoverage":false},{"functionName":"ye","ranges":[{"startOffset":37442,"endOffset":37641,"count":0}],"isBlockCoverage":false},{"functionName":"dn","ranges":[{"startOffset":37651,"endOffset":38415,"count":0}],"isBlockCoverage":false},{"functionName":"Ce","ranges":[{"startOffset":38425,"endOffset":38688,"count":0}],"isBlockCoverage":false},{"functionName":"Be","ranges":[{"startOffset":38698,"endOffset":38735,"count":0}],"isBlockCoverage":false},{"functionName":"D","ranges":[{"startOffset":38745,"endOffset":38876,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":38917,"endOffset":38999,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":39014,"endOffset":39039,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39057,"endOffset":39154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39175,"endOffset":39260,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39296,"endOffset":39605,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39637,"endOffset":39707,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39729,"endOffset":39735,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39749,"endOffset":39779,"count":1}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":39791,"endOffset":41019,"count":1}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":39812,"endOffset":39839,"count":1}],"isBlockCoverage":true},{"functionName":"wn","ranges":[{"startOffset":39912,"endOffset":40181,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":40037,"endOffset":40105,"count":498}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":40120,"endOffset":40179,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":40181,"endOffset":40475,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":40475,"endOffset":40620,"count":0}],"isBlockCoverage":false},{"functionName":"expireDiskCache","ranges":[{"startOffset":40620,"endOffset":40762,"count":1},{"startOffset":40682,"endOffset":40761,"count":498},{"startOffset":40692,"endOffset":40761,"count":0}],"isBlockCoverage":true},{"functionName":"removeOldCacheDirectory","ranges":[{"startOffset":40762,"endOffset":41018,"count":1},{"startOffset":40858,"endOffset":41009,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":40851,"endOffset":40857,"count":0}],"isBlockCoverage":false},{"functionName":"Cn","ranges":[{"startOffset":41244,"endOffset":41277,"count":0}],"isBlockCoverage":false},{"functionName":"Sn","ranges":[{"startOffset":41299,"endOffset":41340,"count":0}],"isBlockCoverage":false},{"functionName":"He","ranges":[{"startOffset":41368,"endOffset":41408,"count":0}],"isBlockCoverage":false},{"functionName":"xn","ranges":[{"startOffset":41431,"endOffset":41475,"count":0}],"isBlockCoverage":false},{"functionName":"Xe","ranges":[{"startOffset":41493,"endOffset":41531,"count":0}],"isBlockCoverage":false},{"functionName":"se","ranges":[{"startOffset":41550,"endOffset":41651,"count":0}],"isBlockCoverage":false},{"functionName":"vn","ranges":[{"startOffset":41676,"endOffset":41783,"count":0}],"isBlockCoverage":false},{"functionName":"Ke","ranges":[{"startOffset":41804,"endOffset":41898,"count":0}],"isBlockCoverage":false},{"functionName":"Ye","ranges":[{"startOffset":41914,"endOffset":42232,"count":0}],"isBlockCoverage":false},{"functionName":"_n","ranges":[{"startOffset":42249,"endOffset":42343,"count":0}],"isBlockCoverage":false},{"functionName":"En","ranges":[{"startOffset":42369,"endOffset":42451,"count":0}],"isBlockCoverage":false},{"functionName":"Qe","ranges":[{"startOffset":42470,"endOffset":42771,"count":0}],"isBlockCoverage":false},{"functionName":"Ln","ranges":[{"startOffset":42793,"endOffset":43278,"count":0}],"isBlockCoverage":false},{"functionName":"Ze","ranges":[{"startOffset":43296,"endOffset":43358,"count":0}],"isBlockCoverage":false},{"functionName":"On","ranges":[{"startOffset":43374,"endOffset":43453,"count":0}],"isBlockCoverage":false},{"functionName":"Rn","ranges":[{"startOffset":43485,"endOffset":43620,"count":0}],"isBlockCoverage":false},{"functionName":"Ve","ranges":[{"startOffset":43638,"endOffset":43720,"count":0}],"isBlockCoverage":false},{"functionName":"An","ranges":[{"startOffset":43752,"endOffset":43833,"count":0}],"isBlockCoverage":false},{"functionName":"Nn","ranges":[{"startOffset":43850,"endOffset":43902,"count":0}],"isBlockCoverage":false},{"functionName":"In","ranges":[{"startOffset":43923,"endOffset":43957,"count":0}],"isBlockCoverage":false},{"functionName":"Mn","ranges":[{"startOffset":43990,"endOffset":44111,"count":0}],"isBlockCoverage":false},{"functionName":"$n","ranges":[{"startOffset":44132,"endOffset":44199,"count":0}],"isBlockCoverage":false},{"functionName":"Un","ranges":[{"startOffset":44218,"endOffset":44278,"count":0}],"isBlockCoverage":false},{"functionName":"jn","ranges":[{"startOffset":44300,"endOffset":44517,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":44555,"endOffset":44581,"count":1}],"isBlockCoverage":true},{"functionName":"et","ranges":[{"startOffset":44581,"endOffset":45173,"count":0}],"isBlockCoverage":false},{"functionName":"vr","ranges":[{"startOffset":45174,"endOffset":45198,"count":0}],"isBlockCoverage":false},{"functionName":"tt","ranges":[{"startOffset":45213,"endOffset":45284,"count":0}],"isBlockCoverage":false},{"functionName":"Dn","ranges":[{"startOffset":45308,"endOffset":45432,"count":0}],"isBlockCoverage":false},{"functionName":"Tn","ranges":[{"startOffset":45453,"endOffset":45545,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":45583,"endOffset":45609,"count":1}],"isBlockCoverage":true},{"functionName":"ve","ranges":[{"startOffset":45609,"endOffset":45668,"count":0}],"isBlockCoverage":false},{"functionName":"_r","ranges":[{"startOffset":45669,"endOffset":45693,"count":0}],"isBlockCoverage":false},{"functionName":"nt","ranges":[{"startOffset":45708,"endOffset":45746,"count":0}],"isBlockCoverage":false},{"functionName":"V","ranges":[{"startOffset":45758,"endOffset":45869,"count":0}],"isBlockCoverage":false},{"functionName":"Fn","ranges":[{"startOffset":45880,"endOffset":46041,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":46102,"endOffset":46130,"count":1}],"isBlockCoverage":true},{"functionName":"qn","ranges":[{"startOffset":46130,"endOffset":46304,"count":0}],"isBlockCoverage":false},{"functionName":"Er","ranges":[{"startOffset":46305,"endOffset":46329,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":46353,"endOffset":46392,"count":0}],"isBlockCoverage":false},{"functionName":"Hn","ranges":[{"startOffset":46412,"endOffset":46485,"count":0}],"isBlockCoverage":false},{"functionName":"Xn","ranges":[{"startOffset":46510,"endOffset":46636,"count":0}],"isBlockCoverage":false},{"functionName":"it","ranges":[{"startOffset":46654,"endOffset":46896,"count":0}],"isBlockCoverage":false},{"functionName":"Kn","ranges":[{"startOffset":46917,"endOffset":47014,"count":0}],"isBlockCoverage":false},{"functionName":"Yn","ranges":[{"startOffset":47035,"endOffset":47299,"count":0}],"isBlockCoverage":false},{"functionName":"Qn","ranges":[{"startOffset":47326,"endOffset":47391,"count":0}],"isBlockCoverage":false},{"functionName":"Zn","ranges":[{"startOffset":47407,"endOffset":47505,"count":0}],"isBlockCoverage":false},{"functionName":"st","ranges":[{"startOffset":47528,"endOffset":47593,"count":0}],"isBlockCoverage":false},{"functionName":"Vn","ranges":[{"startOffset":47608,"endOffset":47713,"count":0}],"isBlockCoverage":false},{"functionName":"er","ranges":[{"startOffset":47743,"endOffset":47794,"count":0}],"isBlockCoverage":false},{"functionName":"tr","ranges":[{"startOffset":47817,"endOffset":47959,"count":0}],"isBlockCoverage":false},{"functionName":"at","ranges":[{"startOffset":48017,"endOffset":48101,"count":1}],"isBlockCoverage":true},{"functionName":"ct","ranges":[{"startOffset":48123,"endOffset":48198,"count":0}],"isBlockCoverage":false},{"functionName":"ut","ranges":[{"startOffset":48213,"endOffset":48256,"count":0}],"isBlockCoverage":false},{"functionName":"rr","ranges":[{"startOffset":48274,"endOffset":48318,"count":0}],"isBlockCoverage":false},{"functionName":"ir","ranges":[{"startOffset":48341,"endOffset":48745,"count":0}],"isBlockCoverage":false},{"functionName":"lt","ranges":[{"startOffset":48767,"endOffset":48964,"count":0}],"isBlockCoverage":false},{"functionName":"sr","ranges":[{"startOffset":48992,"endOffset":49037,"count":0}],"isBlockCoverage":false},{"functionName":"or","ranges":[{"startOffset":49053,"endOffset":49388,"count":0}],"isBlockCoverage":false},{"functionName":"ht","ranges":[{"startOffset":49415,"endOffset":49769,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":49792,"endOffset":49819,"count":1}],"isBlockCoverage":true},{"functionName":"ar","ranges":[{"startOffset":49819,"endOffset":50096,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":50096,"endOffset":50135,"count":0}],"isBlockCoverage":false},{"functionName":"ft","ranges":[{"startOffset":50136,"endOffset":50236,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":50265,"endOffset":50408,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":50439,"endOffset":50593,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":50772,"endOffset":50785,"count":5}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":50899,"endOffset":51227,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":51249,"endOffset":51319,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":51347,"endOffset":51890,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":51913,"endOffset":52184,"count":0}],"isBlockCoverage":false}]},{"scriptId":"191","url":"node:internal/deps/cjs-module-lexer/lexer","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":53714,"count":1}],"isBlockCoverage":false},{"functionName":"resetState","ranges":[{"startOffset":287,"endOffset":729,"count":14}],"isBlockCoverage":true},{"functionName":"parseCJS","ranges":[{"startOffset":811,"endOffset":1282,"count":7},{"startOffset":907,"endOffset":1073,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1123,"endOffset":1177,"count":18}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1213,"endOffset":1243,"count":0}],"isBlockCoverage":false},{"functionName":"decode","ranges":[{"startOffset":1284,"endOffset":2033,"count":70},{"startOffset":1329,"endOffset":1347,"count":60},{"startOffset":1349,"endOffset":2002,"count":48},{"startOffset":1511,"endOffset":1957,"count":418},{"startOffset":1675,"endOffset":1949,"count":0},{"startOffset":1990,"endOffset":1998,"count":0},{"startOffset":2002,"endOffset":2031,"count":22}],"isBlockCoverage":true},{"functionName":"parseSource","ranges":[{"startOffset":2035,"endOffset":7781,"count":7},{"startOffset":2200,"endOffset":2230,"count":0},{"startOffset":2237,"endOffset":2432,"count":0},{"startOffset":2456,"endOffset":7635,"count":132449},{"startOffset":2510,"endOffset":2530,"count":100973},{"startOffset":2521,"endOffset":2530,"count":4813},{"startOffset":2538,"endOffset":2547,"count":36289},{"startOffset":2547,"endOffset":2579,"count":96160},{"startOffset":2579,"endOffset":4076,"count":6089},{"startOffset":2609,"endOffset":2783,"count":228},{"startOffset":2674,"endOffset":2694,"count":0},{"startOffset":2708,"endOffset":2733,"count":0},{"startOffset":2792,"endOffset":3013,"count":412},{"startOffset":2877,"endOffset":2902,"count":47},{"startOffset":2916,"endOffset":2963,"count":47},{"startOffset":3022,"endOffset":4062,"count":54},{"startOffset":3103,"endOffset":3167,"count":0},{"startOffset":3169,"endOffset":3545,"count":0},{"startOffset":3603,"endOffset":3667,"count":2},{"startOffset":3625,"endOffset":3661,"count":0},{"startOffset":3669,"endOffset":4012,"count":2},{"startOffset":3755,"endOffset":3764,"count":0},{"startOffset":3817,"endOffset":4000,"count":1},{"startOffset":3958,"endOffset":3986,"count":0},{"startOffset":4070,"endOffset":4076,"count":5395},{"startOffset":4076,"endOffset":4102,"count":95466},{"startOffset":4102,"endOffset":4392,"count":9740},{"startOffset":4165,"endOffset":4185,"count":17},{"startOffset":4187,"endOffset":4377,"count":11},{"startOffset":4288,"endOffset":4367,"count":0},{"startOffset":4399,"endOffset":4571,"count":2446},{"startOffset":4443,"endOffset":4480,"count":820},{"startOffset":4481,"endOffset":4520,"count":5},{"startOffset":4532,"endOffset":4556,"count":5},{"startOffset":4578,"endOffset":4721,"count":1323},{"startOffset":4641,"endOffset":4661,"count":7},{"startOffset":4673,"endOffset":4706,"count":7},{"startOffset":4728,"endOffset":4886,"count":348},{"startOffset":4790,"endOffset":4810,"count":57},{"startOffset":4822,"endOffset":4871,"count":34},{"startOffset":4893,"endOffset":4981,"count":2482},{"startOffset":4988,"endOffset":5134,"count":2483},{"startOffset":5046,"endOffset":5093,"count":0},{"startOffset":5141,"endOffset":5326,"count":989},{"startOffset":5333,"endOffset":5756,"count":1161},{"startOffset":5392,"endOffset":5437,"count":0},{"startOffset":5486,"endOffset":5588,"count":172},{"startOffset":5588,"endOffset":5741,"count":989},{"startOffset":5639,"endOffset":5672,"count":0},{"startOffset":5686,"endOffset":5731,"count":0},{"startOffset":5763,"endOffset":5833,"count":30},{"startOffset":5840,"endOffset":5853,"count":279},{"startOffset":5860,"endOffset":5915,"count":774},{"startOffset":5922,"endOffset":7540,"count":289},{"startOffset":6023,"endOffset":6114,"count":161},{"startOffset":6114,"endOffset":7517,"count":128},{"startOffset":6153,"endOffset":6245,"count":118},{"startOffset":6245,"endOffset":7517,"count":10},{"startOffset":6699,"endOffset":6800,"count":0},{"startOffset":6843,"endOffset":6888,"count":0},{"startOffset":6922,"endOffset":6967,"count":0},{"startOffset":6974,"endOffset":7065,"count":0},{"startOffset":7066,"endOffset":7205,"count":0},{"startOffset":7206,"endOffset":7268,"count":0},{"startOffset":7269,"endOffset":7319,"count":0},{"startOffset":7320,"endOffset":7347,"count":0},{"startOffset":7437,"endOffset":7507,"count":0},{"startOffset":7517,"endOffset":7540,"count":10},{"startOffset":7547,"endOffset":7601,"count":164},{"startOffset":7607,"endOffset":7635,"count":95187},{"startOffset":7669,"endOffset":7711,"count":0},{"startOffset":7739,"endOffset":7779,"count":0}],"isBlockCoverage":true},{"functionName":"tryBacktrackAddStarExportBinding","ranges":[{"startOffset":7783,"endOffset":9006,"count":47},{"startOffset":8161,"endOffset":8173,"count":251},{"startOffset":8175,"endOffset":8391,"count":251},{"startOffset":8218,"endOffset":8225,"count":0},{"startOffset":8280,"endOffset":8286,"count":47},{"startOffset":8286,"endOffset":8391,"count":204},{"startOffset":8416,"endOffset":8449,"count":26},{"startOffset":8456,"endOffset":9000,"count":26},{"startOffset":8649,"endOffset":8750,"count":9},{"startOffset":8726,"endOffset":8733,"count":0},{"startOffset":8759,"endOffset":8900,"count":17},{"startOffset":8876,"endOffset":8883,"count":0},{"startOffset":8909,"endOffset":8925,"count":0}],"isBlockCoverage":true},{"functionName":"tryParseObjectHasOwnProperty","ranges":[{"startOffset":9091,"endOffset":10257,"count":0}],"isBlockCoverage":false},{"functionName":"tryParseObjectDefineOrKeys","ranges":[{"startOffset":10259,"endOffset":27670,"count":34},{"startOffset":10464,"endOffset":10510,"count":14},{"startOffset":10512,"endOffset":14149,"count":14},{"startOffset":10661,"endOffset":10667,"count":1},{"startOffset":10667,"endOffset":10765,"count":13},{"startOffset":10765,"endOffset":10771,"count":12},{"startOffset":10771,"endOffset":10834,"count":1},{"startOffset":10834,"endOffset":10840,"count":0},{"startOffset":10840,"endOffset":10929,"count":1},{"startOffset":10936,"endOffset":10942,"count":0},{"startOffset":10942,"endOffset":11110,"count":1},{"startOffset":11110,"endOffset":11116,"count":0},{"startOffset":11116,"endOffset":11195,"count":1},{"startOffset":11195,"endOffset":11201,"count":0},{"startOffset":11201,"endOffset":11280,"count":1},{"startOffset":11280,"endOffset":11718,"count":0},{"startOffset":11718,"endOffset":11993,"count":1},{"startOffset":11801,"endOffset":11807,"count":0},{"startOffset":11894,"endOffset":11900,"count":0},{"startOffset":11993,"endOffset":14076,"count":0},{"startOffset":14076,"endOffset":14093,"count":13},{"startOffset":14093,"endOffset":14143,"count":0},{"startOffset":14149,"endOffset":27645,"count":20},{"startOffset":14168,"endOffset":14181,"count":5},{"startOffset":14187,"endOffset":14223,"count":0},{"startOffset":14225,"endOffset":27645,"count":0},{"startOffset":27649,"endOffset":27669,"count":33}],"isBlockCoverage":true},{"functionName":"readExportsOrModuleDotExports","ranges":[{"startOffset":27672,"endOffset":28124,"count":13},{"startOffset":27765,"endOffset":27803,"count":0},{"startOffset":27805,"endOffset":27970,"count":0},{"startOffset":27993,"endOffset":28032,"count":3},{"startOffset":28034,"endOffset":28070,"count":1},{"startOffset":28070,"endOffset":28122,"count":12}],"isBlockCoverage":true},{"functionName":"tryParseModuleExportsDotAssign","ranges":[{"startOffset":28126,"endOffset":28458,"count":7},{"startOffset":28437,"endOffset":28457,"count":0}],"isBlockCoverage":true},{"functionName":"tryParseExportsDotAssign","ranges":[{"startOffset":28460,"endOffset":29830,"count":18},{"startOffset":28618,"endOffset":28943,"count":10},{"startOffset":28924,"endOffset":28943,"count":0},{"startOffset":28971,"endOffset":29406,"count":0},{"startOffset":29435,"endOffset":29805,"count":7},{"startOffset":29509,"endOffset":29531,"count":0},{"startOffset":29629,"endOffset":29694,"count":1},{"startOffset":29694,"endOffset":29761,"count":6},{"startOffset":29761,"endOffset":29791,"count":0},{"startOffset":29809,"endOffset":29829,"count":7}],"isBlockCoverage":true},{"functionName":"tryParseRequire","ranges":[{"startOffset":29832,"endOffset":30809,"count":412},{"startOffset":29962,"endOffset":30791,"count":47},{"startOffset":30141,"endOffset":30153,"count":9},{"startOffset":30333,"endOffset":30457,"count":0},{"startOffset":30470,"endOffset":30592,"count":0},{"startOffset":30766,"endOffset":30791,"count":0},{"startOffset":30791,"endOffset":30808,"count":365}],"isBlockCoverage":true},{"functionName":"tryParseLiteralExports","ranges":[{"startOffset":30811,"endOffset":32363,"count":1},{"startOffset":30899,"endOffset":32361,"count":12},{"startOffset":31069,"endOffset":31316,"count":0},{"startOffset":31382,"endOffset":32247,"count":0},{"startOffset":32280,"endOffset":32287,"count":1},{"startOffset":32287,"endOffset":32313,"count":11},{"startOffset":32313,"endOffset":32357,"count":0}],"isBlockCoverage":true},{"functionName":"isInAstralSet","ranges":[{"startOffset":43691,"endOffset":43902,"count":0}],"isBlockCoverage":false},{"functionName":"isIdentifierStart","ranges":[{"startOffset":43966,"endOffset":44336,"count":226},{"startOffset":44026,"endOffset":44044,"count":3},{"startOffset":44044,"endOffset":44062,"count":223},{"startOffset":44062,"endOffset":44073,"count":22},{"startOffset":44073,"endOffset":44091,"count":201},{"startOffset":44091,"endOffset":44109,"count":1},{"startOffset":44109,"endOffset":44139,"count":200},{"startOffset":44139,"endOffset":44335,"count":0}],"isBlockCoverage":true},{"functionName":"isIdentifierChar","ranges":[{"startOffset":44399,"endOffset":44868,"count":447},{"startOffset":44458,"endOffset":44476,"count":48},{"startOffset":44476,"endOffset":44494,"count":399},{"startOffset":44494,"endOffset":44505,"count":3},{"startOffset":44505,"endOffset":44523,"count":396},{"startOffset":44523,"endOffset":44535,"count":0},{"startOffset":44535,"endOffset":44553,"count":396},{"startOffset":44553,"endOffset":44564,"count":32},{"startOffset":44564,"endOffset":44582,"count":364},{"startOffset":44582,"endOffset":44600,"count":1},{"startOffset":44600,"endOffset":44619,"count":363},{"startOffset":44619,"endOffset":44630,"count":342},{"startOffset":44630,"endOffset":44726,"count":21},{"startOffset":44673,"endOffset":44726,"count":0},{"startOffset":44726,"endOffset":44866,"count":0}],"isBlockCoverage":true},{"functionName":"identifier","ranges":[{"startOffset":44870,"endOffset":45294,"count":22},{"startOffset":44986,"endOffset":44999,"count":0},{"startOffset":45066,"endOffset":45277,"count":196},{"startOffset":45104,"endOffset":45142,"count":174},{"startOffset":45142,"endOffset":45273,"count":22},{"startOffset":45169,"endOffset":45243,"count":0}],"isBlockCoverage":true},{"functionName":"codePointLen","ranges":[{"startOffset":45296,"endOffset":45368,"count":400},{"startOffset":45354,"endOffset":45367,"count":0}],"isBlockCoverage":true},{"functionName":"codePointAtLast","ranges":[{"startOffset":45370,"endOffset":45625,"count":251},{"startOffset":45530,"endOffset":45610,"count":0}],"isBlockCoverage":true},{"functionName":"esmSyntaxErr","ranges":[{"startOffset":45627,"endOffset":45732,"count":0}],"isBlockCoverage":false},{"functionName":"throwIfImportStatement","ranges":[{"startOffset":45734,"endOffset":46524,"count":0}],"isBlockCoverage":false},{"functionName":"throwIfExportStatement","ranges":[{"startOffset":46526,"endOffset":46755,"count":0}],"isBlockCoverage":false},{"functionName":"commentWhitespace","ranges":[{"startOffset":46757,"endOffset":47157,"count":325},{"startOffset":46804,"endOffset":47121,"count":389},{"startOffset":46863,"endOffset":47064,"count":0},{"startOffset":47093,"endOffset":47117,"count":325},{"startOffset":47121,"endOffset":47156,"count":0}],"isBlockCoverage":true},{"functionName":"templateString","ranges":[{"startOffset":47159,"endOffset":47549,"count":336},{"startOffset":47210,"endOffset":47530,"count":7427},{"startOffset":47274,"endOffset":47311,"count":172},{"startOffset":47318,"endOffset":47451,"count":172},{"startOffset":47451,"endOffset":47482,"count":7255},{"startOffset":47482,"endOffset":47489,"count":164},{"startOffset":47489,"endOffset":47520,"count":7091},{"startOffset":47520,"endOffset":47526,"count":2},{"startOffset":47530,"endOffset":47548,"count":0}],"isBlockCoverage":true},{"functionName":"blockComment","ranges":[{"startOffset":47551,"endOffset":47756,"count":118},{"startOffset":47609,"endOffset":47754,"count":22804},{"startOffset":47673,"endOffset":47709,"count":781},{"startOffset":47716,"endOffset":47750,"count":118}],"isBlockCoverage":true},{"functionName":"lineComment","ranges":[{"startOffset":47758,"endOffset":47910,"count":161},{"startOffset":47806,"endOffset":47908,"count":6497},{"startOffset":47871,"endOffset":47883,"count":6337},{"startOffset":47897,"endOffset":47904,"count":160}],"isBlockCoverage":true},{"functionName":"stringLiteral","ranges":[{"startOffset":47912,"endOffset":48280,"count":822},{"startOffset":47967,"endOffset":48235,"count":9862},{"startOffset":48034,"endOffset":48041,"count":822},{"startOffset":48041,"endOffset":48066,"count":9040},{"startOffset":48066,"endOffset":48195,"count":16},{"startOffset":48131,"endOffset":48167,"count":0},{"startOffset":48183,"endOffset":48189,"count":0},{"startOffset":48195,"endOffset":48231,"count":9024},{"startOffset":48225,"endOffset":48231,"count":0},{"startOffset":48235,"endOffset":48279,"count":0}],"isBlockCoverage":true},{"functionName":"regexCharacterClass","ranges":[{"startOffset":48282,"endOffset":48591,"count":3},{"startOffset":48338,"endOffset":48520,"count":47},{"startOffset":48407,"endOffset":48417,"count":3},{"startOffset":48417,"endOffset":48448,"count":44},{"startOffset":48448,"endOffset":48454,"count":3},{"startOffset":48454,"endOffset":48516,"count":41},{"startOffset":48510,"endOffset":48516,"count":0},{"startOffset":48520,"endOffset":48590,"count":0}],"isBlockCoverage":true},{"functionName":"regularExpression","ranges":[{"startOffset":48593,"endOffset":48954,"count":10},{"startOffset":48647,"endOffset":48889,"count":127},{"startOffset":48716,"endOffset":48723,"count":10},{"startOffset":48723,"endOffset":48754,"count":117},{"startOffset":48754,"endOffset":48781,"count":3},{"startOffset":48781,"endOffset":48885,"count":114},{"startOffset":48817,"endOffset":48823,"count":22},{"startOffset":48823,"endOffset":48885,"count":92},{"startOffset":48879,"endOffset":48885,"count":0},{"startOffset":48889,"endOffset":48953,"count":0}],"isBlockCoverage":true},{"functionName":"isBr","ranges":[{"startOffset":49092,"endOffset":49156,"count":9024}],"isBlockCoverage":true},{"functionName":"isBrOrWs","ranges":[{"startOffset":49158,"endOffset":49234,"count":394},{"startOffset":49207,"endOffset":49218,"count":381},{"startOffset":49219,"endOffset":49231,"count":325}],"isBlockCoverage":true},{"functionName":"isBrOrWsOrPunctuatorNotDot","ranges":[{"startOffset":49236,"endOffset":49366,"count":2576},{"startOffset":49303,"endOffset":49314,"count":2489},{"startOffset":49315,"endOffset":49327,"count":1790},{"startOffset":49328,"endOffset":49358,"count":1790},{"startOffset":49347,"endOffset":49358,"count":228}],"isBlockCoverage":true},{"functionName":"keywordStart","ranges":[{"startOffset":49368,"endOffset":49477,"count":2576}],"isBlockCoverage":true},{"functionName":"readPrecedingKeyword","ranges":[{"startOffset":49479,"endOffset":49716,"count":0}],"isBlockCoverage":false},{"functionName":"readPrecedingKeyword1","ranges":[{"startOffset":49718,"endOffset":49875,"count":0}],"isBlockCoverage":false},{"functionName":"isExpressionKeyword","ranges":[{"startOffset":49997,"endOffset":52097,"count":0}],"isBlockCoverage":false},{"functionName":"isParenKeyword","ranges":[{"startOffset":52099,"endOffset":52406,"count":0}],"isBlockCoverage":false},{"functionName":"isPunctuator","ranges":[{"startOffset":52408,"endOffset":52695,"count":1790},{"startOffset":52523,"endOffset":52535,"count":1787},{"startOffset":52541,"endOffset":52553,"count":1787},{"startOffset":52559,"endOffset":52584,"count":1787},{"startOffset":52585,"endOffset":52606,"count":1581},{"startOffset":52607,"endOffset":52623,"count":1581},{"startOffset":52629,"endOffset":52641,"count":1577},{"startOffset":52647,"endOffset":52659,"count":1577},{"startOffset":52665,"endOffset":52692,"count":1577},{"startOffset":52681,"endOffset":52692,"count":15}],"isBlockCoverage":true},{"functionName":"isExpressionPunctuator","ranges":[{"startOffset":52697,"endOffset":53000,"count":10},{"startOffset":52818,"endOffset":52830,"count":8},{"startOffset":52836,"endOffset":52848,"count":8},{"startOffset":52854,"endOffset":52892,"count":8},{"startOffset":52880,"endOffset":52892,"count":3},{"startOffset":52893,"endOffset":52914,"count":5},{"startOffset":52915,"endOffset":52931,"count":0},{"startOffset":52937,"endOffset":52949,"count":0},{"startOffset":52955,"endOffset":52992,"count":0}],"isBlockCoverage":true},{"functionName":"isExpressionTerminator","ranges":[{"startOffset":53002,"endOffset":53562,"count":0}],"isBlockCoverage":false},{"functionName":"module.exports.init","ranges":[{"startOffset":53626,"endOffset":53643,"count":0}],"isBlockCoverage":false},{"functionName":"module.exports.initSync","ranges":[{"startOffset":53671,"endOffset":53679,"count":0}],"isBlockCoverage":false}]},{"scriptId":"192","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4,"count":1}],"isBlockCoverage":true}]},{"scriptId":"193","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4,"count":1}],"isBlockCoverage":true}]},{"scriptId":"194","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6,"count":1}],"isBlockCoverage":true}]},{"scriptId":"195","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":15,"count":1}],"isBlockCoverage":true}]},{"scriptId":"196","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8,"count":1}],"isBlockCoverage":true}]},{"scriptId":"197","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6,"count":1}],"isBlockCoverage":true}]},{"scriptId":"198","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4,"count":1}],"isBlockCoverage":true}]},{"scriptId":"199","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4,"count":1}],"isBlockCoverage":true}]},{"scriptId":"200","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5,"count":1}],"isBlockCoverage":true}]},{"scriptId":"201","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/resolve-pkg-maps@1.0.0/node_modules/resolve-pkg-maps/dist/index.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2080,"count":1}],"isBlockCoverage":true},{"functionName":"A","ranges":[{"startOffset":8,"endOffset":39,"count":0}],"isBlockCoverage":false},{"functionName":"a","ranges":[{"startOffset":42,"endOffset":98,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":287,"endOffset":331,"count":1}],"isBlockCoverage":true},{"functionName":"f","ranges":[{"startOffset":348,"endOffset":830,"count":0}],"isBlockCoverage":false},{"functionName":"m","ranges":[{"startOffset":839,"endOffset":918,"count":0}],"isBlockCoverage":false},{"functionName":"d","ranges":[{"startOffset":919,"endOffset":1195,"count":0}],"isBlockCoverage":false},{"functionName":"p","ranges":[{"startOffset":1203,"endOffset":1380,"count":0}],"isBlockCoverage":false},{"functionName":"v","ranges":[{"startOffset":1393,"endOffset":1831,"count":0}],"isBlockCoverage":false},{"functionName":"T","ranges":[{"startOffset":1834,"endOffset":2030,"count":0}],"isBlockCoverage":false}]},{"scriptId":"202","url":"node:internal/modules/esm/initialize_import_meta","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2412,"count":1}],"isBlockCoverage":false},{"functionName":"createImportMetaResolve","ranges":[{"startOffset":756,"endOffset":1507,"count":4}],"isBlockCoverage":true},{"functionName":"resolve","ranges":[{"startOffset":1019,"endOffset":1504,"count":0}],"isBlockCoverage":false},{"functionName":"initializeImportMeta","ranges":[{"startOffset":1809,"endOffset":2364,"count":4}],"isBlockCoverage":true}]},{"scriptId":"203","url":"node:internal/modules/esm/hooks","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":26545,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1716,"endOffset":1741,"count":1}],"isBlockCoverage":true},{"functionName":"emitImportAssertionWarning","ranges":[{"startOffset":1815,"endOffset":2044,"count":0}],"isBlockCoverage":false},{"functionName":"defineImportAssertionAlias","ranges":[{"startOffset":2046,"endOffset":2415,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":2914,"endOffset":14905,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":15111,"endOffset":23144,"count":1}],"isBlockCoverage":false},{"functionName":"HooksProxy","ranges":[{"startOffset":15783,"endOffset":16352,"count":1}],"isBlockCoverage":true},{"functionName":"waitForWorker","ranges":[{"startOffset":16356,"endOffset":16917,"count":347},{"startOffset":16398,"endOffset":16913,"count":1},{"startOffset":16740,"endOffset":16751,"count":0}],"isBlockCoverage":true},{"functionName":"makeAsyncRequest","ranges":[{"startOffset":17178,"endOffset":19147,"count":346},{"startOffset":17567,"endOffset":17638,"count":0},{"startOffset":17830,"endOffset":18380,"count":5},{"startOffset":18407,"endOffset":18764,"count":6833},{"startOffset":18920,"endOffset":19041,"count":5}],"isBlockCoverage":true},{"functionName":"makeSyncRequest","ranges":[{"startOffset":19398,"endOffset":20387,"count":1},{"startOffset":19685,"endOffset":20051,"count":2},{"startOffset":20192,"endOffset":20245,"count":0},{"startOffset":20291,"endOffset":20341,"count":0}],"isBlockCoverage":true},{"functionName":"#unwrapMessage","ranges":[{"startOffset":20391,"endOffset":20929,"count":348},{"startOffset":20470,"endOffset":20513,"count":0},{"startOffset":20589,"endOffset":20893,"count":0}],"isBlockCoverage":true},{"functionName":"status.status","ranges":[{"startOffset":20497,"endOffset":20505,"count":0}],"isBlockCoverage":false},{"functionName":"importMetaInitialize","ranges":[{"startOffset":21038,"endOffset":21143,"count":2}],"isBlockCoverage":true},{"functionName":"#executePreloadScripts","ranges":[{"startOffset":21147,"endOffset":23142,"count":1},{"startOffset":21240,"endOffset":23141,"count":0}],"isBlockCoverage":true},{"functionName":"replacedImportMetaInitializer","ranges":[{"startOffset":22038,"endOffset":22548,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":22635,"endOffset":22968,"count":0}],"isBlockCoverage":false},{"functionName":"pluckHooks","ranges":[{"startOffset":23356,"endOffset":23756,"count":0}],"isBlockCoverage":false},{"functionName":"nextHookFactory","ranges":[{"startOffset":24809,"endOffset":26486,"count":0}],"isBlockCoverage":false}]},{"scriptId":"204","url":"node:internal/modules/esm/shared_constants","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":633,"count":1}],"isBlockCoverage":false}]},{"scriptId":"205","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/tsx@4.20.6/node_modules/tsx/dist/lexer-DQCqS3nf.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13456,"count":1},{"startOffset":13300,"endOffset":13344,"count":0}],"isBlockCoverage":true},{"functionName":"k","ranges":[{"startOffset":34,"endOffset":78,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":86,"endOffset":269,"count":1}],"isBlockCoverage":true},{"functionName":"F","ranges":[{"startOffset":341,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"r","ranges":[{"startOffset":1230,"endOffset":1331,"count":0}],"isBlockCoverage":false},{"functionName":"c","ranges":[{"startOffset":1340,"endOffset":1414,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13325,"endOffset":13343,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":13382,"endOffset":13402,"count":1}],"isBlockCoverage":true}]},{"scriptId":"206","url":"file:///root/Development/vultuk/agentrix/repository/src/cli/config-resolver.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11358,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":259,"endOffset":3020,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":321,"endOffset":902,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":576,"endOffset":594,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":957,"endOffset":1718,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1208,"endOffset":1226,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1802,"endOffset":1965,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2010,"endOffset":2264,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2091,"endOffset":2122,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2229,"endOffset":2262,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2330,"endOffset":3018,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2578,"endOffset":2596,"count":2}],"isBlockCoverage":true}]},{"scriptId":"207","url":"node:assert/strict","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":58,"count":1}],"isBlockCoverage":false}]},{"scriptId":"208","url":"node:assert","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22995,"count":1}],"isBlockCoverage":false},{"functionName":"lazyLoadComparison","ranges":[{"startOffset":2164,"endOffset":2348,"count":1}],"isBlockCoverage":true},{"functionName":"innerFail","ranges":[{"startOffset":2901,"endOffset":3017,"count":0}],"isBlockCoverage":false},{"functionName":"fail","ranges":[{"startOffset":3178,"endOffset":4159,"count":0}],"isBlockCoverage":false},{"functionName":"ok","ranges":[{"startOffset":4406,"endOffset":4467,"count":0}],"isBlockCoverage":false},{"functionName":"equal","ranges":[{"startOffset":4726,"endOffset":5098,"count":0}],"isBlockCoverage":false},{"functionName":"notEqual","ranges":[{"startOffset":5317,"endOffset":5693,"count":0}],"isBlockCoverage":false},{"functionName":"deepEqual","ranges":[{"startOffset":5893,"endOffset":6258,"count":0}],"isBlockCoverage":false},{"functionName":"notDeepEqual","ranges":[{"startOffset":6464,"endOffset":6837,"count":0}],"isBlockCoverage":false},{"functionName":"deepStrictEqual","ranges":[{"startOffset":7080,"endOffset":7469,"count":1},{"startOffset":7162,"endOffset":7221,"count":0},{"startOffset":7321,"endOffset":7467,"count":0}],"isBlockCoverage":true},{"functionName":"notDeepStrictEqual","ranges":[{"startOffset":7718,"endOffset":8115,"count":0}],"isBlockCoverage":false},{"functionName":"strictEqual","ranges":[{"startOffset":8320,"endOffset":8633,"count":18},{"startOffset":8398,"endOffset":8457,"count":0},{"startOffset":8493,"endOffset":8631,"count":0}],"isBlockCoverage":true},{"functionName":"notStrictEqual","ranges":[{"startOffset":8845,"endOffset":9166,"count":0}],"isBlockCoverage":false},{"functionName":"Comparison","ranges":[{"startOffset":9190,"endOffset":9572,"count":0}],"isBlockCoverage":false},{"functionName":"compareExceptionKey","ranges":[{"startOffset":9576,"endOffset":10295,"count":0}],"isBlockCoverage":false},{"functionName":"expectedException","ranges":[{"startOffset":10297,"endOffset":13701,"count":0}],"isBlockCoverage":false},{"functionName":"getActual","ranges":[{"startOffset":13703,"endOffset":13843,"count":2},{"startOffset":13780,"endOffset":13842,"count":1}],"isBlockCoverage":true},{"functionName":"checkIsPromise","ranges":[{"startOffset":13845,"endOffset":14209,"count":0}],"isBlockCoverage":false},{"functionName":"waitForActual","ranges":[{"startOffset":14211,"endOffset":14925,"count":0}],"isBlockCoverage":false},{"functionName":"expectsError","ranges":[{"startOffset":14927,"endOffset":16544,"count":1},{"startOffset":15022,"endOffset":15722,"count":0},{"startOffset":15746,"endOffset":15787,"count":0},{"startOffset":15788,"endOffset":15831,"count":0},{"startOffset":15833,"endOffset":16003,"count":0},{"startOffset":16045,"endOffset":16455,"count":0},{"startOffset":16482,"endOffset":16543,"count":0}],"isBlockCoverage":true},{"functionName":"hasMatchingError","ranges":[{"startOffset":16546,"endOffset":17164,"count":0}],"isBlockCoverage":false},{"functionName":"expectsNoError","ranges":[{"startOffset":17166,"endOffset":17817,"count":1},{"startOffset":17281,"endOffset":17414,"count":0},{"startOffset":17416,"endOffset":17816,"count":0}],"isBlockCoverage":true},{"functionName":"throws","ranges":[{"startOffset":17975,"endOffset":18069,"count":1}],"isBlockCoverage":true},{"functionName":"rejects","ranges":[{"startOffset":18248,"endOffset":18360,"count":0}],"isBlockCoverage":false},{"functionName":"doesNotThrow","ranges":[{"startOffset":18522,"endOffset":18616,"count":1}],"isBlockCoverage":true},{"functionName":"doesNotReject","ranges":[{"startOffset":18782,"endOffset":18894,"count":0}],"isBlockCoverage":false},{"functionName":"ifError","ranges":[{"startOffset":19022,"endOffset":20811,"count":0}],"isBlockCoverage":false},{"functionName":"internalMatch","ranges":[{"startOffset":20814,"endOffset":21897,"count":0}],"isBlockCoverage":false},{"functionName":"match","ranges":[{"startOffset":22093,"endOffset":22185,"count":0}],"isBlockCoverage":false},{"functionName":"doesNotMatch","ranges":[{"startOffset":22393,"endOffset":22499,"count":0}],"isBlockCoverage":false},{"functionName":"strict","ranges":[{"startOffset":22690,"endOffset":22759,"count":0}],"isBlockCoverage":false}]},{"scriptId":"209","url":"node:internal/assert/assertion_error","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":17314,"count":1}],"isBlockCoverage":false},{"functionName":"copyError","ranges":[{"startOffset":1451,"endOffset":1669,"count":0}],"isBlockCoverage":false},{"functionName":"inspectValue","ranges":[{"startOffset":1671,"endOffset":2279,"count":0}],"isBlockCoverage":false},{"functionName":"getErrorMessage","ranges":[{"startOffset":2281,"endOffset":2377,"count":0}],"isBlockCoverage":false},{"functionName":"createErrDiff","ranges":[{"startOffset":2379,"endOffset":11135,"count":0}],"isBlockCoverage":false},{"functionName":"addEllipsis","ranges":[{"startOffset":11137,"endOffset":11440,"count":0}],"isBlockCoverage":false},{"functionName":"AssertionError","ranges":[{"startOffset":11481,"endOffset":16343,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":16347,"endOffset":16422,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":16426,"endOffset":17277,"count":0}],"isBlockCoverage":false}]},{"scriptId":"210","url":"node:internal/util/colors","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1194,"count":1}],"isBlockCoverage":false},{"functionName":"lazyInternalTTY","ranges":[{"startOffset":32,"endOffset":127,"count":1}],"isBlockCoverage":true},{"functionName":"shouldColorize","ranges":[{"startOffset":257,"endOffset":517,"count":1},{"startOffset":388,"endOffset":413,"count":0},{"startOffset":414,"endOffset":512,"count":0}],"isBlockCoverage":true},{"functionName":"refresh","ranges":[{"startOffset":521,"endOffset":1162,"count":1},{"startOffset":563,"endOffset":1158,"count":0}],"isBlockCoverage":true}]},{"scriptId":"211","url":"node:internal/assert/utils","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9582,"count":1}],"isBlockCoverage":false},{"functionName":"escapeFn","ranges":[{"startOffset":1504,"endOffset":1552,"count":0}],"isBlockCoverage":false},{"functionName":"findColumn","ranges":[{"startOffset":1555,"endOffset":2495,"count":0}],"isBlockCoverage":false},{"functionName":"getCode","ranges":[{"startOffset":2497,"endOffset":4142,"count":0}],"isBlockCoverage":false},{"functionName":"parseCode","ranges":[{"startOffset":4144,"endOffset":5561,"count":0}],"isBlockCoverage":false},{"functionName":"getErrMessage","ranges":[{"startOffset":5563,"endOffset":8945,"count":0}],"isBlockCoverage":false},{"functionName":"innerOk","ranges":[{"startOffset":8947,"endOffset":9547,"count":0}],"isBlockCoverage":false}]},{"scriptId":"212","url":"node:internal/assert/calltracker","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3452,"count":1}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":462,"endOffset":1495,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":1497,"endOffset":3420,"count":0}],"isBlockCoverage":false}]},{"scriptId":"213","url":"node:test","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":708,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":519,"endOffset":702,"count":1}],"isBlockCoverage":true}]},{"scriptId":"214","url":"node:internal/test_runner/harness","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8844,"count":1}],"isBlockCoverage":false},{"functionName":"createTestTree","ranges":[{"startOffset":912,"endOffset":1038,"count":1}],"isBlockCoverage":true},{"functionName":"createProcessEventHandler","ranges":[{"startOffset":1040,"endOffset":2906,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1107,"endOffset":2903,"count":0}],"isBlockCoverage":false},{"functionName":"configureCoverage","ranges":[{"startOffset":2908,"endOffset":3291,"count":1},{"startOffset":3015,"endOffset":3289,"count":0}],"isBlockCoverage":true},{"functionName":"collectCoverage","ranges":[{"startOffset":3293,"endOffset":3781,"count":1},{"startOffset":3379,"endOffset":3780,"count":0}],"isBlockCoverage":true},{"functionName":"setup","ranges":[{"startOffset":3783,"endOffset":6563,"count":1},{"startOffset":3837,"endOffset":3859,"count":0},{"startOffset":5855,"endOffset":5953,"count":0}],"isBlockCoverage":true},{"functionName":"init","ranges":[{"startOffset":4117,"endOffset":4422,"count":697},{"startOffset":4201,"endOffset":4272,"count":6},{"startOffset":4272,"endOffset":4363,"count":691},{"startOffset":4363,"endOffset":4416,"count":526}],"isBlockCoverage":true},{"functionName":"destroy","ranges":[{"startOffset":4428,"endOffset":4489,"count":681}],"isBlockCoverage":true},{"functionName":"exitHandler","ranges":[{"startOffset":4768,"endOffset":5512,"count":1},{"startOffset":4817,"endOffset":4881,"count":0},{"startOffset":4883,"endOffset":4980,"count":0},{"startOffset":5380,"endOffset":5508,"count":0}],"isBlockCoverage":true},{"functionName":"terminationHandler","ranges":[{"startOffset":5544,"endOffset":5594,"count":0}],"isBlockCoverage":false},{"functionName":"resetCounters","ranges":[{"startOffset":6154,"endOffset":6396,"count":1}],"isBlockCoverage":true},{"functionName":"getGlobalRoot","ranges":[{"startOffset":6601,"endOffset":7034,"count":2},{"startOffset":6647,"endOffset":7011,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6724,"endOffset":6855,"count":0}],"isBlockCoverage":false},{"functionName":"startSubtest","ranges":[{"startOffset":7036,"endOffset":7485,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7358,"endOffset":7451,"count":1}],"isBlockCoverage":true},{"functionName":"runInParentContext","ranges":[{"startOffset":7487,"endOffset":8330,"count":2}],"isBlockCoverage":true},{"functionName":"run","ranges":[{"startOffset":7528,"endOffset":7843,"count":6},{"startOffset":7630,"endOffset":7648,"count":1},{"startOffset":7767,"endOffset":7810,"count":1},{"startOffset":7810,"endOffset":7842,"count":5}],"isBlockCoverage":true},{"functionName":"test","ranges":[{"startOffset":7860,"endOffset":8021,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8073,"endOffset":8311,"count":6}],"isBlockCoverage":true},{"functionName":"test.<computed>","ranges":[{"startOffset":8108,"endOffset":8306,"count":0}],"isBlockCoverage":false},{"functionName":"hook","ranges":[{"startOffset":8332,"endOffset":8616,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8363,"endOffset":8613,"count":0}],"isBlockCoverage":false}]},{"scriptId":"215","url":"node:internal/test_runner/test","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":32289,"count":1}],"isBlockCoverage":false},{"functionName":"lazyFindSourceMap","ranges":[{"startOffset":2670,"endOffset":2853,"count":0}],"isBlockCoverage":false},{"functionName":"lazyAssertObject","ranges":[{"startOffset":2855,"endOffset":3490,"count":0}],"isBlockCoverage":false},{"functionName":"stopTest","ranges":[{"startOffset":3492,"endOffset":4475,"count":7},{"startOffset":3770,"endOffset":4288,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3801,"endOffset":3825,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4028,"endOffset":4168,"count":0}],"isBlockCoverage":false},{"functionName":"disposeFunction","ranges":[{"startOffset":4202,"endOffset":4283,"count":0}],"isBlockCoverage":false},{"functionName":"TestPlan","ranges":[{"startOffset":4496,"endOffset":4604,"count":0}],"isBlockCoverage":false},{"functionName":"check","ranges":[{"startOffset":4608,"endOffset":4818,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":4822,"endOffset":7487,"count":6}],"isBlockCoverage":false},{"functionName":"TestContext","ranges":[{"startOffset":4865,"endOffset":4911,"count":6}],"isBlockCoverage":true},{"functionName":"get signal","ranges":[{"startOffset":4915,"endOffset":4963,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":4967,"endOffset":5011,"count":0}],"isBlockCoverage":false},{"functionName":"get fullName","ranges":[{"startOffset":5015,"endOffset":5071,"count":0}],"isBlockCoverage":false},{"functionName":"get error","ranges":[{"startOffset":5075,"endOffset":5121,"count":0}],"isBlockCoverage":false},{"functionName":"get passed","ranges":[{"startOffset":5125,"endOffset":5173,"count":0}],"isBlockCoverage":false},{"functionName":"diagnostic","ranges":[{"startOffset":5177,"endOffset":5238,"count":0}],"isBlockCoverage":false},{"functionName":"plan","ranges":[{"startOffset":5242,"endOffset":5456,"count":0}],"isBlockCoverage":false},{"functionName":"get assert","ranges":[{"startOffset":5460,"endOffset":6195,"count":0}],"isBlockCoverage":false},{"functionName":"get mock","ranges":[{"startOffset":6199,"endOffset":6286,"count":0}],"isBlockCoverage":false},{"functionName":"runOnly","ranges":[{"startOffset":6290,"endOffset":6352,"count":0}],"isBlockCoverage":false},{"functionName":"skip","ranges":[{"startOffset":6356,"endOffset":6405,"count":0}],"isBlockCoverage":false},{"functionName":"todo","ranges":[{"startOffset":6409,"endOffset":6458,"count":0}],"isBlockCoverage":false},{"functionName":"test","ranges":[{"startOffset":6462,"endOffset":6843,"count":0}],"isBlockCoverage":false},{"functionName":"before","ranges":[{"startOffset":6847,"endOffset":6999,"count":0}],"isBlockCoverage":false},{"functionName":"after","ranges":[{"startOffset":7003,"endOffset":7152,"count":0}],"isBlockCoverage":false},{"functionName":"beforeEach","ranges":[{"startOffset":7156,"endOffset":7320,"count":0}],"isBlockCoverage":false},{"functionName":"afterEach","ranges":[{"startOffset":7324,"endOffset":7485,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":7489,"endOffset":7737,"count":2}],"isBlockCoverage":false},{"functionName":"SuiteContext","ranges":[{"startOffset":7523,"endOffset":7572,"count":2}],"isBlockCoverage":true},{"functionName":"get signal","ranges":[{"startOffset":7576,"endOffset":7625,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":7629,"endOffset":7674,"count":0}],"isBlockCoverage":false},{"functionName":"get fullName","ranges":[{"startOffset":7678,"endOffset":7735,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":7739,"endOffset":28426,"count":7}],"isBlockCoverage":false},{"functionName":"Test","ranges":[{"startOffset":7831,"endOffset":12489,"count":7},{"startOffset":8032,"endOffset":8056,"count":1},{"startOffset":8107,"endOffset":8153,"count":0},{"startOffset":8190,"endOffset":8218,"count":1},{"startOffset":8245,"endOffset":8677,"count":1},{"startOffset":8677,"endOffset":9363,"count":6},{"startOffset":8730,"endOffset":8746,"count":1},{"startOffset":8747,"endOffset":8775,"count":5},{"startOffset":9405,"endOffset":9540,"count":0},{"startOffset":9548,"endOffset":9774,"count":0},{"startOffset":9834,"endOffset":9924,"count":0},{"startOffset":9956,"endOffset":9979,"count":0},{"startOffset":9981,"endOffset":10084,"count":0},{"startOffset":10169,"endOffset":10203,"count":0},{"startOffset":10205,"endOffset":10261,"count":0},{"startOffset":10284,"endOffset":10297,"count":0},{"startOffset":10299,"endOffset":10346,"count":0},{"startOffset":10362,"endOffset":10386,"count":0},{"startOffset":10584,"endOffset":10681,"count":0},{"startOffset":10703,"endOffset":10721,"count":0},{"startOffset":11072,"endOffset":11089,"count":0},{"startOffset":11128,"endOffset":11145,"count":0},{"startOffset":11318,"endOffset":11324,"count":0},{"startOffset":11358,"endOffset":11364,"count":0},{"startOffset":11606,"endOffset":11744,"count":0},{"startOffset":11772,"endOffset":11798,"count":6},{"startOffset":11800,"endOffset":11835,"count":1},{"startOffset":11835,"endOffset":12485,"count":6},{"startOffset":11996,"endOffset":12351,"count":0}],"isBlockCoverage":true},{"functionName":"matchesTestNamePatterns","ranges":[{"startOffset":12493,"endOffset":12674,"count":0}],"isBlockCoverage":false},{"functionName":"hasConcurrency","ranges":[{"startOffset":12678,"endOffset":12751,"count":12}],"isBlockCoverage":true},{"functionName":"addPendingSubtest","ranges":[{"startOffset":12755,"endOffset":12844,"count":5}],"isBlockCoverage":true},{"functionName":"processPendingSubtests","ranges":[{"startOffset":12848,"endOffset":13175,"count":7},{"startOffset":12950,"endOffset":13171,"count":5}],"isBlockCoverage":true},{"functionName":"addReadySubtest","ranges":[{"startOffset":13179,"endOffset":13266,"count":6}],"isBlockCoverage":true},{"functionName":"processReadySubtestRange","ranges":[{"startOffset":13270,"endOffset":14198,"count":12},{"startOffset":13428,"endOffset":14194,"count":6},{"startOffset":13689,"endOffset":13714,"count":0},{"startOffset":14028,"endOffset":14053,"count":0}],"isBlockCoverage":true},{"functionName":"createSubtest","ranges":[{"startOffset":14202,"endOffset":15382,"count":6},{"startOffset":14293,"endOffset":14317,"count":0},{"startOffset":14370,"endOffset":14419,"count":0},{"startOffset":14840,"endOffset":14926,"count":0},{"startOffset":15056,"endOffset":15105,"count":2},{"startOffset":15138,"endOffset":15313,"count":0}],"isBlockCoverage":true},{"functionName":"#abortHandler","ranges":[{"startOffset":15402,"endOffset":15558,"count":0}],"isBlockCoverage":false},{"functionName":"#cancel","ranges":[{"startOffset":15563,"endOffset":15883,"count":0}],"isBlockCoverage":false},{"functionName":"createHook","ranges":[{"startOffset":15887,"endOffset":16896,"count":0}],"isBlockCoverage":false},{"functionName":"fail","ranges":[{"startOffset":16900,"endOffset":17014,"count":0}],"isBlockCoverage":false},{"functionName":"pass","ranges":[{"startOffset":17018,"endOffset":17106,"count":7},{"startOffset":17056,"endOffset":17077,"count":0}],"isBlockCoverage":true},{"functionName":"skip","ranges":[{"startOffset":17110,"endOffset":17182,"count":0}],"isBlockCoverage":false},{"functionName":"todo","ranges":[{"startOffset":17186,"endOffset":17257,"count":0}],"isBlockCoverage":false},{"functionName":"diagnostic","ranges":[{"startOffset":17261,"endOffset":17337,"count":0}],"isBlockCoverage":false},{"functionName":"start","ranges":[{"startOffset":17341,"endOffset":17929,"count":6},{"startOffset":17643,"endOffset":17675,"count":5},{"startOffset":17677,"endOffset":17839,"count":5},{"startOffset":17839,"endOffset":17928,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17933,"endOffset":18068,"count":13},{"startOffset":17999,"endOffset":18008,"count":0},{"startOffset":18010,"endOffset":18064,"count":0}],"isBlockCoverage":true},{"functionName":"getRunArgs","ranges":[{"startOffset":18072,"endOffset":18179,"count":6}],"isBlockCoverage":true},{"functionName":"runHook","ranges":[{"startOffset":18183,"endOffset":18687,"count":2},{"startOffset":18354,"endOffset":18488,"count":0},{"startOffset":18495,"endOffset":18683,"count":0}],"isBlockCoverage":true},{"functionName":"run","ranges":[{"startOffset":18691,"endOffset":22677,"count":6},{"startOffset":18735,"endOffset":18778,"count":5},{"startOffset":18843,"endOffset":18886,"count":0},{"startOffset":19020,"endOffset":19068,"count":0},{"startOffset":19464,"endOffset":19471,"count":5},{"startOffset":19491,"endOffset":19651,"count":0},{"startOffset":19673,"endOffset":19680,"count":5},{"startOffset":19703,"endOffset":19719,"count":0},{"startOffset":19721,"endOffset":19789,"count":0},{"startOffset":19998,"endOffset":20587,"count":0},{"startOffset":20848,"endOffset":20855,"count":0},{"startOffset":20930,"endOffset":21366,"count":0},{"startOffset":21615,"endOffset":21662,"count":5},{"startOffset":21699,"endOffset":21735,"count":1},{"startOffset":21737,"endOffset":22180,"count":5},{"startOffset":22180,"endOffset":22673,"count":1},{"startOffset":22201,"endOffset":22673,"count":0}],"isBlockCoverage":true},{"functionName":"after","ranges":[{"startOffset":19088,"endOffset":19203,"count":6},{"startOffset":19141,"endOffset":19197,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":19235,"endOffset":19390,"count":6},{"startOffset":19270,"endOffset":19277,"count":5},{"startOffset":19299,"endOffset":19315,"count":0},{"startOffset":19317,"endOffset":19384,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":22595,"endOffset":22634,"count":0}],"isBlockCoverage":false},{"functionName":"postRun","ranges":[{"startOffset":22681,"endOffset":26041,"count":7},{"startOffset":23126,"endOffset":23381,"count":6},{"startOffset":23198,"endOffset":23301,"count":0},{"startOffset":23328,"endOffset":23346,"count":0},{"startOffset":23348,"endOffset":23375,"count":0},{"startOffset":23404,"endOffset":23427,"count":0},{"startOffset":23444,"endOffset":23631,"count":0},{"startOffset":23653,"endOffset":23674,"count":0},{"startOffset":23718,"endOffset":23725,"count":0},{"startOffset":23760,"endOffset":24671,"count":6},{"startOffset":24177,"endOffset":24220,"count":1},{"startOffset":24221,"endOffset":24272,"count":1},{"startOffset":24273,"endOffset":24320,"count":1},{"startOffset":24322,"endOffset":24665,"count":1},{"startOffset":24671,"endOffset":26037,"count":1},{"startOffset":25121,"endOffset":25189,"count":0},{"startOffset":25829,"endOffset":25889,"count":0},{"startOffset":25919,"endOffset":25992,"count":0}],"isBlockCoverage":true},{"functionName":"isClearToSend","ranges":[{"startOffset":26045,"endOffset":26199,"count":11},{"startOffset":26095,"endOffset":26194,"count":5}],"isBlockCoverage":true},{"functionName":"finalize","ranges":[{"startOffset":26203,"endOffset":26892,"count":6}],"isBlockCoverage":true},{"functionName":"duration","ranges":[{"startOffset":26896,"endOffset":27050,"count":13}],"isBlockCoverage":true},{"functionName":"getReportDetails","ranges":[{"startOffset":27054,"endOffset":27531,"count":12},{"startOffset":27188,"endOffset":27250,"count":0},{"startOffset":27273,"endOffset":27335,"count":0},{"startOffset":27364,"endOffset":27411,"count":2},{"startOffset":27434,"endOffset":27475,"count":0}],"isBlockCoverage":true},{"functionName":"report","ranges":[{"startOffset":27535,"endOffset":28195,"count":6},{"startOffset":27610,"endOffset":27701,"count":1},{"startOffset":27701,"endOffset":27742,"count":5},{"startOffset":27926,"endOffset":28051,"count":0},{"startOffset":28107,"endOffset":28191,"count":0}],"isBlockCoverage":true},{"functionName":"reportStarted","ranges":[{"startOffset":28199,"endOffset":28424,"count":11},{"startOffset":28247,"endOffset":28270,"count":7},{"startOffset":28272,"endOffset":28293,"count":5},{"startOffset":28293,"endOffset":28423,"count":6}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":28428,"endOffset":29724,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":29726,"endOffset":31950,"count":1}],"isBlockCoverage":false},{"functionName":"Suite","ranges":[{"startOffset":29781,"endOffset":30651,"count":1},{"startOffset":29859,"endOffset":29875,"count":0},{"startOffset":29877,"endOffset":29951,"count":0},{"startOffset":30503,"endOffset":30623,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":30326,"endOffset":30416,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":30427,"endOffset":30486,"count":1}],"isBlockCoverage":true},{"functionName":"Suite.fn","ranges":[{"startOffset":30638,"endOffset":30646,"count":0}],"isBlockCoverage":false},{"functionName":"getRunArgs","ranges":[{"startOffset":30655,"endOffset":30763,"count":2}],"isBlockCoverage":true},{"functionName":"run","ranges":[{"startOffset":30767,"endOffset":31948,"count":1},{"startOffset":31067,"endOffset":31144,"count":0},{"startOffset":31193,"endOffset":31273,"count":0},{"startOffset":31429,"endOffset":31433,"count":0},{"startOffset":31632,"endOffset":31869,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":30869,"endOffset":30906,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":31498,"endOffset":31528,"count":5}],"isBlockCoverage":true},{"functionName":"getFullName","ranges":[{"startOffset":31952,"endOffset":32135,"count":0}],"isBlockCoverage":false}]},{"scriptId":"216","url":"node:internal/test_runner/mock/mock","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":21792,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":986,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"kDefaultFunction","ranges":[{"startOffset":1487,"endOffset":1517,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":1960,"endOffset":4554,"count":3}],"isBlockCoverage":false},{"functionName":"MockFunctionContext","ranges":[{"startOffset":2052,"endOffset":2253,"count":3}],"isBlockCoverage":true},{"functionName":"get calls","ranges":[{"startOffset":2383,"endOffset":2448,"count":0}],"isBlockCoverage":false},{"functionName":"callCount","ranges":[{"startOffset":2573,"endOffset":2621,"count":0}],"isBlockCoverage":false},{"functionName":"mockImplementation","ranges":[{"startOffset":2777,"endOffset":2916,"count":0}],"isBlockCoverage":false},{"functionName":"mockImplementationOnce","ranges":[{"startOffset":3120,"endOffset":3396,"count":0}],"isBlockCoverage":false},{"functionName":"restore","ranges":[{"startOffset":3465,"endOffset":3873,"count":3},{"startOffset":3696,"endOffset":3869,"count":0}],"isBlockCoverage":true},{"functionName":"resetCalls","ranges":[{"startOffset":3941,"endOffset":3981,"count":0}],"isBlockCoverage":false},{"functionName":"trackCall","ranges":[{"startOffset":4089,"endOffset":4153,"count":6}],"isBlockCoverage":true},{"functionName":"nextImpl","ranges":[{"startOffset":4283,"endOffset":4552,"count":6},{"startOffset":4467,"endOffset":4496,"count":0}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":4742,"endOffset":6795,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":6862,"endOffset":18328,"count":1}],"isBlockCoverage":false},{"functionName":"get timers","ranges":[{"startOffset":7035,"endOffset":7117,"count":0}],"isBlockCoverage":false},{"functionName":"fn","ranges":[{"startOffset":7572,"endOffset":8341,"count":0}],"isBlockCoverage":false},{"functionName":"method","ranges":[{"startOffset":9115,"endOffset":11287,"count":3},{"startOffset":9466,"endOffset":9546,"count":0},{"startOffset":9896,"endOffset":9905,"count":0},{"startOffset":9907,"endOffset":10036,"count":0},{"startOffset":10154,"endOffset":10195,"count":0},{"startOffset":10213,"endOffset":10254,"count":0},{"startOffset":10345,"endOffset":10452,"count":0},{"startOffset":10598,"endOffset":10614,"count":0},{"startOffset":10907,"endOffset":10990,"count":0},{"startOffset":11008,"endOffset":11091,"count":0}],"isBlockCoverage":true},{"functionName":"getter","ranges":[{"startOffset":12064,"endOffset":12684,"count":0}],"isBlockCoverage":false},{"functionName":"setter","ranges":[{"startOffset":13456,"endOffset":14076,"count":0}],"isBlockCoverage":false},{"functionName":"module","ranges":[{"startOffset":14080,"endOffset":16191,"count":0}],"isBlockCoverage":false},{"functionName":"reset","ranges":[{"startOffset":16278,"endOffset":16363,"count":0}],"isBlockCoverage":false},{"functionName":"restoreAll","ranges":[{"startOffset":16440,"endOffset":16606,"count":0}],"isBlockCoverage":false},{"functionName":"#setupMock","ranges":[{"startOffset":16610,"endOffset":18326,"count":3}],"isBlockCoverage":true},{"functionName":"apply","ranges":[{"startOffset":16708,"endOffset":17349,"count":6},{"startOffset":16915,"endOffset":16982,"count":0}],"isBlockCoverage":true},{"functionName":"construct","ranges":[{"startOffset":17357,"endOffset":18017,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":18025,"endOffset":18189,"count":3},{"startOffset":18125,"endOffset":18188,"count":0}],"isBlockCoverage":true},{"functionName":"setupSharedModuleState","ranges":[{"startOffset":18330,"endOffset":19064,"count":0}],"isBlockCoverage":false},{"functionName":"cjsMockModuleLoad","ranges":[{"startOffset":19066,"endOffset":20595,"count":0}],"isBlockCoverage":false},{"functionName":"validateStringOrSymbol","ranges":[{"startOffset":20597,"endOffset":20784,"count":3},{"startOffset":20676,"endOffset":20704,"count":0},{"startOffset":20706,"endOffset":20782,"count":0}],"isBlockCoverage":true},{"functionName":"validateTimes","ranges":[{"startOffset":20786,"endOffset":20905,"count":3},{"startOffset":20867,"endOffset":20904,"count":0}],"isBlockCoverage":true},{"functionName":"findMethodOnPrototypeChain","ranges":[{"startOffset":20907,"endOffset":21211,"count":3},{"startOffset":21143,"endOffset":21187,"count":0}],"isBlockCoverage":true},{"functionName":"waitForAck","ranges":[{"startOffset":21213,"endOffset":21412,"count":0}],"isBlockCoverage":false},{"functionName":"ensureNodeScheme","ranges":[{"startOffset":21414,"endOffset":21567,"count":0}],"isBlockCoverage":false}]},{"scriptId":"217","url":"node:internal/test_runner/mock/mock_timers","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22254,"count":1}],"isBlockCoverage":false},{"functionName":"compareTimersLists","ranges":[{"startOffset":1153,"endOffset":1237,"count":0}],"isBlockCoverage":false},{"functionName":"setPosition","ranges":[{"startOffset":1239,"endOffset":1310,"count":0}],"isBlockCoverage":false},{"functionName":"abortIt","ranges":[{"startOffset":1312,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"Timeout","ranges":[{"startOffset":1719,"endOffset":1891,"count":0}],"isBlockCoverage":false},{"functionName":"hasRef","ranges":[{"startOffset":1895,"endOffset":1926,"count":0}],"isBlockCoverage":false},{"functionName":"ref","ranges":[{"startOffset":1930,"endOffset":1958,"count":0}],"isBlockCoverage":false},{"functionName":"unref","ranges":[{"startOffset":1962,"endOffset":1992,"count":0}],"isBlockCoverage":false},{"functionName":"refresh","ranges":[{"startOffset":1996,"endOffset":2028,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":2032,"endOffset":22219,"count":0}],"isBlockCoverage":false}]},{"scriptId":"218","url":"node:timers/promises","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6369,"count":1}],"isBlockCoverage":false},{"functionName":"cancelListenerHandler","ranges":[{"startOffset":682,"endOffset":852,"count":0}],"isBlockCoverage":false},{"functionName":"setTimeout","ranges":[{"startOffset":854,"endOffset":2163,"count":0}],"isBlockCoverage":false},{"functionName":"setImmediate","ranges":[{"startOffset":2165,"endOffset":3402,"count":0}],"isBlockCoverage":false},{"functionName":"setInterval","ranges":[{"startOffset":3404,"endOffset":5089,"count":0}],"isBlockCoverage":false},{"functionName":"Scheduler","ranges":[{"startOffset":5634,"endOffset":5694,"count":0}],"isBlockCoverage":true},{"functionName":"yield","ranges":[{"startOffset":5740,"endOffset":5854,"count":0}],"isBlockCoverage":false},{"functionName":"wait","ranges":[{"startOffset":6055,"endOffset":6205,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6303,"endOffset":6348,"count":1}],"isBlockCoverage":true}]},{"scriptId":"219","url":"node:internal/test_runner/tests_stream","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2947,"count":1}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":221,"endOffset":2897,"count":1}],"isBlockCoverage":false},{"functionName":"TestsStream","ranges":[{"startOffset":284,"endOffset":464,"count":1}],"isBlockCoverage":true},{"functionName":"_read","ranges":[{"startOffset":468,"endOffset":663,"count":1},{"startOffset":541,"endOffset":659,"count":0}],"isBlockCoverage":true},{"functionName":"fail","ranges":[{"startOffset":667,"endOffset":892,"count":0}],"isBlockCoverage":false},{"functionName":"ok","ranges":[{"startOffset":896,"endOffset":1119,"count":6}],"isBlockCoverage":true},{"functionName":"complete","ranges":[{"startOffset":1123,"endOffset":1356,"count":6}],"isBlockCoverage":true},{"functionName":"plan","ranges":[{"startOffset":1360,"endOffset":1502,"count":2}],"isBlockCoverage":true},{"functionName":"getSkip","ranges":[{"startOffset":1506,"endOffset":1593,"count":0}],"isBlockCoverage":false},{"functionName":"getTodo","ranges":[{"startOffset":1597,"endOffset":1684,"count":0}],"isBlockCoverage":false},{"functionName":"enqueue","ranges":[{"startOffset":1688,"endOffset":1834,"count":6}],"isBlockCoverage":true},{"functionName":"dequeue","ranges":[{"startOffset":1838,"endOffset":1984,"count":6}],"isBlockCoverage":true},{"functionName":"start","ranges":[{"startOffset":1988,"endOffset":2130,"count":6}],"isBlockCoverage":true},{"functionName":"diagnostic","ranges":[{"startOffset":2134,"endOffset":2292,"count":8}],"isBlockCoverage":true},{"functionName":"coverage","ranges":[{"startOffset":2296,"endOffset":2450,"count":0}],"isBlockCoverage":false},{"functionName":"end","ranges":[{"startOffset":2454,"endOffset":2490,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2494,"endOffset":2706,"count":40}],"isBlockCoverage":true},{"functionName":"#tryPush","ranges":[{"startOffset":2710,"endOffset":2895,"count":41},{"startOffset":2802,"endOffset":2864,"count":0}],"isBlockCoverage":true}]},{"scriptId":"220","url":"node:internal/test_runner/utils","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14107,"count":1}],"isBlockCoverage":false},{"functionName":"doesPathMatchFilter","ranges":[{"startOffset":1331,"endOffset":1436,"count":0}],"isBlockCoverage":false},{"functionName":"isSupportedFileType","ranges":[{"startOffset":1438,"endOffset":1541,"count":0}],"isBlockCoverage":false},{"functionName":"createDeferredCallback","ranges":[{"startOffset":1543,"endOffset":2157,"count":0}],"isBlockCoverage":false},{"functionName":"isTestFailureError","ranges":[{"startOffset":2159,"endOffset":2261,"count":0}],"isBlockCoverage":false},{"functionName":"convertStringToRegExp","ranges":[{"startOffset":2263,"endOffset":2671,"count":0}],"isBlockCoverage":false},{"functionName":"tryBuiltinReporter","ranges":[{"startOffset":3177,"endOffset":3349,"count":1},{"startOffset":3298,"endOffset":3315,"count":0}],"isBlockCoverage":true},{"functionName":"shouldColorizeTestFiles","ranges":[{"startOffset":3351,"endOffset":3730,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3581,"endOffset":3726,"count":1}],"isBlockCoverage":true},{"functionName":"getReportersMap","ranges":[{"startOffset":3732,"endOffset":4832,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3840,"endOffset":4828,"count":1},{"startOffset":3927,"endOffset":3964,"count":0},{"startOffset":4101,"endOffset":4445,"count":0},{"startOffset":4474,"endOffset":4516,"count":0},{"startOffset":4616,"endOffset":4656,"count":0},{"startOffset":4677,"endOffset":4768,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4942,"endOffset":5262,"count":1}],"isBlockCoverage":true},{"functionName":"parseCommandLine","ranges":[{"startOffset":5290,"endOffset":7373,"count":4},{"startOffset":5345,"endOffset":5380,"count":3},{"startOffset":5380,"endOffset":6036,"count":1},{"startOffset":6036,"endOffset":6748,"count":0},{"startOffset":6748,"endOffset":6770,"count":1},{"startOffset":6770,"endOffset":6830,"count":0},{"startOffset":6830,"endOffset":7155,"count":1},{"startOffset":7014,"endOffset":7143,"count":0},{"startOffset":7155,"endOffset":7372,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7078,"endOffset":7134,"count":0}],"isBlockCoverage":false},{"functionName":"countCompletedTest","ranges":[{"startOffset":7375,"endOffset":7987,"count":6},{"startOffset":7466,"endOffset":7504,"count":1},{"startOffset":7542,"endOffset":7590,"count":1},{"startOffset":7590,"endOffset":7698,"count":5},{"startOffset":7698,"endOffset":7735,"count":0},{"startOffset":7735,"endOffset":7959,"count":5},{"startOffset":7758,"endOffset":7792,"count":0},{"startOffset":7818,"endOffset":7857,"count":0},{"startOffset":7881,"endOffset":7917,"count":0},{"startOffset":7959,"endOffset":7986,"count":5}],"isBlockCoverage":true},{"functionName":"addTableLine","ranges":[{"startOffset":8018,"endOffset":8262,"count":0}],"isBlockCoverage":false},{"functionName":"truncateStart","ranges":[{"startOffset":8302,"endOffset":8469,"count":0}],"isBlockCoverage":false},{"functionName":"truncateEnd","ranges":[{"startOffset":8471,"endOffset":8623,"count":0}],"isBlockCoverage":false},{"functionName":"formatLinesToRanges","ranges":[{"startOffset":8625,"endOffset":8979,"count":0}],"isBlockCoverage":false},{"functionName":"getUncoveredLines","ranges":[{"startOffset":8981,"endOffset":9104,"count":0}],"isBlockCoverage":false},{"functionName":"formatUncoveredLines","ranges":[{"startOffset":9106,"endOffset":9268,"count":0}],"isBlockCoverage":false},{"functionName":"getCoverageReport","ranges":[{"startOffset":9444,"endOffset":13835,"count":0}],"isBlockCoverage":false}]},{"scriptId":"221","url":"node:internal/test_runner/runner","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":19717,"count":1}],"isBlockCoverage":false},{"functionName":"processPath","ranges":[{"startOffset":2713,"endOffset":3640,"count":0}],"isBlockCoverage":false},{"functionName":"createTestFileList","ranges":[{"startOffset":3642,"endOffset":4310,"count":0}],"isBlockCoverage":false},{"functionName":"filterExecArgv","ranges":[{"startOffset":4312,"endOffset":4539,"count":0}],"isBlockCoverage":false},{"functionName":"getRunArgs","ranges":[{"startOffset":4541,"endOffset":5165,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":5398,"endOffset":11639,"count":0}],"isBlockCoverage":false},{"functionName":"runTestFile","ranges":[{"startOffset":11641,"endOffset":14403,"count":0}],"isBlockCoverage":false},{"functionName":"watchFiles","ranges":[{"startOffset":14405,"endOffset":16415,"count":0}],"isBlockCoverage":false},{"functionName":"run","ranges":[{"startOffset":16417,"endOffset":19647,"count":0}],"isBlockCoverage":false}]},{"scriptId":"222","url":"node:v8","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13337,"count":1}],"isBlockCoverage":false},{"functionName":"writeHeapSnapshot","ranges":[{"startOffset":2300,"endOffset":2579,"count":0}],"isBlockCoverage":false},{"functionName":"getHeapSnapshot","ranges":[{"startOffset":2811,"endOffset":3018,"count":0}],"isBlockCoverage":false},{"functionName":"setFlagsFromString","ranges":[{"startOffset":4440,"endOffset":4542,"count":0}],"isBlockCoverage":false},{"functionName":"getHeapStatistics","ranges":[{"startOffset":4992,"endOffset":5937,"count":0}],"isBlockCoverage":false},{"functionName":"getHeapSpaceStatistics","ranges":[{"startOffset":6167,"endOffset":6725,"count":0}],"isBlockCoverage":false},{"functionName":"getHeapCodeStatistics","ranges":[{"startOffset":6964,"endOffset":7374,"count":0}],"isBlockCoverage":false},{"functionName":"setHeapSnapshotNearHeapLimit","ranges":[{"startOffset":7428,"endOffset":7734,"count":0}],"isBlockCoverage":false},{"functionName":"readRawBytes","ranges":[{"startOffset":8005,"endOffset":8321,"count":0}],"isBlockCoverage":false},{"functionName":"arrayBufferViewTypeToIndex","ranges":[{"startOffset":8324,"endOffset":9056,"count":0}],"isBlockCoverage":false},{"functionName":"arrayBufferViewIndexToType","ranges":[{"startOffset":9058,"endOffset":9638,"count":0}],"isBlockCoverage":false},{"functionName":"DefaultSerializer","ranges":[{"startOffset":9687,"endOffset":9775,"count":2}],"isBlockCoverage":true},{"functionName":"_writeHostObject","ranges":[{"startOffset":9945,"endOffset":10979,"count":0}],"isBlockCoverage":false},{"functionName":"_readHostObject","ranges":[{"startOffset":11170,"endOffset":11989,"count":0}],"isBlockCoverage":false},{"functionName":"serialize","ranges":[{"startOffset":12113,"endOffset":12257,"count":0}],"isBlockCoverage":false},{"functionName":"deserialize","ranges":[{"startOffset":12433,"endOffset":12558,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":12560,"endOffset":12878,"count":0}],"isBlockCoverage":false}]},{"scriptId":"223","url":"node:internal/heap_utils","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2459,"count":1}],"isBlockCoverage":false},{"functionName":"getHeapSnapshotOptions","ranges":[{"startOffset":708,"endOffset":1093,"count":0}],"isBlockCoverage":false},{"functionName":"HeapSnapshotStream","ranges":[{"startOffset":1141,"endOffset":1295,"count":0}],"isBlockCoverage":false},{"functionName":"_read","ranges":[{"startOffset":1299,"endOffset":1368,"count":0}],"isBlockCoverage":false},{"functionName":"_destroy","ranges":[{"startOffset":1372,"endOffset":1584,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1588,"endOffset":1630,"count":0}],"isBlockCoverage":false},{"functionName":"queryObjects","ranges":[{"startOffset":1693,"endOffset":2371,"count":0}],"isBlockCoverage":false}]},{"scriptId":"224","url":"node:internal/promise_hooks","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3074,"count":1}],"isBlockCoverage":false},{"functionName":"initAll","ranges":[{"startOffset":476,"endOffset":974,"count":0}],"isBlockCoverage":false},{"functionName":"makeRunHook","ranges":[{"startOffset":976,"endOffset":1512,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1014,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"maybeFastPath","ranges":[{"startOffset":1650,"endOffset":1735,"count":24},{"startOffset":1714,"endOffset":1722,"count":0}],"isBlockCoverage":true},{"functionName":"update","ranges":[{"startOffset":1737,"endOffset":2029,"count":6}],"isBlockCoverage":true},{"functionName":"stop","ranges":[{"startOffset":2031,"endOffset":2191,"count":3}],"isBlockCoverage":true},{"functionName":"makeUseHook","ranges":[{"startOffset":2193,"endOffset":2433,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2259,"endOffset":2430,"count":3}],"isBlockCoverage":true},{"functionName":"createHook","ranges":[{"startOffset":2592,"endOffset":2990,"count":1},{"startOffset":2867,"endOffset":2913,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2924,"endOffset":2987,"count":1},{"startOffset":2962,"endOffset":2983,"count":3}],"isBlockCoverage":true}]},{"scriptId":"225","url":"node:internal/watch_mode/files_watcher","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5973,"count":1}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":736,"endOffset":5936,"count":0}],"isBlockCoverage":false}]},{"scriptId":"226","url":"file:///root/Development/vultuk/agentrix/repository/src/cli/arg-parser.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22654,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":229,"endOffset":5351,"count":6}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":250,"endOffset":287,"count":1}],"isBlockCoverage":true},{"functionName":"ArgumentParser","ranges":[{"startOffset":332,"endOffset":424,"count":6}],"isBlockCoverage":true},{"functionName":"createDefaultArgs","ranges":[{"startOffset":424,"endOffset":783,"count":6}],"isBlockCoverage":true},{"functionName":"createProvidedTracker","ranges":[{"startOffset":783,"endOffset":1121,"count":6}],"isBlockCoverage":true},{"functionName":"requireValue","ranges":[{"startOffset":1121,"endOffset":1222,"count":8},{"startOffset":1158,"endOffset":1209,"count":0}],"isBlockCoverage":true},{"functionName":"requireNonEmpty","ranges":[{"startOffset":1222,"endOffset":1365,"count":1},{"startOffset":1301,"endOffset":1350,"count":0}],"isBlockCoverage":true},{"functionName":"setTerminalSessionMode","ranges":[{"startOffset":1365,"endOffset":2032,"count":1},{"startOffset":1575,"endOffset":1705,"count":0},{"startOffset":1745,"endOffset":1911,"count":0}],"isBlockCoverage":true},{"functionName":"parsePort","ranges":[{"startOffset":2032,"endOffset":2205,"count":2},{"startOffset":2148,"endOffset":2191,"count":0}],"isBlockCoverage":true},{"functionName":"parseCookieSecure","ranges":[{"startOffset":2205,"endOffset":2407,"count":0}],"isBlockCoverage":false},{"functionName":"parse","ranges":[{"startOffset":2407,"endOffset":5350,"count":6},{"startOffset":2450,"endOffset":5305,"count":8},{"startOffset":2485,"endOffset":2631,"count":2},{"startOffset":2631,"endOffset":2737,"count":0},{"startOffset":2737,"endOffset":2952,"count":2},{"startOffset":2952,"endOffset":3122,"count":0},{"startOffset":3122,"endOffset":3247,"count":1},{"startOffset":3247,"endOffset":3834,"count":0},{"startOffset":3834,"endOffset":3956,"count":1},{"startOffset":3956,"endOffset":5303,"count":0}],"isBlockCoverage":true},{"functionName":"parseArgs","ranges":[{"startOffset":5351,"endOffset":5434,"count":6}],"isBlockCoverage":true}]},{"scriptId":"227","url":"file:///root/Development/vultuk/agentrix/repository/src/cli/config-resolver.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":20071,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"resolveValue","ranges":[{"startOffset":314,"endOffset":442,"count":90},{"startOffset":392,"endOffset":409,"count":8},{"startOffset":409,"endOffset":427,"count":82},{"startOffset":427,"endOffset":441,"count":70}],"isBlockCoverage":true},{"functionName":"resolveConfig","ranges":[{"startOffset":478,"endOffset":3021,"count":6},{"startOffset":609,"endOffset":616,"count":0},{"startOffset":692,"endOffset":699,"count":0},{"startOffset":776,"endOffset":783,"count":0},{"startOffset":858,"endOffset":865,"count":0},{"startOffset":947,"endOffset":954,"count":0},{"startOffset":1048,"endOffset":1055,"count":0},{"startOffset":1157,"endOffset":1164,"count":0},{"startOffset":1253,"endOffset":1361,"count":0},{"startOffset":1423,"endOffset":1430,"count":0},{"startOffset":1532,"endOffset":1539,"count":0},{"startOffset":1637,"endOffset":1644,"count":0},{"startOffset":1729,"endOffset":1755,"count":0},{"startOffset":1778,"endOffset":1801,"count":0},{"startOffset":1821,"endOffset":1839,"count":5},{"startOffset":1839,"endOffset":1845,"count":4},{"startOffset":1904,"endOffset":1911,"count":0},{"startOffset":2011,"endOffset":2018,"count":0},{"startOffset":2114,"endOffset":2121,"count":0},{"startOffset":2219,"endOffset":2226,"count":0},{"startOffset":2340,"endOffset":2347,"count":0},{"startOffset":2559,"endOffset":2611,"count":3},{"startOffset":2638,"endOffset":2693,"count":3},{"startOffset":2821,"endOffset":2829,"count":0},{"startOffset":3011,"endOffset":3019,"count":0}],"isBlockCoverage":true},{"functionName":"validateNgrokConfig","ranges":[{"startOffset":3059,"endOffset":3320,"count":2},{"startOffset":3208,"endOffset":3231,"count":1},{"startOffset":3232,"endOffset":3319,"count":1}],"isBlockCoverage":true},{"functionName":"buildConfigToSave","ranges":[{"startOffset":3370,"endOffset":5105,"count":1},{"startOffset":3555,"endOffset":3562,"count":0},{"startOffset":3570,"endOffset":3585,"count":0},{"startOffset":3663,"endOffset":3670,"count":0},{"startOffset":3683,"endOffset":3703,"count":0},{"startOffset":3777,"endOffset":3819,"count":0},{"startOffset":3843,"endOffset":3895,"count":0},{"startOffset":3921,"endOffset":3977,"count":0},{"startOffset":4030,"endOffset":4084,"count":0},{"startOffset":4108,"endOffset":4160,"count":0},{"startOffset":4178,"endOffset":4218,"count":0},{"startOffset":4253,"endOffset":4260,"count":0},{"startOffset":4261,"endOffset":4297,"count":0},{"startOffset":4477,"endOffset":4523,"count":0},{"startOffset":4547,"endOffset":4593,"count":0},{"startOffset":4614,"endOffset":4654,"count":0},{"startOffset":4678,"endOffset":4724,"count":0},{"startOffset":4826,"endOffset":4846,"count":0},{"startOffset":4847,"endOffset":4924,"count":0},{"startOffset":4951,"endOffset":5012,"count":0},{"startOffset":5035,"endOffset":5085,"count":0}],"isBlockCoverage":true}]},{"scriptId":"228","url":"file:///root/Development/vultuk/agentrix/repository/src/server/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":19168,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"startServer","ranges":[{"startOffset":925,"endOffset":4925,"count":0}],"isBlockCoverage":false}]},{"scriptId":"229","url":"file:///root/Development/vultuk/agentrix/repository/src/cli/constants.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2267,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"getConfigFilePath","ranges":[{"startOffset":429,"endOffset":569,"count":0}],"isBlockCoverage":false}]},{"scriptId":"230","url":"node:http","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5639,"count":1}],"isBlockCoverage":false},{"functionName":"createServer","ranges":[{"startOffset":2114,"endOffset":2206,"count":0}],"isBlockCoverage":false},{"functionName":"request","ranges":[{"startOffset":4352,"endOffset":4436,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4601,"endOffset":4703,"count":0}],"isBlockCoverage":false},{"functionName":"setMaxIdleHTTPParsers","ranges":[{"startOffset":4984,"endOffset":5075,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5200,"endOffset":5409,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":5533,"endOffset":5578,"count":1}],"isBlockCoverage":true},{"functionName":"set","ranges":[{"startOffset":5582,"endOffset":5633,"count":0}],"isBlockCoverage":false}]},{"scriptId":"231","url":"node:_http_agent","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16928,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1388,"endOffset":1413,"count":0}],"isBlockCoverage":false},{"functionName":"ReusedHandle","ranges":[{"startOffset":2459,"endOffset":2538,"count":0}],"isBlockCoverage":false},{"functionName":"freeSocketErrorListener","ranges":[{"startOffset":2542,"endOffset":2721,"count":0}],"isBlockCoverage":false},{"functionName":"Agent","ranges":[{"startOffset":2723,"endOffset":5907,"count":2},{"startOffset":2785,"endOffset":2811,"count":0},{"startOffset":3344,"endOffset":3352,"count":0},{"startOffset":3530,"endOffset":3539,"count":0},{"startOffset":3735,"endOffset":3804,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3872,"endOffset":5790,"count":0}],"isBlockCoverage":false},{"functionName":"maybeEnableKeylog","ranges":[{"startOffset":6015,"endOffset":6540,"count":0}],"isBlockCoverage":false},{"functionName":"getName","ranges":[{"startOffset":6713,"endOffset":7211,"count":0}],"isBlockCoverage":false},{"functionName":"addRequest","ranges":[{"startOffset":7243,"endOffset":9258,"count":0}],"isBlockCoverage":false},{"functionName":"createSocket","ranges":[{"startOffset":9292,"endOffset":10292,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeServerName","ranges":[{"startOffset":10295,"endOffset":10457,"count":0}],"isBlockCoverage":false},{"functionName":"calculateServerName","ranges":[{"startOffset":10459,"endOffset":11209,"count":0}],"isBlockCoverage":false},{"functionName":"installListeners","ranges":[{"startOffset":11211,"endOffset":12657,"count":0}],"isBlockCoverage":false},{"functionName":"removeSocket","ranges":[{"startOffset":12690,"endOffset":14446,"count":0}],"isBlockCoverage":false},{"functionName":"keepSocketAlive","ranges":[{"startOffset":14483,"endOffset":15593,"count":0}],"isBlockCoverage":false},{"functionName":"reuseSocket","ranges":[{"startOffset":15626,"endOffset":15794,"count":0}],"isBlockCoverage":false},{"functionName":"destroy","ranges":[{"startOffset":15823,"endOffset":16172,"count":0}],"isBlockCoverage":false},{"functionName":"setRequestSocket","ranges":[{"startOffset":16175,"endOffset":16416,"count":0}],"isBlockCoverage":false},{"functionName":"asyncResetHandle","ranges":[{"startOffset":16418,"endOffset":16813,"count":0}],"isBlockCoverage":false}]},{"scriptId":"232","url":"node:_http_client","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":28353,"count":1}],"isBlockCoverage":false},{"functionName":"emitErrorEvent","ranges":[{"startOffset":2838,"endOffset":3047,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3169,"endOffset":3194,"count":0}],"isBlockCoverage":false},{"functionName":"validateHost","ranges":[{"startOffset":3439,"endOffset":3732,"count":0}],"isBlockCoverage":false},{"functionName":"HTTPClientAsyncResource","ranges":[{"startOffset":3768,"endOffset":3838,"count":0}],"isBlockCoverage":false},{"functionName":"ClientRequest","ranges":[{"startOffset":3842,"endOffset":11259,"count":0}],"isBlockCoverage":false},{"functionName":"_finish","ranges":[{"startOffset":11423,"endOffset":12129,"count":0}],"isBlockCoverage":false},{"functionName":"_implicitHeader","ranges":[{"startOffset":12174,"endOffset":12386,"count":0}],"isBlockCoverage":false},{"functionName":"abort","ranges":[{"startOffset":12421,"endOffset":12559,"count":0}],"isBlockCoverage":false},{"functionName":"destroy","ranges":[{"startOffset":12596,"endOffset":12872,"count":0}],"isBlockCoverage":false},{"functionName":"emitAbortNT","ranges":[{"startOffset":12875,"endOffset":12925,"count":0}],"isBlockCoverage":false},{"functionName":"ondrain","ranges":[{"startOffset":12927,"endOffset":13087,"count":0}],"isBlockCoverage":false},{"functionName":"socketCloseListener","ranges":[{"startOffset":13089,"endOffset":14266,"count":0}],"isBlockCoverage":false},{"functionName":"socketErrorListener","ranges":[{"startOffset":14268,"endOffset":14911,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnEnd","ranges":[{"startOffset":14913,"endOffset":15405,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnData","ranges":[{"startOffset":15407,"endOffset":17772,"count":0}],"isBlockCoverage":false},{"functionName":"statusIsInformational","ranges":[{"startOffset":17774,"endOffset":18009,"count":0}],"isBlockCoverage":false},{"functionName":"parserOnIncomingClient","ranges":[{"startOffset":18021,"endOffset":21034,"count":0}],"isBlockCoverage":false},{"functionName":"responseKeepAlive","ranges":[{"startOffset":21046,"endOffset":22115,"count":0}],"isBlockCoverage":false},{"functionName":"responseOnEnd","ranges":[{"startOffset":22117,"endOffset":23274,"count":0}],"isBlockCoverage":false},{"functionName":"responseOnTimeout","ranges":[{"startOffset":23276,"endOffset":23427,"count":0}],"isBlockCoverage":false},{"functionName":"requestOnFinish","ranges":[{"startOffset":23569,"endOffset":23689,"count":0}],"isBlockCoverage":false},{"functionName":"emitFreeNT","ranges":[{"startOffset":23691,"endOffset":23815,"count":0}],"isBlockCoverage":false},{"functionName":"tickOnSocket","ranges":[{"startOffset":23817,"endOffset":24997,"count":0}],"isBlockCoverage":false},{"functionName":"emitRequestTimeout","ranges":[{"startOffset":24999,"endOffset":25107,"count":0}],"isBlockCoverage":false},{"functionName":"listenSocketTimeout","ranges":[{"startOffset":25109,"endOffset":25500,"count":0}],"isBlockCoverage":false},{"functionName":"onSocket","ranges":[{"startOffset":25537,"endOffset":25708,"count":0}],"isBlockCoverage":false},{"functionName":"onSocketNT","ranges":[{"startOffset":25711,"endOffset":26511,"count":0}],"isBlockCoverage":false},{"functionName":"_deferToConnect","ranges":[{"startOffset":26572,"endOffset":27324,"count":0}],"isBlockCoverage":false},{"functionName":"setTimeout","ranges":[{"startOffset":27363,"endOffset":27728,"count":0}],"isBlockCoverage":false},{"functionName":"setSocketTimeout","ranges":[{"startOffset":27731,"endOffset":27917,"count":0}],"isBlockCoverage":false},{"functionName":"setNoDelay","ranges":[{"startOffset":27956,"endOffset":28037,"count":0}],"isBlockCoverage":false},{"functionName":"setSocketKeepAlive","ranges":[{"startOffset":28089,"endOffset":28214,"count":0}],"isBlockCoverage":false},{"functionName":"clearTimeout","ranges":[{"startOffset":28256,"endOffset":28311,"count":0}],"isBlockCoverage":false}]},{"scriptId":"233","url":"node:_http_common","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8203,"count":1}],"isBlockCoverage":false},{"functionName":"parserOnHeaders","ranges":[{"startOffset":2287,"endOffset":2534,"count":0}],"isBlockCoverage":false},{"functionName":"parserOnHeadersComplete","ranges":[{"startOffset":2747,"endOffset":4284,"count":0}],"isBlockCoverage":false},{"functionName":"parserOnBody","ranges":[{"startOffset":4286,"endOffset":4603,"count":0}],"isBlockCoverage":false},{"functionName":"parserOnMessageComplete","ranges":[{"startOffset":4605,"endOffset":5092,"count":0}],"isBlockCoverage":false},{"functionName":"parsersCb","ranges":[{"startOffset":5141,"endOffset":5429,"count":0}],"isBlockCoverage":false},{"functionName":"closeParserInstance","ranges":[{"startOffset":5433,"endOffset":5489,"count":0}],"isBlockCoverage":false},{"functionName":"freeParser","ranges":[{"startOffset":5812,"endOffset":6437,"count":0}],"isBlockCoverage":false},{"functionName":"checkIsHttpToken","ranges":[{"startOffset":6649,"endOffset":6715,"count":0}],"isBlockCoverage":false},{"functionName":"checkInvalidHeaderChar","ranges":[{"startOffset":6977,"endOffset":7053,"count":0}],"isBlockCoverage":false},{"functionName":"cleanParser","ranges":[{"startOffset":7055,"endOffset":7437,"count":0}],"isBlockCoverage":false},{"functionName":"prepareError","ranges":[{"startOffset":7439,"endOffset":7632,"count":0}],"isBlockCoverage":false},{"functionName":"isLenient","ranges":[{"startOffset":7662,"endOffset":7847,"count":0}],"isBlockCoverage":false}]},{"scriptId":"234","url":"node:internal/freelist","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":476,"count":1}],"isBlockCoverage":false},{"functionName":"FreeList","ranges":[{"startOffset":76,"endOffset":194,"count":1}],"isBlockCoverage":true},{"functionName":"alloc","ranges":[{"startOffset":198,"endOffset":317,"count":0}],"isBlockCoverage":false},{"functionName":"free","ranges":[{"startOffset":321,"endOffset":445,"count":0}],"isBlockCoverage":false}]},{"scriptId":"235","url":"node:_http_incoming","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14760,"count":1}],"isBlockCoverage":false},{"functionName":"readStart","ranges":[{"startOffset":1565,"endOffset":1668,"count":0}],"isBlockCoverage":false},{"functionName":"readStop","ranges":[{"startOffset":1670,"endOffset":1733,"count":0}],"isBlockCoverage":false},{"functionName":"IncomingMessage","ranges":[{"startOffset":1799,"endOffset":2782,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":2992,"endOffset":3032,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":3041,"endOffset":3083,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3177,"endOffset":3474,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":3483,"endOffset":3528,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3630,"endOffset":3967,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":3976,"endOffset":4029,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4124,"endOffset":4427,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":4436,"endOffset":4482,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4585,"endOffset":4928,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":4937,"endOffset":4991,"count":0}],"isBlockCoverage":false},{"functionName":"setTimeout","ranges":[{"startOffset":5037,"endOffset":5175,"count":0}],"isBlockCoverage":false},{"functionName":"_read","ranges":[{"startOffset":5654,"endOffset":6031,"count":0}],"isBlockCoverage":false},{"functionName":"_destroy","ranges":[{"startOffset":6274,"endOffset":7070,"count":0}],"isBlockCoverage":false},{"functionName":"_addHeaderLines","ranges":[{"startOffset":7134,"endOffset":7593,"count":0}],"isBlockCoverage":false},{"functionName":"matchKnownFields","ranges":[{"startOffset":8315,"endOffset":12195,"count":0}],"isBlockCoverage":false},{"functionName":"_addHeaderLine","ranges":[{"startOffset":12806,"endOffset":13822,"count":0}],"isBlockCoverage":false},{"functionName":"_addHeaderLineDistinct","ranges":[{"startOffset":13899,"endOffset":14078,"count":0}],"isBlockCoverage":false},{"functionName":"_dump","ranges":[{"startOffset":14201,"endOffset":14442,"count":0}],"isBlockCoverage":false},{"functionName":"onError","ranges":[{"startOffset":14445,"endOffset":14692,"count":0}],"isBlockCoverage":false}]},{"scriptId":"236","url":"node:_http_outgoing","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":35050,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2628,"endOffset":2653,"count":0}],"isBlockCoverage":false},{"functionName":"nop","ranges":[{"startOffset":2962,"endOffset":2970,"count":0}],"isBlockCoverage":false},{"functionName":"isCookieField","ranges":[{"startOffset":3213,"endOffset":3299,"count":0}],"isBlockCoverage":false},{"functionName":"isContentDispositionField","ranges":[{"startOffset":3301,"endOffset":3413,"count":0}],"isBlockCoverage":false},{"functionName":"OutgoingMessage","ranges":[{"startOffset":3415,"endOffset":4939,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5137,"endOffset":5175,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5263,"endOffset":5299,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5397,"endOffset":5539,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5639,"endOffset":5668,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5764,"endOffset":5852,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5955,"endOffset":6049,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6145,"endOffset":6256,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6374,"endOffset":6420,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6516,"endOffset":6988,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":7149,"endOffset":7189,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":7198,"endOffset":7240,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7362,"endOffset":7819,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":7919,"endOffset":8369,"count":0}],"isBlockCoverage":false},{"functionName":"_renderHeaders","ranges":[{"startOffset":8488,"endOffset":8992,"count":0}],"isBlockCoverage":false},{"functionName":"OutgoingMessage.cork","ranges":[{"startOffset":9028,"endOffset":9123,"count":0}],"isBlockCoverage":false},{"functionName":"OutgoingMessage.uncork","ranges":[{"startOffset":9161,"endOffset":9277,"count":0}],"isBlockCoverage":false},{"functionName":"setTimeout","ranges":[{"startOffset":9319,"endOffset":9613,"count":0}],"isBlockCoverage":false},{"functionName":"destroy","ranges":[{"startOffset":9856,"endOffset":10168,"count":0}],"isBlockCoverage":false},{"functionName":"_send","ranges":[{"startOffset":10278,"endOffset":11229,"count":0}],"isBlockCoverage":false},{"functionName":"_writeRaw","ranges":[{"startOffset":11281,"endOffset":12131,"count":0}],"isBlockCoverage":false},{"functionName":"_storeHeader","ranges":[{"startOffset":12189,"endOffset":17091,"count":0}],"isBlockCoverage":false},{"functionName":"processHeader","ranges":[{"startOffset":17093,"endOffset":18206,"count":0}],"isBlockCoverage":false},{"functionName":"storeHeader","ranges":[{"startOffset":18208,"endOffset":18407,"count":0}],"isBlockCoverage":false},{"functionName":"matchHeader","ranges":[{"startOffset":18409,"endOffset":19270,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":19315,"endOffset":19498,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":19546,"endOffset":19858,"count":0}],"isBlockCoverage":false},{"functionName":"parseUniqueHeadersOption","ranges":[{"startOffset":19862,"endOffset":20118,"count":0}],"isBlockCoverage":false},{"functionName":"setHeader","ranges":[{"startOffset":20158,"endOffset":20505,"count":0}],"isBlockCoverage":false},{"functionName":"setHeaders","ranges":[{"startOffset":20547,"endOffset":21554,"count":0}],"isBlockCoverage":false},{"functionName":"appendHeader","ranges":[{"startOffset":21598,"endOffset":22320,"count":0}],"isBlockCoverage":false},{"functionName":"getHeader","ranges":[{"startOffset":22362,"endOffset":22570,"count":0}],"isBlockCoverage":false},{"functionName":"getHeaderNames","ranges":[{"startOffset":22683,"endOffset":22786,"count":0}],"isBlockCoverage":false},{"functionName":"getRawHeaderNames","ranges":[{"startOffset":22906,"endOffset":23307,"count":0}],"isBlockCoverage":false},{"functionName":"getHeaders","ranges":[{"startOffset":23409,"endOffset":23819,"count":0}],"isBlockCoverage":false},{"functionName":"hasHeader","ranges":[{"startOffset":23861,"endOffset":24005,"count":0}],"isBlockCoverage":false},{"functionName":"removeHeader","ranges":[{"startOffset":24050,"endOffset":24601,"count":0}],"isBlockCoverage":false},{"functionName":"_implicitHeader","ranges":[{"startOffset":24649,"endOffset":24740,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":24876,"endOffset":24913,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":25013,"endOffset":25049,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":25153,"endOffset":25235,"count":0}],"isBlockCoverage":false},{"functionName":"write","ranges":[{"startOffset":25314,"endOffset":25567,"count":0}],"isBlockCoverage":false},{"functionName":"onError","ranges":[{"startOffset":25570,"endOffset":25971,"count":0}],"isBlockCoverage":false},{"functionName":"emitErrorNt","ranges":[{"startOffset":25973,"endOffset":26124,"count":0}],"isBlockCoverage":false},{"functionName":"strictContentLength","ranges":[{"startOffset":26126,"endOffset":26360,"count":0}],"isBlockCoverage":false},{"functionName":"write_","ranges":[{"startOffset":26362,"endOffset":28552,"count":0}],"isBlockCoverage":false},{"functionName":"connectionCorkNT","ranges":[{"startOffset":28555,"endOffset":28607,"count":0}],"isBlockCoverage":false},{"functionName":"addTrailers","ranges":[{"startOffset":28649,"endOffset":30055,"count":0}],"isBlockCoverage":false},{"functionName":"onFinish","ranges":[{"startOffset":30058,"endOffset":30178,"count":0}],"isBlockCoverage":false},{"functionName":"end","ranges":[{"startOffset":30212,"endOffset":32174,"count":0}],"isBlockCoverage":false},{"functionName":"_finish","ranges":[{"startOffset":32348,"endOffset":32419,"count":0}],"isBlockCoverage":false},{"functionName":"_flush","ranges":[{"startOffset":33213,"endOffset":33643,"count":0}],"isBlockCoverage":false},{"functionName":"_flushOutput","ranges":[{"startOffset":33687,"endOffset":34440,"count":0}],"isBlockCoverage":false},{"functionName":"flushHeaders","ranges":[{"startOffset":34485,"endOffset":34616,"count":0}],"isBlockCoverage":false},{"functionName":"pipe","ranges":[{"startOffset":34652,"endOffset":34794,"count":0}],"isBlockCoverage":false},{"functionName":"OutgoingMessage.<computed>","ranges":[{"startOffset":34852,"endOffset":34897,"count":0}],"isBlockCoverage":false}]},{"scriptId":"237","url":"node:internal/http","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1156,"count":1}],"isBlockCoverage":false},{"functionName":"utcDate","ranges":[{"startOffset":291,"endOffset":358,"count":0}],"isBlockCoverage":false},{"functionName":"cache","ranges":[{"startOffset":360,"endOffset":493,"count":0}],"isBlockCoverage":false},{"functionName":"resetCache","ranges":[{"startOffset":495,"endOffset":544,"count":0}],"isBlockCoverage":false},{"functionName":"getNextTraceEventId","ranges":[{"startOffset":569,"endOffset":628,"count":0}],"isBlockCoverage":false},{"functionName":"isTraceHTTPEnabled","ranges":[{"startOffset":690,"endOffset":752,"count":0}],"isBlockCoverage":false},{"functionName":"traceBegin","ranges":[{"startOffset":800,"endOffset":888,"count":0}],"isBlockCoverage":false},{"functionName":"traceEnd","ranges":[{"startOffset":890,"endOffset":976,"count":0}],"isBlockCoverage":false}]},{"scriptId":"238","url":"node:_http_server","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":38494,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2711,"endOffset":2736,"count":0}],"isBlockCoverage":false},{"functionName":"HTTPServerAsyncResource","ranges":[{"startOffset":7138,"endOffset":7217,"count":0}],"isBlockCoverage":false},{"functionName":"ServerResponse","ranges":[{"startOffset":7221,"endOffset":8056,"count":0}],"isBlockCoverage":false},{"functionName":"_finish","ranges":[{"startOffset":8223,"endOffset":8868,"count":0}],"isBlockCoverage":false},{"functionName":"onServerResponseClose","ranges":[{"startOffset":8968,"endOffset":9958,"count":0}],"isBlockCoverage":false},{"functionName":"assignSocket","ranges":[{"startOffset":10000,"endOffset":10255,"count":0}],"isBlockCoverage":false},{"functionName":"detachSocket","ranges":[{"startOffset":10298,"endOffset":10480,"count":0}],"isBlockCoverage":false},{"functionName":"writeContinue","ranges":[{"startOffset":10524,"endOffset":10642,"count":0}],"isBlockCoverage":false},{"functionName":"writeProcessing","ranges":[{"startOffset":10688,"endOffset":10786,"count":0}],"isBlockCoverage":false},{"functionName":"writeEarlyHints","ranges":[{"startOffset":10832,"endOffset":11342,"count":0}],"isBlockCoverage":false},{"functionName":"_implicitHeader","ranges":[{"startOffset":11388,"endOffset":11453,"count":0}],"isBlockCoverage":false},{"functionName":"writeHead","ranges":[{"startOffset":11504,"endOffset":14077,"count":0}],"isBlockCoverage":false},{"functionName":"storeHTTPOptions","ranges":[{"startOffset":14188,"endOffset":16995,"count":0}],"isBlockCoverage":false},{"functionName":"setupConnectionsTracking","ranges":[{"startOffset":16997,"endOffset":17571,"count":0}],"isBlockCoverage":false},{"functionName":"httpServerPreClose","ranges":[{"startOffset":17573,"endOffset":17700,"count":0}],"isBlockCoverage":false},{"functionName":"Server","ranges":[{"startOffset":17702,"endOffset":18896,"count":0}],"isBlockCoverage":false},{"functionName":"Server.close","ranges":[{"startOffset":19027,"endOffset":19145,"count":0}],"isBlockCoverage":false},{"functionName":"Server.<computed>","ranges":[{"startOffset":19187,"endOffset":19250,"count":0}],"isBlockCoverage":false},{"functionName":"Server.closeAllConnections","ranges":[{"startOffset":19292,"endOffset":19498,"count":0}],"isBlockCoverage":false},{"functionName":"Server.closeIdleConnections","ranges":[{"startOffset":19541,"endOffset":19865,"count":0}],"isBlockCoverage":false},{"functionName":"setTimeout","ranges":[{"startOffset":19898,"endOffset":20027,"count":0}],"isBlockCoverage":false},{"functionName":"Server.<computed>","ranges":[{"startOffset":20076,"endOffset":20644,"count":0}],"isBlockCoverage":false},{"functionName":"checkConnections","ranges":[{"startOffset":20647,"endOffset":20992,"count":0}],"isBlockCoverage":false},{"functionName":"connectionListener","ranges":[{"startOffset":20994,"endOffset":21139,"count":0}],"isBlockCoverage":false},{"functionName":"connectionListenerInternal","ranges":[{"startOffset":21141,"endOffset":24563,"count":0}],"isBlockCoverage":false},{"functionName":"socketSetEncoding","ranges":[{"startOffset":24565,"endOffset":24637,"count":0}],"isBlockCoverage":false},{"functionName":"updateOutgoingData","ranges":[{"startOffset":24639,"endOffset":24755,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnDrain","ranges":[{"startOffset":24757,"endOffset":25211,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnTimeout","ranges":[{"startOffset":25213,"endOffset":25586,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnClose","ranges":[{"startOffset":25588,"endOffset":25737,"count":0}],"isBlockCoverage":false},{"functionName":"abortIncoming","ranges":[{"startOffset":25739,"endOffset":25926,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnEnd","ranges":[{"startOffset":25928,"endOffset":26450,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnData","ranges":[{"startOffset":26452,"endOffset":26681,"count":0}],"isBlockCoverage":false},{"functionName":"onRequestTimeout","ranges":[{"startOffset":26683,"endOffset":26857,"count":0}],"isBlockCoverage":false},{"functionName":"onParserExecute","ranges":[{"startOffset":26859,"endOffset":27358,"count":0}],"isBlockCoverage":false},{"functionName":"onParserTimeout","ranges":[{"startOffset":27360,"endOffset":27505,"count":0}],"isBlockCoverage":false},{"functionName":"noop","ranges":[{"startOffset":27520,"endOffset":27528,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnError","ranges":[{"startOffset":28081,"endOffset":29150,"count":0}],"isBlockCoverage":false},{"functionName":"onParserExecuteCommon","ranges":[{"startOffset":29152,"endOffset":30773,"count":0}],"isBlockCoverage":false},{"functionName":"clearIncoming","ranges":[{"startOffset":30775,"endOffset":31113,"count":0}],"isBlockCoverage":false},{"functionName":"resOnFinish","ranges":[{"startOffset":31115,"endOffset":32599,"count":0}],"isBlockCoverage":false},{"functionName":"emitCloseNT","ranges":[{"startOffset":32601,"endOffset":32734,"count":0}],"isBlockCoverage":false},{"functionName":"parserOnIncoming","ranges":[{"startOffset":32900,"endOffset":36603,"count":0}],"isBlockCoverage":false},{"functionName":"resetSocketTimeout","ranges":[{"startOffset":36605,"endOffset":36785,"count":0}],"isBlockCoverage":false},{"functionName":"onSocketResume","ranges":[{"startOffset":36787,"endOffset":37309,"count":0}],"isBlockCoverage":false},{"functionName":"onSocketPause","ranges":[{"startOffset":37311,"endOffset":37452,"count":0}],"isBlockCoverage":false},{"functionName":"unconsume","ranges":[{"startOffset":37454,"endOffset":37706,"count":0}],"isBlockCoverage":false},{"functionName":"generateSocketListenerWrapper","ranges":[{"startOffset":37708,"endOffset":38262,"count":0}],"isBlockCoverage":false}]},{"scriptId":"239","url":"file:///root/Development/vultuk/agentrix/repository/src/config/constants.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3369,"count":1}],"isBlockCoverage":true}]},{"scriptId":"240","url":"file:///root/Development/vultuk/agentrix/repository/src/core/workdir.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2580,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"resolveWorkdir","ranges":[{"startOffset":175,"endOffset":577,"count":0}],"isBlockCoverage":false}]},{"scriptId":"241","url":"file:///root/Development/vultuk/agentrix/repository/src/core/terminal-sessions.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":49621,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":31}],"isBlockCoverage":true},{"functionName":"ensureIdleMonitor","ranges":[{"startOffset":567,"endOffset":690,"count":0}],"isBlockCoverage":false},{"functionName":"stopIdleMonitorIfInactive","ranges":[{"startOffset":736,"endOffset":891,"count":0}],"isBlockCoverage":false},{"functionName":"getSessionBucket","ranges":[{"startOffset":953,"endOffset":1116,"count":0}],"isBlockCoverage":false},{"functionName":"addSession","ranges":[{"startOffset":1160,"endOffset":1333,"count":0}],"isBlockCoverage":false},{"functionName":"removeSession","ranges":[{"startOffset":1365,"endOffset":1607,"count":0}],"isBlockCoverage":false},{"functionName":"listSessionsForKey","ranges":[{"startOffset":1645,"endOffset":1773,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseSessionInput","ranges":[{"startOffset":1821,"endOffset":1966,"count":0}],"isBlockCoverage":false},{"functionName":"flushPendingInputs","ranges":[{"startOffset":2020,"endOffset":2308,"count":0}],"isBlockCoverage":false},{"functionName":"noteSessionActivity","ranges":[{"startOffset":2356,"endOffset":2545,"count":0}],"isBlockCoverage":false},{"functionName":"markSessionReady","ranges":[{"startOffset":2595,"endOffset":2792,"count":0}],"isBlockCoverage":false},{"functionName":"queueSessionInput","ranges":[{"startOffset":2836,"endOffset":3264,"count":0}],"isBlockCoverage":false},{"functionName":"trimLogBuffer","ranges":[{"startOffset":3310,"endOffset":3434,"count":0}],"isBlockCoverage":false},{"functionName":"broadcast","ranges":[{"startOffset":3472,"endOffset":3834,"count":0}],"isBlockCoverage":false},{"functionName":"handleSessionOutput","ranges":[{"startOffset":3864,"endOffset":4215,"count":0}],"isBlockCoverage":false},{"functionName":"serialiseSessions","ranges":[{"startOffset":4265,"endOffset":4709,"count":0}],"isBlockCoverage":false},{"functionName":"runIdleSweep","ranges":[{"startOffset":4755,"endOffset":5310,"count":0}],"isBlockCoverage":false},{"functionName":"handleSessionExit","ranges":[{"startOffset":5346,"endOffset":6105,"count":0}],"isBlockCoverage":false},{"functionName":"makeSessionKey","ranges":[{"startOffset":6151,"endOffset":6227,"count":0}],"isBlockCoverage":false},{"functionName":"determineShellArgs","ranges":[{"startOffset":6267,"endOffset":6447,"count":0}],"isBlockCoverage":false},{"functionName":"terminateSession","ranges":[{"startOffset":6495,"endOffset":6861,"count":0}],"isBlockCoverage":false},{"functionName":"disposeSessionByKey","ranges":[{"startOffset":6905,"endOffset":7182,"count":0}],"isBlockCoverage":false},{"functionName":"disposeSessionsForRepository","ranges":[{"startOffset":7232,"endOffset":7665,"count":0}],"isBlockCoverage":false},{"functionName":"disposeSessionById","ranges":[{"startOffset":7733,"endOffset":7940,"count":0}],"isBlockCoverage":false},{"functionName":"disposeAllSessions","ranges":[{"startOffset":7988,"endOffset":8380,"count":0}],"isBlockCoverage":false},{"functionName":"getSessionById","ranges":[{"startOffset":8428,"endOffset":8506,"count":0}],"isBlockCoverage":false},{"functionName":"listActiveSessions","ranges":[{"startOffset":8546,"endOffset":8667,"count":0}],"isBlockCoverage":false},{"functionName":"addSocketWatcher","ranges":[{"startOffset":8715,"endOffset":8883,"count":0}],"isBlockCoverage":false},{"functionName":"spawnTerminalProcess","ranges":[{"startOffset":8927,"endOffset":10268,"count":0}],"isBlockCoverage":false},{"functionName":"createTerminalSession","ranges":[{"startOffset":10320,"endOffset":11262,"count":0}],"isBlockCoverage":false},{"functionName":"getOrCreateTerminalSession","ranges":[{"startOffset":11316,"endOffset":12649,"count":0}],"isBlockCoverage":false},{"functionName":"createIsolatedTerminalSession","ranges":[{"startOffset":12713,"endOffset":12871,"count":0}],"isBlockCoverage":false}]},{"scriptId":"242","url":"file:///root/Development/vultuk/agentrix/repository/src/server/router.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22071,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createRouter","ranges":[{"startOffset":926,"endOffset":5526,"count":0}],"isBlockCoverage":false}]},{"scriptId":"243","url":"file:///root/Development/vultuk/agentrix/repository/src/utils/random.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2399,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"generateSessionToken","ranges":[{"startOffset":277,"endOffset":364,"count":0}],"isBlockCoverage":false},{"functionName":"generateRandomPassword","ranges":[{"startOffset":416,"endOffset":599,"count":0}],"isBlockCoverage":false}]},{"scriptId":"244","url":"file:///root/Development/vultuk/agentrix/repository/src/utils/http.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5489,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":3}],"isBlockCoverage":true},{"functionName":"sendJson","ranges":[{"startOffset":172,"endOffset":379,"count":0}],"isBlockCoverage":false},{"functionName":"handleHeadRequest","ranges":[{"startOffset":407,"endOffset":510,"count":0}],"isBlockCoverage":false},{"functionName":"readJsonBody","ranges":[{"startOffset":623,"endOffset":1121,"count":0}],"isBlockCoverage":false}]},{"scriptId":"245","url":"file:///root/Development/vultuk/agentrix/repository/src/server/websocket.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11401,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"attachTerminalWebSockets","ranges":[{"startOffset":340,"endOffset":2528,"count":0}],"isBlockCoverage":false}]},{"scriptId":"246","url":"file:///root/Development/vultuk/agentrix/repository/src/server/ui.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":21366,"count":1},{"startOffset":1247,"endOffset":1532,"count":0}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":9}],"isBlockCoverage":true},{"functionName":"fallbackLookup","ranges":[{"startOffset":880,"endOffset":994,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1170,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"applyContentType","ranges":[{"startOffset":1532,"endOffset":1798,"count":0}],"isBlockCoverage":false},{"functionName":"setCacheControl","ranges":[{"startOffset":1842,"endOffset":2124,"count":0}],"isBlockCoverage":false},{"functionName":"isPathInside","ranges":[{"startOffset":2166,"endOffset":2330,"count":0}],"isBlockCoverage":false},{"functionName":"serveFile","ranges":[{"startOffset":2366,"endOffset":2628,"count":0}],"isBlockCoverage":false},{"functionName":"createFileProvider","ranges":[{"startOffset":2658,"endOffset":3197,"count":0}],"isBlockCoverage":false},{"functionName":"createDirectoryProvider","ranges":[{"startOffset":3245,"endOffset":5073,"count":0}],"isBlockCoverage":false},{"functionName":"createUiProvider","ranges":[{"startOffset":5131,"endOffset":5585,"count":0}],"isBlockCoverage":false}]},{"scriptId":"247","url":"file:///root/Development/vultuk/agentrix/repository/src/server/cookies.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":632,"count":1}],"isBlockCoverage":true}]},{"scriptId":"248","url":"file:///root/Development/vultuk/agentrix/repository/src/core/auth.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9289,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":3}],"isBlockCoverage":true},{"functionName":"resolveAuthDependencies","ranges":[{"startOffset":442,"endOffset":570,"count":0}],"isBlockCoverage":false},{"functionName":"__setAuthTestOverrides","ranges":[{"startOffset":628,"endOffset":705,"count":0}],"isBlockCoverage":false},{"functionName":"createAuthManager","ranges":[{"startOffset":761,"endOffset":2454,"count":0}],"isBlockCoverage":false}]},{"scriptId":"249","url":"file:///root/Development/vultuk/agentrix/repository/src/config/agent-commands.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7942,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"appendDangerSuffix","ranges":[{"startOffset":747,"endOffset":898,"count":0}],"isBlockCoverage":false},{"functionName":"createAgentCommands","ranges":[{"startOffset":946,"endOffset":2129,"count":0}],"isBlockCoverage":false}]},{"scriptId":"250","url":"file:///root/Development/vultuk/agentrix/repository/src/core/branch-name.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":41934,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":13}],"isBlockCoverage":true},{"functionName":"__setBranchNameTestOverrides","ranges":[{"startOffset":1090,"endOffset":1261,"count":0}],"isBlockCoverage":false},{"functionName":"slugifySegment","ranges":[{"startOffset":1329,"endOffset":1496,"count":0}],"isBlockCoverage":false},{"functionName":"sanitiseCandidate","ranges":[{"startOffset":1536,"endOffset":2197,"count":0}],"isBlockCoverage":false},{"functionName":"buildUserPrompt","ranges":[{"startOffset":2243,"endOffset":2539,"count":0}],"isBlockCoverage":false},{"functionName":"shellQuote","ranges":[{"startOffset":2581,"endOffset":2699,"count":0}],"isBlockCoverage":false},{"functionName":"buildCommandString","ranges":[{"startOffset":2731,"endOffset":3051,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseLlm","ranges":[{"startOffset":3099,"endOffset":3315,"count":0}],"isBlockCoverage":false},{"functionName":"buildPromptText","ranges":[{"startOffset":3351,"endOffset":3584,"count":0}],"isBlockCoverage":false},{"functionName":"executeLlmCommand","ranges":[{"startOffset":3626,"endOffset":6541,"count":0}],"isBlockCoverage":false},{"functionName":"resolveShellInvocation","ranges":[{"startOffset":6587,"endOffset":6918,"count":0}],"isBlockCoverage":false},{"functionName":"resolveBaseCommand","ranges":[{"startOffset":6974,"endOffset":7158,"count":0}],"isBlockCoverage":false},{"functionName":"buildCommandForLlm","ranges":[{"startOffset":7206,"endOffset":7675,"count":0}],"isBlockCoverage":false},{"functionName":"createBranchNameGenerator","ranges":[{"startOffset":7723,"endOffset":10597,"count":0}],"isBlockCoverage":false}]},{"scriptId":"251","url":"file:///root/Development/vultuk/agentrix/repository/src/core/plan.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":43304,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":8}],"isBlockCoverage":true},{"functionName":"shellQuote","ranges":[{"startOffset":2090,"endOffset":2208,"count":0}],"isBlockCoverage":false},{"functionName":"buildCommandString","ranges":[{"startOffset":2240,"endOffset":2562,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseLlm","ranges":[{"startOffset":2610,"endOffset":2826,"count":0}],"isBlockCoverage":false},{"functionName":"resolveShellInvocation","ranges":[{"startOffset":2862,"endOffset":3193,"count":0}],"isBlockCoverage":false},{"functionName":"buildCommandForLlm","ranges":[{"startOffset":3249,"endOffset":3895,"count":0}],"isBlockCoverage":false},{"functionName":"executePlanCommand","ranges":[{"startOffset":3943,"endOffset":7086,"count":0}],"isBlockCoverage":false},{"functionName":"buildPlanPrompt","ranges":[{"startOffset":7134,"endOffset":7570,"count":0}],"isBlockCoverage":false},{"functionName":"createPlanService","ranges":[{"startOffset":7612,"endOffset":11221,"count":0}],"isBlockCoverage":false}]},{"scriptId":"252","url":"file:///root/Development/vultuk/agentrix/repository/src/core/tasks.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":57320,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":22}],"isBlockCoverage":true},{"functionName":"getNowIso","ranges":[{"startOffset":487,"endOffset":688,"count":0}],"isBlockCoverage":false},{"functionName":"getTasksSnapshot","ranges":[{"startOffset":718,"endOffset":802,"count":0}],"isBlockCoverage":false},{"functionName":"logPersistenceError","ranges":[{"startOffset":846,"endOffset":1025,"count":0}],"isBlockCoverage":false},{"functionName":"logPersistenceWarning","ranges":[{"startOffset":1075,"endOffset":1269,"count":0}],"isBlockCoverage":false},{"functionName":"schedulePersistence","ranges":[{"startOffset":1323,"endOffset":2210,"count":0}],"isBlockCoverage":false},{"functionName":"cloneTask","ranges":[{"startOffset":2260,"endOffset":2325,"count":0}],"isBlockCoverage":false},{"functionName":"notify","ranges":[{"startOffset":2355,"endOffset":2417,"count":0}],"isBlockCoverage":false},{"functionName":"appendLog","ranges":[{"startOffset":2441,"endOffset":2695,"count":0}],"isBlockCoverage":false},{"functionName":"ensureStep","ranges":[{"startOffset":2725,"endOffset":3048,"count":0}],"isBlockCoverage":false},{"functionName":"mutateTask","ranges":[{"startOffset":3080,"endOffset":3503,"count":0}],"isBlockCoverage":false},{"functionName":"createProgressController","ranges":[{"startOffset":3535,"endOffset":4577,"count":0}],"isBlockCoverage":false},{"functionName":"pruneExpiredTasks","ranges":[{"startOffset":4637,"endOffset":5101,"count":0}],"isBlockCoverage":false},{"functionName":"runTask","ranges":[{"startOffset":5147,"endOffset":6644,"count":0}],"isBlockCoverage":false},{"functionName":"listTasks","ranges":[{"startOffset":6670,"endOffset":6767,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseTimestamp","ranges":[{"startOffset":6797,"endOffset":7108,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseLogEntry","ranges":[{"startOffset":7156,"endOffset":7660,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseStepSnapshot","ranges":[{"startOffset":7706,"endOffset":8896,"count":0}],"isBlockCoverage":false},{"functionName":"rehydratePersistedTask","ranges":[{"startOffset":8950,"endOffset":11849,"count":0}],"isBlockCoverage":false},{"functionName":"configureTaskPersistence","ranges":[{"startOffset":11905,"endOffset":13360,"count":0}],"isBlockCoverage":false},{"functionName":"getPersistedTasksSnapshot","ranges":[{"startOffset":13420,"endOffset":13483,"count":0}],"isBlockCoverage":false},{"functionName":"flushTaskPersistence","ranges":[{"startOffset":13545,"endOffset":13615,"count":0}],"isBlockCoverage":false},{"functionName":"getTaskById","ranges":[{"startOffset":13667,"endOffset":13782,"count":0}],"isBlockCoverage":false}]},{"scriptId":"253","url":"file:///root/Development/vultuk/agentrix/repository/src/core/task-store.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10190,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":5}],"isBlockCoverage":true},{"functionName":"toError","ranges":[{"startOffset":259,"endOffset":355,"count":0}],"isBlockCoverage":false},{"functionName":"removeFile","ranges":[{"startOffset":381,"endOffset":519,"count":0}],"isBlockCoverage":false},{"functionName":"ensureDirectory","ranges":[{"startOffset":551,"endOffset":623,"count":0}],"isBlockCoverage":false},{"functionName":"writeAtomicJSON","ranges":[{"startOffset":665,"endOffset":977,"count":0}],"isBlockCoverage":false},{"functionName":"createTaskStore","ranges":[{"startOffset":1019,"endOffset":2472,"count":0}],"isBlockCoverage":false}]},{"scriptId":"254","url":"file:///root/Development/vultuk/agentrix/repository/src/api/repos.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6076,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createRepoHandlers","ranges":[{"startOffset":437,"endOffset":1585,"count":0}],"isBlockCoverage":false}]},{"scriptId":"255","url":"file:///root/Development/vultuk/agentrix/repository/src/api/auth.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6103,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"__setAuthTestOverrides","ranges":[{"startOffset":419,"endOffset":584,"count":0}],"isBlockCoverage":false},{"functionName":"createAuthHandlers","ranges":[{"startOffset":640,"endOffset":1461,"count":0}],"isBlockCoverage":false}]},{"scriptId":"256","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12,"count":1}],"isBlockCoverage":true}]},{"scriptId":"257","url":"file:///root/Development/vultuk/agentrix/repository/src/core/git.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3114,"count":1}],"isBlockCoverage":true}]},{"scriptId":"258","url":"file:///root/Development/vultuk/agentrix/repository/src/core/tmux.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16198,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":12}],"isBlockCoverage":true},{"functionName":"detectTmux","ranges":[{"startOffset":356,"endOffset":682,"count":0}],"isBlockCoverage":false},{"functionName":"isTmuxAvailable","ranges":[{"startOffset":714,"endOffset":762,"count":0}],"isBlockCoverage":false},{"functionName":"runTmux","ranges":[{"startOffset":804,"endOffset":913,"count":0}],"isBlockCoverage":false},{"functionName":"sanitiseTmuxComponent","ranges":[{"startOffset":939,"endOffset":1225,"count":0}],"isBlockCoverage":false},{"functionName":"makeTmuxSessionName","ranges":[{"startOffset":1279,"endOffset":1547,"count":0}],"isBlockCoverage":false},{"functionName":"parseTmuxSessionName","ranges":[{"startOffset":1597,"endOffset":1951,"count":0}],"isBlockCoverage":false},{"functionName":"makeSanitisedSessionKey","ranges":[{"startOffset":2003,"endOffset":2253,"count":0}],"isBlockCoverage":false},{"functionName":"buildSanitisedWorktreeLookup","ranges":[{"startOffset":2311,"endOffset":2841,"count":0}],"isBlockCoverage":false},{"functionName":"tmuxTarget","ranges":[{"startOffset":2909,"endOffset":2966,"count":0}],"isBlockCoverage":false},{"functionName":"tmuxHasSession","ranges":[{"startOffset":2998,"endOffset":3203,"count":0}],"isBlockCoverage":false},{"functionName":"tmuxKillSession","ranges":[{"startOffset":3243,"endOffset":3432,"count":0}],"isBlockCoverage":false},{"functionName":"tmuxKillSessionsForRepository","ranges":[{"startOffset":3474,"endOffset":4044,"count":0}],"isBlockCoverage":false}]},{"scriptId":"259","url":"file:///root/Development/vultuk/agentrix/repository/src/core/event-bus.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8955,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":17}],"isBlockCoverage":true},{"functionName":"on","ranges":[{"startOffset":138,"endOffset":404,"count":0}],"isBlockCoverage":false},{"functionName":"emit","ranges":[{"startOffset":420,"endOffset":637,"count":0}],"isBlockCoverage":false},{"functionName":"createEventPair","ranges":[{"startOffset":766,"endOffset":920,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":821,"endOffset":847,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":873,"endOffset":905,"count":0}],"isBlockCoverage":false},{"functionName":"emitReposUpdate","ranges":[{"startOffset":1160,"endOffset":1219,"count":0}],"isBlockCoverage":false},{"functionName":"onReposUpdate","ranges":[{"startOffset":1261,"endOffset":1338,"count":0}],"isBlockCoverage":false},{"functionName":"emitSessionsUpdate","ranges":[{"startOffset":1376,"endOffset":1441,"count":0}],"isBlockCoverage":false},{"functionName":"onSessionsUpdate","ranges":[{"startOffset":1489,"endOffset":1572,"count":0}],"isBlockCoverage":false},{"functionName":"emitTasksUpdate","ranges":[{"startOffset":1616,"endOffset":1675,"count":0}],"isBlockCoverage":false},{"functionName":"onTasksUpdate","ranges":[{"startOffset":1717,"endOffset":1794,"count":0}],"isBlockCoverage":false},{"functionName":"getEventTypes","ranges":[{"startOffset":1832,"endOffset":1875,"count":0}],"isBlockCoverage":false},{"functionName":"subscribeToEvents","ranges":[{"startOffset":1913,"endOffset":1982,"count":0}],"isBlockCoverage":false}]},{"scriptId":"260","url":"file:///root/Development/vultuk/agentrix/repository/src/api/automation.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":27141,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":6}],"isBlockCoverage":true},{"functionName":"__setAutomationTestOverrides","ranges":[{"startOffset":1101,"endOffset":1312,"count":0}],"isBlockCoverage":false},{"functionName":"ensureRepositoryExists","ranges":[{"startOffset":1380,"endOffset":1908,"count":0}],"isBlockCoverage":false},{"functionName":"ensureWorktreeExists","ranges":[{"startOffset":1964,"endOffset":2482,"count":0}],"isBlockCoverage":false},{"functionName":"resetAutomationPlanMetrics","ranges":[{"startOffset":2689,"endOffset":2865,"count":0}],"isBlockCoverage":false},{"functionName":"finishMetrics","ranges":[{"startOffset":2929,"endOffset":3125,"count":0}],"isBlockCoverage":false},{"functionName":"createAutomationHandlers","ranges":[{"startOffset":3163,"endOffset":6774,"count":0}],"isBlockCoverage":false}]},{"scriptId":"261","url":"file:///root/Development/vultuk/agentrix/repository/src/api/repo-dashboard.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6549,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createRepoDashboardHandlers","ranges":[{"startOffset":444,"endOffset":1651,"count":0}],"isBlockCoverage":false}]},{"scriptId":"262","url":"file:///root/Development/vultuk/agentrix/repository/src/api/repo-issue.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5834,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createRepoIssueHandlers","ranges":[{"startOffset":440,"endOffset":1472,"count":0}],"isBlockCoverage":false}]},{"scriptId":"263","url":"file:///root/Development/vultuk/agentrix/repository/src/api/sessions.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3086,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createSessionHandlers","ranges":[{"startOffset":287,"endOffset":782,"count":0}],"isBlockCoverage":false}]},{"scriptId":"264","url":"file:///root/Development/vultuk/agentrix/repository/src/api/terminal.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3088,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createTerminalHandlers","ranges":[{"startOffset":293,"endOffset":781,"count":0}],"isBlockCoverage":false}]},{"scriptId":"265","url":"file:///root/Development/vultuk/agentrix/repository/src/api/worktrees.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3735,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createWorktreeHandlers","ranges":[{"startOffset":297,"endOffset":952,"count":0}],"isBlockCoverage":false}]},{"scriptId":"266","url":"file:///root/Development/vultuk/agentrix/repository/src/api/git-status.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9582,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":3}],"isBlockCoverage":true},{"functionName":"__setGitStatusTestOverrides","ranges":[{"startOffset":487,"endOffset":657,"count":0}],"isBlockCoverage":false},{"functionName":"parseOptionalInteger","ranges":[{"startOffset":723,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"createGitStatusHandlers","ranges":[{"startOffset":1031,"endOffset":2468,"count":0}],"isBlockCoverage":false}]},{"scriptId":"267","url":"file:///root/Development/vultuk/agentrix/repository/src/api/config.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2086,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createConfigHandlers","ranges":[{"startOffset":165,"endOffset":541,"count":0}],"isBlockCoverage":false}]},{"scriptId":"268","url":"file:///root/Development/vultuk/agentrix/repository/src/api/create-plan.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10852,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"__setCreatePlanTestOverrides","ranges":[{"startOffset":300,"endOffset":471,"count":0}],"isBlockCoverage":false},{"functionName":"createPlanHandlers","ranges":[{"startOffset":539,"endOffset":2720,"count":0}],"isBlockCoverage":false}]},{"scriptId":"269","url":"file:///root/Development/vultuk/agentrix/repository/src/api/plans.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11582,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"__setPlansTestOverrides","ranges":[{"startOffset":602,"endOffset":768,"count":0}],"isBlockCoverage":false},{"functionName":"parseCommonParams","ranges":[{"startOffset":826,"endOffset":1471,"count":0}],"isBlockCoverage":false},{"functionName":"handleResolutionError","ranges":[{"startOffset":1517,"endOffset":1779,"count":0}],"isBlockCoverage":false},{"functionName":"createPlanArtifactHandlers","ranges":[{"startOffset":1833,"endOffset":2935,"count":0}],"isBlockCoverage":false}]},{"scriptId":"270","url":"file:///root/Development/vultuk/agentrix/repository/src/server/events.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13444,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":3}],"isBlockCoverage":true},{"functionName":"writeEvent","ranges":[{"startOffset":363,"endOffset":526,"count":0}],"isBlockCoverage":false},{"functionName":"sendInitialSnapshots","ranges":[{"startOffset":558,"endOffset":1529,"count":0}],"isBlockCoverage":false},{"functionName":"createEventStreamHandler","ranges":[{"startOffset":1581,"endOffset":3255,"count":0}],"isBlockCoverage":false}]},{"scriptId":"271","url":"file:///root/Development/vultuk/agentrix/repository/src/api/tasks.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3611,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createTaskHandlers","ranges":[{"startOffset":256,"endOffset":860,"count":0}],"isBlockCoverage":false}]},{"scriptId":"272","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/wrapper.mjs","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":341,"count":1}],"isBlockCoverage":true}]},{"scriptId":"273","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1472,"count":1}],"isBlockCoverage":true}]},{"scriptId":"274","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1229,"count":1}],"isBlockCoverage":true}]},{"scriptId":"275","url":"file:///root/Development/vultuk/agentrix/repository/src/utils/cookies.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":874,"count":1}],"isBlockCoverage":true}]},{"scriptId":"276","url":"file:///root/Development/vultuk/agentrix/repository/src/config/developer-messages.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4250,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"getDeveloperMessagePath","ranges":[{"startOffset":253,"endOffset":421,"count":0}],"isBlockCoverage":false},{"functionName":"loadDeveloperMessage","ranges":[{"startOffset":479,"endOffset":1081,"count":0}],"isBlockCoverage":false}]},{"scriptId":"277","url":"file:///root/Development/vultuk/agentrix/repository/src/services/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1984,"count":1}],"isBlockCoverage":true}]},{"scriptId":"278","url":"file:///root/Development/vultuk/agentrix/repository/src/api/base-handler.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8563,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"__setBaseHandlerTestOverrides","ranges":[{"startOffset":298,"endOffset":470,"count":0}],"isBlockCoverage":false},{"functionName":"createHandler","ranges":[{"startOffset":540,"endOffset":1008,"count":0}],"isBlockCoverage":false},{"functionName":"createSimpleHandler","ranges":[{"startOffset":1046,"endOffset":1211,"count":0}],"isBlockCoverage":false},{"functionName":"createQueryHandler","ranges":[{"startOffset":1261,"endOffset":1544,"count":0}],"isBlockCoverage":false}]},{"scriptId":"279","url":"file:///root/Development/vultuk/agentrix/repository/src/validation/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2939,"count":1}],"isBlockCoverage":true}]},{"scriptId":"280","url":"file:///root/Development/vultuk/agentrix/repository/src/domain/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1572,"count":1}],"isBlockCoverage":true}]},{"scriptId":"281","url":"file:///root/Development/vultuk/agentrix/repository/src/repositories/worktree-repository.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":35201,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":10}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":476,"endOffset":770,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":513,"endOffset":552,"count":1}],"isBlockCoverage":true},{"functionName":"listWorktrees","ranges":[{"startOffset":770,"endOffset":1624,"count":0}],"isBlockCoverage":false},{"functionName":"countLocalWorktrees","ranges":[{"startOffset":1662,"endOffset":1956,"count":0}],"isBlockCoverage":false},{"functionName":"branchExists","ranges":[{"startOffset":2006,"endOffset":2223,"count":0}],"isBlockCoverage":false},{"functionName":"internalRunRepositoryInitCommand","ranges":[{"startOffset":2259,"endOffset":3617,"count":0}],"isBlockCoverage":false},{"functionName":"runRepositoryInitCommand","ranges":[{"startOffset":3759,"endOffset":3887,"count":0}],"isBlockCoverage":false},{"functionName":"__setWorktreeRepositoryTestOverrides","ranges":[{"startOffset":3947,"endOffset":4103,"count":0}],"isBlockCoverage":false},{"functionName":"createWorktree","ranges":[{"startOffset":4187,"endOffset":7723,"count":0}],"isBlockCoverage":false},{"functionName":"getWorktreePath","ranges":[{"startOffset":7763,"endOffset":8133,"count":0}],"isBlockCoverage":false},{"functionName":"removeWorktree","ranges":[{"startOffset":8175,"endOffset":8839,"count":0}],"isBlockCoverage":false}]},{"scriptId":"282","url":"file:///root/Development/vultuk/agentrix/repository/src/repositories/repository-repository.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":19143,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":5}],"isBlockCoverage":true},{"functionName":"resolveRepositoryRepositoryDependency","ranges":[{"startOffset":711,"endOffset":921,"count":0}],"isBlockCoverage":false},{"functionName":"__setRepositoryRepositoryTestOverrides","ranges":[{"startOffset":1007,"endOffset":1116,"count":0}],"isBlockCoverage":false},{"functionName":"ensureRepository","ranges":[{"startOffset":1204,"endOffset":1797,"count":0}],"isBlockCoverage":false},{"functionName":"cloneRepository","ranges":[{"startOffset":1841,"endOffset":3090,"count":0}],"isBlockCoverage":false},{"functionName":"discoverRepositories","ranges":[{"startOffset":3132,"endOffset":4558,"count":0}],"isBlockCoverage":false}]},{"scriptId":"283","url":"file:///root/Development/vultuk/agentrix/repository/src/core/agents.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12667,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":6}],"isBlockCoverage":true},{"functionName":"resolveDependencies","ranges":[{"startOffset":407,"endOffset":525,"count":0}],"isBlockCoverage":false},{"functionName":"__setAgentsTestOverrides","ranges":[{"startOffset":575,"endOffset":655,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseTerminalInput","ranges":[{"startOffset":715,"endOffset":925,"count":0}],"isBlockCoverage":false},{"functionName":"shellQuote","ranges":[{"startOffset":981,"endOffset":1142,"count":0}],"isBlockCoverage":false},{"functionName":"preparePromptEnvironment","ranges":[{"startOffset":1174,"endOffset":1766,"count":0}],"isBlockCoverage":false},{"functionName":"launchAgentProcess","ranges":[{"startOffset":1826,"endOffset":3127,"count":0}],"isBlockCoverage":false}]},{"scriptId":"284","url":"file:///root/Development/vultuk/agentrix/repository/src/repositories/git-status-repository.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":58061,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":14}],"isBlockCoverage":true},{"functionName":"pathExists","ranges":[{"startOffset":721,"endOffset":887,"count":0}],"isBlockCoverage":false},{"functionName":"readTextFile","ranges":[{"startOffset":919,"endOffset":1113,"count":0}],"isBlockCoverage":false},{"functionName":"describeStatusSymbol","ranges":[{"startOffset":1149,"endOffset":1273,"count":0}],"isBlockCoverage":false},{"functionName":"parseBranchSummary","ranges":[{"startOffset":1325,"endOffset":2617,"count":0}],"isBlockCoverage":false},{"functionName":"parseFileStatuses","ranges":[{"startOffset":2665,"endOffset":4269,"count":0}],"isBlockCoverage":false},{"functionName":"resolveRemoteDefaultHead","ranges":[{"startOffset":4315,"endOffset":4574,"count":0}],"isBlockCoverage":false},{"functionName":"refExists","ranges":[{"startOffset":4634,"endOffset":4857,"count":0}],"isBlockCoverage":false},{"functionName":"resolveBaselineRef","ranges":[{"startOffset":4887,"endOffset":5496,"count":0}],"isBlockCoverage":false},{"functionName":"detectInProgressOperations","ranges":[{"startOffset":5544,"endOffset":7816,"count":0}],"isBlockCoverage":false},{"functionName":"parseRecentCommits","ranges":[{"startOffset":7880,"endOffset":8317,"count":0}],"isBlockCoverage":false},{"functionName":"getWorktreeStatus","ranges":[{"startOffset":8365,"endOffset":10924,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseGitPath","ranges":[{"startOffset":10970,"endOffset":11480,"count":0}],"isBlockCoverage":false},{"functionName":"resolveDiffMode","ranges":[{"startOffset":11524,"endOffset":11828,"count":0}],"isBlockCoverage":false},{"functionName":"getWorktreeFileDiff","ranges":[{"startOffset":11870,"endOffset":14413,"count":0}],"isBlockCoverage":false}]},{"scriptId":"285","url":"file:///root/Development/vultuk/agentrix/repository/src/core/automation/git-orchestration.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6733,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"ensureRepositoryReady","ranges":[{"startOffset":182,"endOffset":385,"count":0}],"isBlockCoverage":false},{"functionName":"ensureWorktreeReady","ranges":[{"startOffset":439,"endOffset":693,"count":0}],"isBlockCoverage":false},{"functionName":"refreshRepositoryViews","ranges":[{"startOffset":743,"endOffset":833,"count":0}],"isBlockCoverage":false},{"functionName":"createGitOrchestrator","ranges":[{"startOffset":889,"endOffset":1344,"count":0}],"isBlockCoverage":false}]},{"scriptId":"286","url":"file:///root/Development/vultuk/agentrix/repository/src/core/automation/task-runner.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":27698,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"runAutomationTask","ranges":[{"startOffset":605,"endOffset":6368,"count":0}],"isBlockCoverage":false}]},{"scriptId":"287","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/logging/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":559,"count":1}],"isBlockCoverage":true}]},{"scriptId":"288","url":"file:///root/Development/vultuk/agentrix/repository/src/core/automation/request-validation.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":17314,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":9}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":157,"endOffset":390,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":200,"endOffset":245,"count":1}],"isBlockCoverage":true},{"functionName":"extractApiKey","ranges":[{"startOffset":390,"endOffset":750,"count":0}],"isBlockCoverage":false},{"functionName":"parseRequestPayload","ranges":[{"startOffset":788,"endOffset":1039,"count":0}],"isBlockCoverage":false},{"functionName":"parsePlanFlag","ranges":[{"startOffset":1089,"endOffset":1255,"count":0}],"isBlockCoverage":false},{"functionName":"validatePrompt","ranges":[{"startOffset":1293,"endOffset":1473,"count":0}],"isBlockCoverage":false},{"functionName":"parseRepoIdentifier","ranges":[{"startOffset":1513,"endOffset":1942,"count":0}],"isBlockCoverage":false},{"functionName":"sanitiseWorktreeDescriptor","ranges":[{"startOffset":1992,"endOffset":2987,"count":0}],"isBlockCoverage":false},{"functionName":"resolveAgentCommand","ranges":[{"startOffset":3051,"endOffset":3631,"count":0}],"isBlockCoverage":false},{"functionName":"validateAutomationRequest","ranges":[{"startOffset":3681,"endOffset":4497,"count":0}],"isBlockCoverage":false}]},{"scriptId":"289","url":"file:///root/Development/vultuk/agentrix/repository/src/core/automation/branch.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5023,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"resolveBranchName","ranges":[{"startOffset":263,"endOffset":1199,"count":0}],"isBlockCoverage":false}]},{"scriptId":"290","url":"file:///root/Development/vultuk/agentrix/repository/src/core/automation/plan.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4023,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"generatePlanText","ranges":[{"startOffset":174,"endOffset":906,"count":0}],"isBlockCoverage":false}]},{"scriptId":"291","url":"file:///root/Development/vultuk/agentrix/repository/src/core/github.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":28598,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":6}],"isBlockCoverage":true},{"functionName":"createGithubError","ranges":[{"startOffset":292,"endOffset":406,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseRepo","ranges":[{"startOffset":452,"endOffset":772,"count":0}],"isBlockCoverage":false},{"functionName":"parseJsonArray","ranges":[{"startOffset":810,"endOffset":1100,"count":0}],"isBlockCoverage":false},{"functionName":"parseJsonObject","ranges":[{"startOffset":1140,"endOffset":1493,"count":0}],"isBlockCoverage":false},{"functionName":"runGh","ranges":[{"startOffset":1535,"endOffset":2249,"count":0}],"isBlockCoverage":false},{"functionName":"createGithubClient","ranges":[{"startOffset":2271,"endOffset":7371,"count":0}],"isBlockCoverage":false}]},{"scriptId":"292","url":"file:///root/Development/vultuk/agentrix/repository/src/services/session-service.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16819,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":5}],"isBlockCoverage":true},{"functionName":"resolveSessionServiceDependency","ranges":[{"startOffset":591,"endOffset":783,"count":0}],"isBlockCoverage":false},{"functionName":"__setSessionServiceTestOverrides","ranges":[{"startOffset":857,"endOffset":954,"count":0}],"isBlockCoverage":false},{"functionName":"isFiniteNumber","ranges":[{"startOffset":1030,"endOffset":1116,"count":0}],"isBlockCoverage":false},{"functionName":"SessionService","ranges":[{"startOffset":1177,"endOffset":1219,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":1219,"endOffset":1256,"count":1}],"isBlockCoverage":true},{"functionName":"listSessions","ranges":[{"startOffset":1256,"endOffset":3313,"count":0}],"isBlockCoverage":false},{"functionName":"discoverTmuxSessions","ranges":[{"startOffset":3313,"endOffset":3871,"count":0}],"isBlockCoverage":false},{"functionName":"createSessionService","ranges":[{"startOffset":3872,"endOffset":3946,"count":0}],"isBlockCoverage":false}]},{"scriptId":"293","url":"file:///root/Development/vultuk/agentrix/repository/src/core/plan-storage.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":26323,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":9}],"isBlockCoverage":true},{"functionName":"formatTimestampPart","ranges":[{"startOffset":326,"endOffset":685,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseBranchName","ranges":[{"startOffset":735,"endOffset":925,"count":0}],"isBlockCoverage":false},{"functionName":"ensureTrailingNewline","ranges":[{"startOffset":975,"endOffset":1055,"count":0}],"isBlockCoverage":false},{"functionName":"gitAddPlans","ranges":[{"startOffset":1147,"endOffset":1234,"count":0}],"isBlockCoverage":false},{"functionName":"parsePlanFilename","ranges":[{"startOffset":1268,"endOffset":2264,"count":0}],"isBlockCoverage":false},{"functionName":"prunePlans","ranges":[{"startOffset":2310,"endOffset":2980,"count":0}],"isBlockCoverage":false},{"functionName":"savePlanToWorktree","ranges":[{"startOffset":3012,"endOffset":4570,"count":0}],"isBlockCoverage":false},{"functionName":"listPlansForWorktree","ranges":[{"startOffset":4618,"endOffset":5543,"count":0}],"isBlockCoverage":false},{"functionName":"readPlanFromWorktree","ranges":[{"startOffset":5595,"endOffset":6508,"count":0}],"isBlockCoverage":false}]},{"scriptId":"294","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/http-error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3784,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":114,"endOffset":442,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":144,"endOffset":176,"count":1}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":486,"endOffset":528,"count":1}],"isBlockCoverage":true},{"functionName":"InternalServerError","ranges":[{"startOffset":528,"endOffset":609,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":658,"endOffset":704,"count":1}],"isBlockCoverage":true},{"functionName":"ServiceUnavailableError","ranges":[{"startOffset":704,"endOffset":783,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":824,"endOffset":862,"count":1}],"isBlockCoverage":true},{"functionName":"BadGatewayError","ranges":[{"startOffset":862,"endOffset":933,"count":0}],"isBlockCoverage":false}]},{"scriptId":"295","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/validation-error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2942,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":3}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":193,"endOffset":231,"count":1}],"isBlockCoverage":true},{"functionName":"ValidationError","ranges":[{"startOffset":231,"endOffset":288,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":331,"endOffset":371,"count":1}],"isBlockCoverage":true},{"functionName":"UnauthorizedError","ranges":[{"startOffset":371,"endOffset":454,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":455,"endOffset":790,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":501,"endOffset":545,"count":1}],"isBlockCoverage":true}]},{"scriptId":"296","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13,"count":1}],"isBlockCoverage":true}]},{"scriptId":"297","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8,"count":1}],"isBlockCoverage":true}]},{"scriptId":"298","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8,"count":1}],"isBlockCoverage":true}]},{"scriptId":"299","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6,"count":1}],"isBlockCoverage":true}]},{"scriptId":"300","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8,"count":4}],"isBlockCoverage":true}]},{"scriptId":"301","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8,"count":1}],"isBlockCoverage":true}]},{"scriptId":"302","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13,"count":1}],"isBlockCoverage":true}]},{"scriptId":"303","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22,"count":1}],"isBlockCoverage":true}]},{"scriptId":"304","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":15,"count":1}],"isBlockCoverage":true}]},{"scriptId":"305","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13,"count":1}],"isBlockCoverage":true}]},{"scriptId":"306","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13,"count":1}],"isBlockCoverage":true}]},{"scriptId":"307","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":22,"count":3}],"isBlockCoverage":true}]},{"scriptId":"308","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13,"count":3}],"isBlockCoverage":true}]},{"scriptId":"309","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":15,"count":1}],"isBlockCoverage":true}]},{"scriptId":"310","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14,"count":1}],"isBlockCoverage":true}]},{"scriptId":"311","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/not-found-error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1410,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":191,"endOffset":227,"count":1}],"isBlockCoverage":true},{"functionName":"NotFoundError","ranges":[{"startOffset":227,"endOffset":383,"count":0}],"isBlockCoverage":false}]},{"scriptId":"312","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8,"count":2}],"isBlockCoverage":true}]},{"scriptId":"313","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14,"count":2}],"isBlockCoverage":true}]},{"scriptId":"314","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":15,"count":2}],"isBlockCoverage":true}]},{"scriptId":"315","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/error-handler.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7497,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":7}],"isBlockCoverage":true},{"functionName":"isHttpError","ranges":[{"startOffset":195,"endOffset":257,"count":0}],"isBlockCoverage":false},{"functionName":"hasStatusCode","ranges":[{"startOffset":291,"endOffset":424,"count":0}],"isBlockCoverage":false},{"functionName":"isError","ranges":[{"startOffset":462,"endOffset":516,"count":0}],"isBlockCoverage":false},{"functionName":"extractErrorMessage","ranges":[{"startOffset":542,"endOffset":874,"count":0}],"isBlockCoverage":false},{"functionName":"handleError","ranges":[{"startOffset":924,"endOffset":1313,"count":0}],"isBlockCoverage":false},{"functionName":"asyncHandler","ranges":[{"startOffset":1347,"endOffset":1474,"count":0}],"isBlockCoverage":false},{"functionName":"errorMiddleware","ranges":[{"startOffset":1510,"endOffset":1618,"count":0}],"isBlockCoverage":false}]},{"scriptId":"316","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-parser.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7561,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"parseCookies","ranges":[{"startOffset":114,"endOffset":407,"count":0}],"isBlockCoverage":false},{"functionName":"serializeCookie","ranges":[{"startOffset":443,"endOffset":951,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":993,"endOffset":1321,"count":0}],"isBlockCoverage":false},{"functionName":"clearCookie","ranges":[{"startOffset":1351,"endOffset":1472,"count":0}],"isBlockCoverage":false}]},{"scriptId":"317","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8,"count":1}],"isBlockCoverage":true}]},{"scriptId":"318","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7,"count":1}],"isBlockCoverage":true}]},{"scriptId":"319","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6,"count":1}],"isBlockCoverage":true}]},{"scriptId":"320","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5,"count":1}],"isBlockCoverage":true}]},{"scriptId":"321","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5,"count":1}],"isBlockCoverage":true}]},{"scriptId":"322","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5,"count":1}],"isBlockCoverage":true}]},{"scriptId":"323","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12,"count":1}],"isBlockCoverage":true}]},{"scriptId":"324","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10,"count":1}],"isBlockCoverage":true}]},{"scriptId":"325","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16,"count":1}],"isBlockCoverage":true}]},{"scriptId":"326","url":"","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13,"count":1}],"isBlockCoverage":true}]},{"scriptId":"327","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-manager.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2235,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"createCookieManager","ranges":[{"startOffset":170,"endOffset":409,"count":0}],"isBlockCoverage":false}]},{"scriptId":"328","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-security.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3666,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":1}],"isBlockCoverage":true},{"functionName":"determineSecureCookie","ranges":[{"startOffset":114,"endOffset":730,"count":0}],"isBlockCoverage":false}]},{"scriptId":"329","url":"file:///root/Development/vultuk/agentrix/repository/src/services/repository-service.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10287,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"resolveRepositoryServiceDependency","ranges":[{"startOffset":605,"endOffset":806,"count":0}],"isBlockCoverage":false},{"functionName":"__setRepositoryServiceTestOverrides","ranges":[{"startOffset":886,"endOffset":989,"count":0}],"isBlockCoverage":false},{"functionName":"RepositoryService","ranges":[{"startOffset":1095,"endOffset":1137,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":1137,"endOffset":1177,"count":1}],"isBlockCoverage":true},{"functionName":"listRepositories","ranges":[{"startOffset":1177,"endOffset":1312,"count":0}],"isBlockCoverage":false},{"functionName":"addRepository","ranges":[{"startOffset":1312,"endOffset":1638,"count":0}],"isBlockCoverage":false},{"functionName":"deleteRepository","ranges":[{"startOffset":1638,"endOffset":1885,"count":0}],"isBlockCoverage":false},{"functionName":"updateInitCommand","ranges":[{"startOffset":1885,"endOffset":2274,"count":0}],"isBlockCoverage":false},{"functionName":"createRepositoryService","ranges":[{"startOffset":2275,"endOffset":2355,"count":0}],"isBlockCoverage":false}]},{"scriptId":"330","url":"file:///root/Development/vultuk/agentrix/repository/src/services/worktree-service.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":23528,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"WorktreeService","ranges":[{"startOffset":917,"endOffset":1089,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":1089,"endOffset":1127,"count":1}],"isBlockCoverage":true},{"functionName":"createWorktree","ranges":[{"startOffset":1127,"endOffset":4576,"count":0}],"isBlockCoverage":false},{"functionName":"deleteWorktree","ranges":[{"startOffset":4576,"endOffset":5499,"count":0}],"isBlockCoverage":false},{"functionName":"createWorktreeService","ranges":[{"startOffset":5500,"endOffset":5656,"count":0}],"isBlockCoverage":false}]},{"scriptId":"331","url":"file:///root/Development/vultuk/agentrix/repository/src/services/terminal-service.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12137,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":4}],"isBlockCoverage":true},{"functionName":"resolveTerminalServiceDependency","ranges":[{"startOffset":482,"endOffset":677,"count":0}],"isBlockCoverage":false},{"functionName":"__setTerminalServiceTestOverrides","ranges":[{"startOffset":753,"endOffset":852,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":930,"endOffset":2764,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":1066,"endOffset":1104,"count":1}],"isBlockCoverage":true},{"functionName":"createTerminalService","ranges":[{"startOffset":2764,"endOffset":2859,"count":0}],"isBlockCoverage":false}]},{"scriptId":"332","url":"file:///root/Development/vultuk/agentrix/repository/src/repositories/git-repository.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12318,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":8}],"isBlockCoverage":true},{"functionName":"resolveExecFileAsync","ranges":[{"startOffset":264,"endOffset":360,"count":0}],"isBlockCoverage":false},{"functionName":"__setGitRepositoryTestOverrides","ranges":[{"startOffset":412,"endOffset":507,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":675,"endOffset":1411,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":711,"endOffset":749,"count":1}],"isBlockCoverage":true},{"functionName":"executeGitCommand","ranges":[{"startOffset":1411,"endOffset":1748,"count":0}],"isBlockCoverage":false},{"functionName":"executeGitCommandInRepo","ranges":[{"startOffset":1794,"endOffset":1979,"count":0}],"isBlockCoverage":false},{"functionName":"extractGitErrorMessage","ranges":[{"startOffset":2037,"endOffset":2347,"count":0}],"isBlockCoverage":false},{"functionName":"isNotFoundError","ranges":[{"startOffset":2403,"endOffset":2538,"count":0}],"isBlockCoverage":false},{"functionName":"isConflictError","ranges":[{"startOffset":2580,"endOffset":2706,"count":0}],"isBlockCoverage":false}]},{"scriptId":"333","url":"file:///root/Development/vultuk/agentrix/repository/src/core/repository-config.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7732,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":7}],"isBlockCoverage":true},{"functionName":"getConfigPath","ranges":[{"startOffset":267,"endOffset":431,"count":0}],"isBlockCoverage":false},{"functionName":"sanitiseConfig","ranges":[{"startOffset":469,"endOffset":615,"count":0}],"isBlockCoverage":false},{"functionName":"loadRepositoryConfig","ranges":[{"startOffset":655,"endOffset":1188,"count":0}],"isBlockCoverage":false},{"functionName":"updateRepositoryConfig","ranges":[{"startOffset":1240,"endOffset":1599,"count":0}],"isBlockCoverage":false},{"functionName":"getRepositoryInitCommand","ranges":[{"startOffset":1655,"endOffset":1785,"count":0}],"isBlockCoverage":false},{"functionName":"setRepositoryInitCommand","ranges":[{"startOffset":1845,"endOffset":1961,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseInitCommand","ranges":[{"startOffset":2021,"endOffset":2105,"count":0}],"isBlockCoverage":false}]},{"scriptId":"334","url":"file:///root/Development/vultuk/agentrix/repository/src/core/default-branch.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7898,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":3}],"isBlockCoverage":true},{"functionName":"parseRef","ranges":[{"startOffset":248,"endOffset":432,"count":0}],"isBlockCoverage":false},{"functionName":"resolveDefaultBranch","ranges":[{"startOffset":460,"endOffset":1205,"count":0}],"isBlockCoverage":false},{"functionName":"selectDefaultBranchOverride","ranges":[{"startOffset":1257,"endOffset":1803,"count":0}],"isBlockCoverage":false}]},{"scriptId":"335","url":"file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/repository-schema.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4151,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":3}],"isBlockCoverage":true},{"functionName":"validateRepositoryCreate","ranges":[{"startOffset":201,"endOffset":502,"count":0}],"isBlockCoverage":false},{"functionName":"validateRepositoryDelete","ranges":[{"startOffset":562,"endOffset":653,"count":0}],"isBlockCoverage":false},{"functionName":"validateInitCommandUpdate","ranges":[{"startOffset":713,"endOffset":941,"count":0}],"isBlockCoverage":false}]},{"scriptId":"336","url":"file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/worktree-schema.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3607,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"validateWorktreeCreate","ranges":[{"startOffset":168,"endOffset":607,"count":0}],"isBlockCoverage":false},{"functionName":"validateWorktreeDelete","ranges":[{"startOffset":663,"endOffset":801,"count":0}],"isBlockCoverage":false}]},{"scriptId":"337","url":"file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/terminal-schema.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5521,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"validateTerminalOpen","ranges":[{"startOffset":250,"endOffset":1012,"count":0}],"isBlockCoverage":false},{"functionName":"validateTerminalSend","ranges":[{"startOffset":1064,"endOffset":1363,"count":0}],"isBlockCoverage":false}]},{"scriptId":"338","url":"file:///root/Development/vultuk/agentrix/repository/src/domain/git-url-parser.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7328,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"parseRepositoryUrl","ranges":[{"startOffset":114,"endOffset":1223,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":1271,"endOffset":1518,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":1284,"endOffset":1313,"count":1}],"isBlockCoverage":true}]},{"scriptId":"339","url":"file:///root/Development/vultuk/agentrix/repository/src/domain/branch-validator.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6385,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":5}],"isBlockCoverage":true},{"functionName":"normalizeBranchName","ranges":[{"startOffset":114,"endOffset":210,"count":0}],"isBlockCoverage":false},{"functionName":"sanitizeBranchName","ranges":[{"startOffset":260,"endOffset":331,"count":0}],"isBlockCoverage":false},{"functionName":"deriveWorktreeFolderName","ranges":[{"startOffset":379,"endOffset":700,"count":0}],"isBlockCoverage":false},{"functionName":"validateBranchName","ranges":[{"startOffset":760,"endOffset":922,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":970,"endOffset":1367,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":987,"endOffset":1020,"count":1}],"isBlockCoverage":true}]},{"scriptId":"340","url":"file:///root/Development/vultuk/agentrix/repository/src/domain/worktree.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3784,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":114,"endOffset":600,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":129,"endOffset":160,"count":1}],"isBlockCoverage":true},{"functionName":"createWorktree","ranges":[{"startOffset":600,"endOffset":656,"count":0}],"isBlockCoverage":false}]},{"scriptId":"341","url":"file:///root/Development/vultuk/agentrix/repository/src/domain/repository.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4720,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":114,"endOffset":704,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":131,"endOffset":164,"count":1}],"isBlockCoverage":true},{"functionName":"createRepository","ranges":[{"startOffset":704,"endOffset":764,"count":0}],"isBlockCoverage":false}]},{"scriptId":"342","url":"file:///root/Development/vultuk/agentrix/repository/src/services/auth-service.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4900,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"AuthService","ranges":[{"startOffset":132,"endOffset":233,"count":0}],"isBlockCoverage":false},{"functionName":"<static_initializer>","ranges":[{"startOffset":233,"endOffset":267,"count":1}],"isBlockCoverage":true},{"functionName":"login","ranges":[{"startOffset":267,"endOffset":450,"count":0}],"isBlockCoverage":false},{"functionName":"logout","ranges":[{"startOffset":450,"endOffset":618,"count":0}],"isBlockCoverage":false},{"functionName":"getStatus","ranges":[{"startOffset":618,"endOffset":719,"count":0}],"isBlockCoverage":false},{"functionName":"createAuthService","ranges":[{"startOffset":720,"endOffset":824,"count":0}],"isBlockCoverage":false}]},{"scriptId":"343","url":"file:///root/Development/vultuk/agentrix/repository/src/validation/request-validator.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":17863,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":12}],"isBlockCoverage":true},{"functionName":"normalizeString","ranges":[{"startOffset":229,"endOffset":308,"count":0}],"isBlockCoverage":false},{"functionName":"validateRequired","ranges":[{"startOffset":350,"endOffset":807,"count":0}],"isBlockCoverage":false},{"functionName":"validateOptional","ranges":[{"startOffset":851,"endOffset":1124,"count":0}],"isBlockCoverage":false},{"functionName":"validateBoolean","ranges":[{"startOffset":1168,"endOffset":1281,"count":0}],"isBlockCoverage":false},{"functionName":"validatePositiveInteger","ranges":[{"startOffset":1323,"endOffset":1507,"count":0}],"isBlockCoverage":false},{"functionName":"validateQueryParams","ranges":[{"startOffset":1565,"endOffset":2032,"count":0}],"isBlockCoverage":false},{"functionName":"validateOptionalQueryParams","ranges":[{"startOffset":2082,"endOffset":2375,"count":0}],"isBlockCoverage":false},{"functionName":"requireNonEmpty","ranges":[{"startOffset":2441,"endOffset":2639,"count":0}],"isBlockCoverage":false},{"functionName":"validateRepositoryIdentifier","ranges":[{"startOffset":2681,"endOffset":2770,"count":0}],"isBlockCoverage":false},{"functionName":"validateWorktreeIdentifier","ranges":[{"startOffset":2838,"endOffset":2934,"count":0}],"isBlockCoverage":false},{"functionName":"extractRepositoryParams","ranges":[{"startOffset":2998,"endOffset":3254,"count":0}],"isBlockCoverage":false},{"functionName":"extractWorktreeParams","ranges":[{"startOffset":3312,"endOffset":3741,"count":0}],"isBlockCoverage":false}]},{"scriptId":"344","url":"file:///root/Development/vultuk/agentrix/repository/src/utils/repository-cache.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3337,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"__setRepositoryCacheTestOverrides","ranges":[{"startOffset":352,"endOffset":528,"count":0}],"isBlockCoverage":false},{"functionName":"refreshRepositoryCache","ranges":[{"startOffset":606,"endOffset":772,"count":0}],"isBlockCoverage":false}]},{"scriptId":"345","url":"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/logging/logger.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4210,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"createLogger","ranges":[{"startOffset":114,"endOffset":770,"count":0}],"isBlockCoverage":false},{"functionName":"createConsoleLogger","ranges":[{"startOffset":806,"endOffset":859,"count":0}],"isBlockCoverage":false}]},{"scriptId":"346","url":"file:///root/Development/vultuk/agentrix/repository/src/core/repositories.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7181,"count":1}],"isBlockCoverage":true},{"functionName":"__name","ranges":[{"startOffset":47,"endOffset":113,"count":2}],"isBlockCoverage":true},{"functionName":"normalise","ranges":[{"startOffset":491,"endOffset":564,"count":0}],"isBlockCoverage":false},{"functionName":"removeRepository","ranges":[{"startOffset":594,"endOffset":1856,"count":0}],"isBlockCoverage":false}]},{"scriptId":"347","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/index.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1972,"count":1},{"startOffset":418,"endOffset":486,"count":0},{"startOffset":1930,"endOffset":1936,"count":0}],"isBlockCoverage":true},{"functionName":"spawn","ranges":[{"startOffset":1259,"endOffset":1340,"count":0}],"isBlockCoverage":false},{"functionName":"fork","ranges":[{"startOffset":1383,"endOffset":1463,"count":0}],"isBlockCoverage":false},{"functionName":"createTerminal","ranges":[{"startOffset":1504,"endOffset":1594,"count":0}],"isBlockCoverage":false},{"functionName":"open","ranges":[{"startOffset":1636,"endOffset":1701,"count":0}],"isBlockCoverage":false}]},{"scriptId":"348","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/unixTerminal.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11048,"count":1},{"startOffset":1133,"endOffset":1473,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":59,"endOffset":595,"count":1}],"isBlockCoverage":true},{"functionName":"extendStatics","ranges":[{"startOffset":97,"endOffset":385,"count":1},{"startOffset":161,"endOffset":252,"count":0},{"startOffset":253,"endOffset":342,"count":0}],"isBlockCoverage":true},{"functionName":"extendStatics","ranges":[{"startOffset":215,"endOffset":251,"count":0}],"isBlockCoverage":false},{"functionName":"extendStatics","ranges":[{"startOffset":268,"endOffset":342,"count":0}],"isBlockCoverage":false},{"functionName":"__extends","ranges":[{"startOffset":398,"endOffset":592,"count":2},{"startOffset":526,"endOffset":544,"count":0}],"isBlockCoverage":true},{"functionName":"__","ranges":[{"startOffset":453,"endOffset":492,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1798,"endOffset":10237,"count":1}],"isBlockCoverage":true},{"functionName":"UnixTerminal","ranges":[{"startOffset":1859,"endOffset":5951,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6027,"endOffset":6063,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6201,"endOffset":6236,"count":0}],"isBlockCoverage":false},{"functionName":"UnixTerminal._write","ranges":[{"startOffset":6336,"endOffset":6393,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6490,"endOffset":6522,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6662,"endOffset":6695,"count":0}],"isBlockCoverage":false},{"functionName":"UnixTerminal.open","ranges":[{"startOffset":6814,"endOffset":8230,"count":0}],"isBlockCoverage":false},{"functionName":"UnixTerminal.destroy","ranges":[{"startOffset":8269,"endOffset":8599,"count":0}],"isBlockCoverage":false},{"functionName":"UnixTerminal.kill","ranges":[{"startOffset":8635,"endOffset":8776,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8919,"endOffset":9133,"count":0}],"isBlockCoverage":false},{"functionName":"UnixTerminal.resize","ranges":[{"startOffset":9260,"endOffset":9588,"count":0}],"isBlockCoverage":false},{"functionName":"UnixTerminal.clear","ranges":[{"startOffset":9625,"endOffset":9644,"count":0}],"isBlockCoverage":false},{"functionName":"UnixTerminal._sanitizeEnv","ranges":[{"startOffset":9688,"endOffset":10209,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10496,"endOffset":10993,"count":1}],"isBlockCoverage":true},{"functionName":"PipeSocket","ranges":[{"startOffset":10555,"endOffset":10968,"count":0}],"isBlockCoverage":false}]},{"scriptId":"349","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/terminal.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7454,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":821,"endOffset":7384,"count":1}],"isBlockCoverage":true},{"functionName":"Terminal","ranges":[{"startOffset":839,"endOffset":2457,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":2529,"endOffset":2571,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":2706,"endOffset":2748,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":2880,"endOffset":2913,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3046,"endOffset":3080,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3213,"endOffset":3247,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.write","ranges":[{"startOffset":3342,"endOffset":3794,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal._forwardEvents","ranges":[{"startOffset":3836,"endOffset":4079,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal._checkType","ranges":[{"startOffset":4117,"endOffset":4791,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.end","ranges":[{"startOffset":4852,"endOffset":4907,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.pipe","ranges":[{"startOffset":4975,"endOffset":5056,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.pause","ranges":[{"startOffset":5121,"endOffset":5177,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.resume","ranges":[{"startOffset":5244,"endOffset":5301,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.setEncoding","ranges":[{"startOffset":5378,"endOffset":5576,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.addListener","ranges":[{"startOffset":5615,"endOffset":5679,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.on","ranges":[{"startOffset":5709,"endOffset":5912,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.emit","ranges":[{"startOffset":5944,"endOffset":6292,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.listeners","ranges":[{"startOffset":6329,"endOffset":6407,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.removeListener","ranges":[{"startOffset":6449,"endOffset":6545,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.removeAllListeners","ranges":[{"startOffset":6591,"endOffset":6671,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal.once","ranges":[{"startOffset":6703,"endOffset":6789,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal._close","ranges":[{"startOffset":6823,"endOffset":7019,"count":0}],"isBlockCoverage":false},{"functionName":"Terminal._parseEnv","ranges":[{"startOffset":7056,"endOffset":7360,"count":0}],"isBlockCoverage":false}]},{"scriptId":"350","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/eventEmitter2.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1600,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":212,"endOffset":1515,"count":1}],"isBlockCoverage":true},{"functionName":"EventEmitter2","ranges":[{"startOffset":230,"endOffset":292,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":368,"endOffset":1124,"count":0}],"isBlockCoverage":false},{"functionName":"EventEmitter2.fire","ranges":[{"startOffset":1223,"endOffset":1486,"count":0}],"isBlockCoverage":false}]},{"scriptId":"351","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/utils.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":580,"count":1}],"isBlockCoverage":true},{"functionName":"assign","ranges":[{"startOffset":220,"endOffset":521,"count":0}],"isBlockCoverage":false}]},{"scriptId":"352","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/stream.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4204,"count":1}],"isBlockCoverage":true},{"functionName":"emitClose","ranges":[{"startOffset":278,"endOffset":332,"count":0}],"isBlockCoverage":false},{"functionName":"duplexOnEnd","ranges":[{"startOffset":395,"endOffset":502,"count":0}],"isBlockCoverage":false},{"functionName":"duplexOnError","ranges":[{"startOffset":599,"endOffset":817,"count":0}],"isBlockCoverage":false},{"functionName":"createWebSocketStream","ranges":[{"startOffset":1041,"endOffset":4162,"count":0}],"isBlockCoverage":false}]},{"scriptId":"353","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/websocket.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":36463,"count":1}],"isBlockCoverage":true},{"functionName":"WebSocket","ranges":[{"startOffset":1504,"endOffset":2569,"count":0}],"isBlockCoverage":false},{"functionName":"get binaryType","ranges":[{"startOffset":2715,"endOffset":2766,"count":0}],"isBlockCoverage":false},{"functionName":"set binaryType","ranges":[{"startOffset":2770,"endOffset":2994,"count":0}],"isBlockCoverage":false},{"functionName":"get bufferedAmount","ranges":[{"startOffset":3030,"endOffset":3186,"count":0}],"isBlockCoverage":false},{"functionName":"get extensions","ranges":[{"startOffset":3222,"endOffset":3293,"count":0}],"isBlockCoverage":false},{"functionName":"get isPaused","ranges":[{"startOffset":3330,"endOffset":3375,"count":0}],"isBlockCoverage":false},{"functionName":"get onclose","ranges":[{"startOffset":3442,"endOffset":3478,"count":0}],"isBlockCoverage":false},{"functionName":"get onerror","ranges":[{"startOffset":3545,"endOffset":3581,"count":0}],"isBlockCoverage":false},{"functionName":"get onopen","ranges":[{"startOffset":3648,"endOffset":3683,"count":0}],"isBlockCoverage":false},{"functionName":"get onmessage","ranges":[{"startOffset":3750,"endOffset":3788,"count":0}],"isBlockCoverage":false},{"functionName":"get protocol","ranges":[{"startOffset":3824,"endOffset":3871,"count":0}],"isBlockCoverage":false},{"functionName":"get readyState","ranges":[{"startOffset":3907,"endOffset":3958,"count":0}],"isBlockCoverage":false},{"functionName":"get url","ranges":[{"startOffset":3994,"endOffset":4031,"count":0}],"isBlockCoverage":false},{"functionName":"setSocket","ranges":[{"startOffset":4824,"endOffset":6174,"count":0}],"isBlockCoverage":false},{"functionName":"emitClose","ranges":[{"startOffset":6240,"endOffset":6687,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":7531,"endOffset":8548,"count":0}],"isBlockCoverage":false},{"functionName":"pause","ranges":[{"startOffset":8605,"endOffset":8800,"count":0}],"isBlockCoverage":false},{"functionName":"ping","ranges":[{"startOffset":9038,"endOffset":9648,"count":0}],"isBlockCoverage":false},{"functionName":"pong","ranges":[{"startOffset":9886,"endOffset":10496,"count":0}],"isBlockCoverage":false},{"functionName":"resume","ranges":[{"startOffset":10554,"endOffset":10798,"count":0}],"isBlockCoverage":false},{"functionName":"send","ranges":[{"startOffset":11384,"endOffset":12104,"count":0}],"isBlockCoverage":false},{"functionName":"terminate","ranges":[{"startOffset":12174,"endOffset":12546,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":14116,"endOffset":14211,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14419,"endOffset":15053,"count":4}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":14521,"endOffset":14689,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":14695,"endOffset":15045,"count":0}],"isBlockCoverage":false},{"functionName":"initAsClient","ranges":[{"startOffset":16854,"endOffset":27392,"count":0}],"isBlockCoverage":false},{"functionName":"emitErrorAndClose","ranges":[{"startOffset":27552,"endOffset":27836,"count":0}],"isBlockCoverage":false},{"functionName":"netConnect","ranges":[{"startOffset":28037,"endOffset":28137,"count":0}],"isBlockCoverage":false},{"functionName":"tlsConnect","ranges":[{"startOffset":28344,"endOffset":28568,"count":0}],"isBlockCoverage":false},{"functionName":"abortHandshake","ranges":[{"startOffset":28850,"endOffset":29629,"count":0}],"isBlockCoverage":false},{"functionName":"sendAfterClose","ranges":[{"startOffset":29920,"endOffset":30655,"count":0}],"isBlockCoverage":false},{"functionName":"receiverOnConclude","ranges":[{"startOffset":30823,"endOffset":31259,"count":0}],"isBlockCoverage":false},{"functionName":"receiverOnDrain","ranges":[{"startOffset":31335,"endOffset":31459,"count":0}],"isBlockCoverage":false},{"functionName":"receiverOnError","ranges":[{"startOffset":31588,"endOffset":32120,"count":0}],"isBlockCoverage":false},{"functionName":"receiverOnFinish","ranges":[{"startOffset":32197,"endOffset":32260,"count":0}],"isBlockCoverage":false},{"functionName":"receiverOnMessage","ranges":[{"startOffset":32472,"endOffset":32570,"count":0}],"isBlockCoverage":false},{"functionName":"receiverOnPing","ranges":[{"startOffset":32705,"endOffset":32881,"count":0}],"isBlockCoverage":false},{"functionName":"receiverOnPong","ranges":[{"startOffset":33016,"endOffset":33088,"count":0}],"isBlockCoverage":false},{"functionName":"resume","ranges":[{"startOffset":33189,"endOffset":33235,"count":0}],"isBlockCoverage":false},{"functionName":"senderOnError","ranges":[{"startOffset":33325,"endOffset":33946,"count":0}],"isBlockCoverage":false},{"functionName":"setCloseTimer","ranges":[{"startOffset":34094,"endOffset":34246,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnClose","ranges":[{"startOffset":34318,"endOffset":35720,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnData","ranges":[{"startOffset":35832,"endOffset":35936,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnEnd","ranges":[{"startOffset":36006,"endOffset":36159,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnError","ranges":[{"startOffset":36231,"endOffset":36462,"count":0}],"isBlockCoverage":false}]},{"scriptId":"354","url":"node:https","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10931,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1882,"endOffset":1907,"count":0}],"isBlockCoverage":false},{"functionName":"Server","ranges":[{"startOffset":2036,"endOffset":3306,"count":0}],"isBlockCoverage":false},{"functionName":"Server.close","ranges":[{"startOffset":3668,"endOffset":3786,"count":0}],"isBlockCoverage":false},{"functionName":"Server.<computed>","ranges":[{"startOffset":3828,"endOffset":3909,"count":0}],"isBlockCoverage":false},{"functionName":"createServer","ranges":[{"startOffset":4192,"endOffset":4284,"count":0}],"isBlockCoverage":false},{"functionName":"createConnection","ranges":[{"startOffset":4305,"endOffset":5403,"count":0}],"isBlockCoverage":false},{"functionName":"Agent","ranges":[{"startOffset":5750,"endOffset":6141,"count":1},{"startOffset":5812,"endOffset":5838,"count":0}],"isBlockCoverage":true},{"functionName":"getName","ranges":[{"startOffset":6512,"endOffset":8236,"count":0}],"isBlockCoverage":false},{"functionName":"_getSession","ranges":[{"startOffset":8269,"endOffset":8336,"count":0}],"isBlockCoverage":false},{"functionName":"_cacheSession","ranges":[{"startOffset":8371,"endOffset":8944,"count":0}],"isBlockCoverage":false},{"functionName":"_evictSession","ranges":[{"startOffset":8979,"endOffset":9209,"count":0}],"isBlockCoverage":false},{"functionName":"request","ranges":[{"startOffset":9403,"endOffset":9932,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":10733,"endOffset":10839,"count":0}],"isBlockCoverage":false}]},{"scriptId":"355","url":"node:tls","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10611,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3056,"endOffset":3120,"count":0}],"isBlockCoverage":false},{"functionName":"cacheRootCertificates","ranges":[{"startOffset":3149,"endOffset":3243,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3366,"endOffset":3517,"count":0}],"isBlockCoverage":false},{"functionName":"convertProtocols","ranges":[{"startOffset":3627,"endOffset":4224,"count":0}],"isBlockCoverage":false},{"functionName":"convertALPNProtocols","ranges":[{"startOffset":4257,"endOffset":4781,"count":0}],"isBlockCoverage":false},{"functionName":"unfqdn","ranges":[{"startOffset":4784,"endOffset":4844,"count":0}],"isBlockCoverage":false},{"functionName":"toLowerCase","ranges":[{"startOffset":4952,"endOffset":5030,"count":0}],"isBlockCoverage":false},{"functionName":"splitHost","ranges":[{"startOffset":5032,"endOffset":5125,"count":0}],"isBlockCoverage":false},{"functionName":"check","ranges":[{"startOffset":5127,"endOffset":7003,"count":0}],"isBlockCoverage":false},{"functionName":"splitEscapedAltNames","ranges":[{"startOffset":7368,"endOffset":8452,"count":0}],"isBlockCoverage":false},{"functionName":"checkServerIdentity","ranges":[{"startOffset":8484,"endOffset":10166,"count":0}],"isBlockCoverage":false}]},{"scriptId":"356","url":"node:_tls_common","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":4815,"count":1}],"isBlockCoverage":false},{"functionName":"toV","ranges":[{"startOffset":1721,"endOffset":2014,"count":0}],"isBlockCoverage":false},{"functionName":"SecureContext","ranges":[{"startOffset":2094,"endOffset":2931,"count":0}],"isBlockCoverage":false},{"functionName":"createSecureContext","ranges":[{"startOffset":2933,"endOffset":3403,"count":0}],"isBlockCoverage":false},{"functionName":"translatePeerCertificate","ranges":[{"startOffset":3642,"endOffset":4723,"count":0}],"isBlockCoverage":false}]},{"scriptId":"357","url":"node:internal/tls/secure-context","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9600,"count":1}],"isBlockCoverage":false},{"functionName":"getDefaultEcdhCurve","ranges":[{"startOffset":727,"endOffset":977,"count":0}],"isBlockCoverage":false},{"functionName":"getDefaultCiphers","ranges":[{"startOffset":979,"endOffset":1211,"count":0}],"isBlockCoverage":false},{"functionName":"addCACerts","ranges":[{"startOffset":1213,"endOffset":1377,"count":0}],"isBlockCoverage":false},{"functionName":"setCerts","ranges":[{"startOffset":1379,"endOffset":1539,"count":0}],"isBlockCoverage":false},{"functionName":"validateKeyOrCertOption","ranges":[{"startOffset":1541,"endOffset":1821,"count":0}],"isBlockCoverage":false},{"functionName":"setKey","ranges":[{"startOffset":1823,"endOffset":2065,"count":0}],"isBlockCoverage":false},{"functionName":"processCiphers","ranges":[{"startOffset":2067,"endOffset":3140,"count":0}],"isBlockCoverage":false},{"functionName":"configSecureContext","ranges":[{"startOffset":3142,"endOffset":9553,"count":0}],"isBlockCoverage":false}]},{"scriptId":"358","url":"node:_tls_wrap","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":53633,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1853,"endOffset":1878,"count":0}],"isBlockCoverage":false},{"functionName":"noop","ranges":[{"startOffset":3886,"endOffset":3894,"count":0}],"isBlockCoverage":false},{"functionName":"onhandshakestart","ranges":[{"startOffset":4070,"endOffset":4853,"count":0}],"isBlockCoverage":false},{"functionName":"onhandshakedone","ranges":[{"startOffset":4855,"endOffset":5148,"count":0}],"isBlockCoverage":false},{"functionName":"loadSession","ranges":[{"startOffset":5151,"endOffset":6356,"count":0}],"isBlockCoverage":false},{"functionName":"loadSNI","ranges":[{"startOffset":6359,"endOffset":7012,"count":0}],"isBlockCoverage":false},{"functionName":"callALPNCallback","ranges":[{"startOffset":7015,"endOffset":8051,"count":0}],"isBlockCoverage":false},{"functionName":"requestOCSP","ranges":[{"startOffset":8053,"endOffset":9375,"count":0}],"isBlockCoverage":false},{"functionName":"requestOCSPDone","ranges":[{"startOffset":9377,"endOffset":9572,"count":0}],"isBlockCoverage":false},{"functionName":"onnewsessionclient","ranges":[{"startOffset":9574,"endOffset":9810,"count":0}],"isBlockCoverage":false},{"functionName":"onnewsession","ranges":[{"startOffset":9812,"endOffset":10648,"count":0}],"isBlockCoverage":false},{"functionName":"onPskServerCallback","ranges":[{"startOffset":10650,"endOffset":11300,"count":0}],"isBlockCoverage":false},{"functionName":"onPskClientCallback","ranges":[{"startOffset":11302,"endOffset":12009,"count":0}],"isBlockCoverage":false},{"functionName":"onkeylog","ranges":[{"startOffset":12011,"endOffset":12102,"count":0}],"isBlockCoverage":false},{"functionName":"onocspresponse","ranges":[{"startOffset":12104,"endOffset":12220,"count":0}],"isBlockCoverage":false},{"functionName":"onerror","ranges":[{"startOffset":12222,"endOffset":13292,"count":0}],"isBlockCoverage":false},{"functionName":"initRead","ranges":[{"startOffset":13436,"endOffset":13983,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket","ranges":[{"startOffset":14061,"endOffset":17173,"count":0}],"isBlockCoverage":false},{"functionName":"makeMethodProxy","ranges":[{"startOffset":17616,"endOffset":17791,"count":15}],"isBlockCoverage":true},{"functionName":"methodProxy","ranges":[{"startOffset":17658,"endOffset":17788,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":17958,"endOffset":18804,"count":0}],"isBlockCoverage":false},{"functionName":"disableRenegotiation","ranges":[{"startOffset":18850,"endOffset":18923,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._wrapHandle","ranges":[{"startOffset":19108,"endOffset":20456,"count":0}],"isBlockCoverage":false},{"functionName":"reinitializeHandle","ranges":[{"startOffset":20502,"endOffset":21078,"count":0}],"isBlockCoverage":false},{"functionName":"defineHandleReading","ranges":[{"startOffset":21217,"endOffset":21460,"count":0}],"isBlockCoverage":false},{"functionName":"onSocketCloseDestroySSL","ranges":[{"startOffset":21462,"endOffset":21609,"count":0}],"isBlockCoverage":false},{"functionName":"destroySSL","ranges":[{"startOffset":21611,"endOffset":21662,"count":0}],"isBlockCoverage":false},{"functionName":"_destroySSL","ranges":[{"startOffset":21698,"endOffset":21990,"count":0}],"isBlockCoverage":false},{"functionName":"keylogNewListener","ranges":[{"startOffset":21993,"endOffset":22304,"count":0}],"isBlockCoverage":false},{"functionName":"newListener","ranges":[{"startOffset":22306,"endOffset":22610,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._init","ranges":[{"startOffset":22748,"endOffset":27406,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.renegotiate","ranges":[{"startOffset":27443,"endOffset":28690,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.exportKeyingMaterial","ranges":[{"startOffset":28736,"endOffset":29058,"count":0}],"isBlockCoverage":false},{"functionName":"setMaxSendFragment","ranges":[{"startOffset":29102,"endOffset":29224,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._handleTimeout","ranges":[{"startOffset":29264,"endOffset":29333,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._emitTLSError","ranges":[{"startOffset":29372,"endOffset":29458,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._tlsError","ranges":[{"startOffset":29493,"endOffset":29601,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._releaseControl","ranges":[{"startOffset":29642,"endOffset":29798,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._finishInit","ranges":[{"startOffset":29835,"endOffset":30894,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket._start","ranges":[{"startOffset":30926,"endOffset":31425,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.setServername","ranges":[{"startOffset":31464,"endOffset":31632,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.setSession","ranges":[{"startOffset":31668,"endOffset":31806,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.getPeerCertificate","ranges":[{"startOffset":31850,"endOffset":32014,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.getCertificate","ranges":[{"startOffset":32054,"endOffset":32260,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.getPeerX509Certificate","ranges":[{"startOffset":32308,"endOffset":32448,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.getX509Certificate","ranges":[{"startOffset":32492,"endOffset":32620,"count":0}],"isBlockCoverage":false},{"functionName":"TLSSocket.setKeyCert","ranges":[{"startOffset":32656,"endOffset":32923,"count":0}],"isBlockCoverage":false},{"functionName":"makeSocketMethodProxy","ranges":[{"startOffset":32960,"endOffset":33158,"count":10}],"isBlockCoverage":true},{"functionName":"socketMethodProxy","ranges":[{"startOffset":33008,"endOffset":33155,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":33361,"endOffset":33439,"count":10}],"isBlockCoverage":true},{"functionName":"onServerSocketSecure","ranges":[{"startOffset":33481,"endOffset":33976,"count":0}],"isBlockCoverage":false},{"functionName":"onSocketTLSError","ranges":[{"startOffset":33978,"endOffset":34214,"count":0}],"isBlockCoverage":false},{"functionName":"onSocketKeylog","ranges":[{"startOffset":34216,"endOffset":34303,"count":0}],"isBlockCoverage":false},{"functionName":"onSocketClose","ranges":[{"startOffset":34305,"endOffset":34662,"count":0}],"isBlockCoverage":false},{"functionName":"tlsConnectionListener","ranges":[{"startOffset":34664,"endOffset":35550,"count":0}],"isBlockCoverage":false},{"functionName":"Server","ranges":[{"startOffset":38316,"endOffset":40063,"count":0}],"isBlockCoverage":false},{"functionName":"createServer","ranges":[{"startOffset":40217,"endOffset":40301,"count":0}],"isBlockCoverage":false},{"functionName":"Server.setSecureContext","ranges":[{"startOffset":40341,"endOffset":43209,"count":0}],"isBlockCoverage":false},{"functionName":"Server._getServerData","ranges":[{"startOffset":43247,"endOffset":43331,"count":0}],"isBlockCoverage":false},{"functionName":"Server._setServerData","ranges":[{"startOffset":43369,"endOffset":43446,"count":0}],"isBlockCoverage":false},{"functionName":"getTicketKeys","ranges":[{"startOffset":43483,"endOffset":43563,"count":0}],"isBlockCoverage":false},{"functionName":"setTicketKeys","ranges":[{"startOffset":43600,"endOffset":43796,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":43840,"endOffset":45871,"count":0}],"isBlockCoverage":false},{"functionName":"Server.addContext","ranges":[{"startOffset":45994,"endOffset":46396,"count":0}],"isBlockCoverage":false},{"functionName":"Server.<computed>","ranges":[{"startOffset":46445,"endOffset":46700,"count":0}],"isBlockCoverage":false},{"functionName":"SNICallback","ranges":[{"startOffset":46703,"endOffset":46994,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeConnectArgs","ranges":[{"startOffset":47227,"endOffset":47955,"count":0}],"isBlockCoverage":false},{"functionName":"onConnectSecure","ranges":[{"startOffset":47957,"endOffset":50189,"count":0}],"isBlockCoverage":false},{"functionName":"onConnectEnd","ranges":[{"startOffset":50191,"endOffset":50752,"count":0}],"isBlockCoverage":false},{"functionName":"connect","ranges":[{"startOffset":50818,"endOffset":53631,"count":0}],"isBlockCoverage":false}]},{"scriptId":"359","url":"node:internal/js_stream_socket","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8580,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":335,"endOffset":364,"count":0}],"isBlockCoverage":false},{"functionName":"isClosing","ranges":[{"startOffset":808,"endOffset":871,"count":0}],"isBlockCoverage":false},{"functionName":"onreadstart","ranges":[{"startOffset":873,"endOffset":938,"count":0}],"isBlockCoverage":false},{"functionName":"onreadstop","ranges":[{"startOffset":940,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"onshutdown","ranges":[{"startOffset":1005,"endOffset":1076,"count":0}],"isBlockCoverage":false},{"functionName":"onwrite","ranges":[{"startOffset":1078,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"JSStreamSocket","ranges":[{"startOffset":1915,"endOffset":3643,"count":0}],"isBlockCoverage":false},{"functionName":"get StreamWrap","ranges":[{"startOffset":3783,"endOffset":3832,"count":0}],"isBlockCoverage":false},{"functionName":"isClosing","ranges":[{"startOffset":3836,"endOffset":3898,"count":0}],"isBlockCoverage":false},{"functionName":"readStart","ranges":[{"startOffset":3902,"endOffset":3959,"count":0}],"isBlockCoverage":false},{"functionName":"readStop","ranges":[{"startOffset":3963,"endOffset":4018,"count":0}],"isBlockCoverage":false},{"functionName":"doShutdown","ranges":[{"startOffset":4022,"endOffset":5269,"count":0}],"isBlockCoverage":false},{"functionName":"finishShutdown","ranges":[{"startOffset":5337,"endOffset":5629,"count":0}],"isBlockCoverage":false},{"functionName":"doWrite","ranges":[{"startOffset":5633,"endOffset":7068,"count":0}],"isBlockCoverage":false},{"functionName":"finishWrite","ranges":[{"startOffset":7136,"endOffset":7579,"count":0}],"isBlockCoverage":false},{"functionName":"doClose","ranges":[{"startOffset":7583,"endOffset":8393,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8397,"endOffset":8463,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8467,"endOffset":8543,"count":0}],"isBlockCoverage":false}]},{"scriptId":"360","url":"node:internal/tls/secure-pair","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1991,"count":1}],"isBlockCoverage":false},{"functionName":"DuplexSocket","ranges":[{"startOffset":398,"endOffset":487,"count":0}],"isBlockCoverage":false},{"functionName":"_read","ranges":[{"startOffset":491,"endOffset":616,"count":0}],"isBlockCoverage":false},{"functionName":"_write","ranges":[{"startOffset":620,"endOffset":824,"count":0}],"isBlockCoverage":false},{"functionName":"_final","ranges":[{"startOffset":828,"endOffset":925,"count":0}],"isBlockCoverage":false},{"functionName":"DuplexPair","ranges":[{"startOffset":950,"endOffset":1137,"count":0}],"isBlockCoverage":false},{"functionName":"SecurePair","ranges":[{"startOffset":1183,"endOffset":1796,"count":0}],"isBlockCoverage":false},{"functionName":"destroy","ranges":[{"startOffset":1800,"endOffset":1875,"count":0}],"isBlockCoverage":false},{"functionName":"createSecurePair","ranges":[{"startOffset":1906,"endOffset":1989,"count":0}],"isBlockCoverage":false}]},{"scriptId":"361","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/permessage-deflate.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14510,"count":1}],"isBlockCoverage":true},{"functionName":"PerMessageDeflate","ranges":[{"startOffset":2099,"endOffset":2646,"count":0}],"isBlockCoverage":false},{"functionName":"get extensionName","ranges":[{"startOffset":2689,"endOffset":2747,"count":0}],"isBlockCoverage":false},{"functionName":"offer","ranges":[{"startOffset":2868,"endOffset":3483,"count":0}],"isBlockCoverage":false},{"functionName":"accept","ranges":[{"startOffset":3691,"endOffset":3926,"count":0}],"isBlockCoverage":false},{"functionName":"cleanup","ranges":[{"startOffset":4011,"endOffset":4421,"count":0}],"isBlockCoverage":false},{"functionName":"acceptAsServer","ranges":[{"startOffset":4606,"endOffset":5950,"count":0}],"isBlockCoverage":false},{"functionName":"acceptAsClient","ranges":[{"startOffset":6142,"endOffset":6935,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeParams","ranges":[{"startOffset":7141,"endOffset":8681,"count":0}],"isBlockCoverage":false},{"functionName":"decompress","ranges":[{"startOffset":8918,"endOffset":9105,"count":0}],"isBlockCoverage":false},{"functionName":"compress","ranges":[{"startOffset":9350,"endOffset":9533,"count":0}],"isBlockCoverage":false},{"functionName":"_decompress","ranges":[{"startOffset":9750,"endOffset":11208,"count":0}],"isBlockCoverage":false},{"functionName":"_compress","ranges":[{"startOffset":11433,"endOffset":12864,"count":0}],"isBlockCoverage":false},{"functionName":"deflateOnData","ranges":[{"startOffset":13033,"endOffset":13134,"count":0}],"isBlockCoverage":false},{"functionName":"inflateOnData","ranges":[{"startOffset":13264,"endOffset":14053,"count":0}],"isBlockCoverage":false},{"functionName":"inflateOnError","ranges":[{"startOffset":14183,"endOffset":14509,"count":0}],"isBlockCoverage":false}]},{"scriptId":"362","url":"node:zlib","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":28933,"count":1}],"isBlockCoverage":false},{"functionName":"zlibBuffer","ranges":[{"startOffset":3548,"endOffset":4175,"count":0}],"isBlockCoverage":false},{"functionName":"zlibBufferOnData","ranges":[{"startOffset":4177,"endOffset":4508,"count":0}],"isBlockCoverage":false},{"functionName":"zlibBufferOnError","ranges":[{"startOffset":4510,"endOffset":4595,"count":0}],"isBlockCoverage":false},{"functionName":"zlibBufferOnEnd","ranges":[{"startOffset":4597,"endOffset":4927,"count":0}],"isBlockCoverage":false},{"functionName":"zlibBufferSync","ranges":[{"startOffset":4929,"endOffset":5470,"count":0}],"isBlockCoverage":false},{"functionName":"zlibOnError","ranges":[{"startOffset":5472,"endOffset":5786,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase","ranges":[{"startOffset":6019,"endOffset":8074,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8299,"endOffset":8336,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8779,"endOffset":8825,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8972,"endOffset":9024,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase.reset","ranges":[{"startOffset":9165,"endOffset":9273,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase._flush","ranges":[{"startOffset":9419,"endOffset":9491,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase._final","ranges":[{"startOffset":9558,"endOffset":9594,"count":0}],"isBlockCoverage":false},{"functionName":"maxFlush","ranges":[{"startOffset":10183,"endOffset":10258,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase.flush","ranges":[{"startOffset":10699,"endOffset":11101,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase.close","ranges":[{"startOffset":11131,"endOffset":11213,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase._destroy","ranges":[{"startOffset":11246,"endOffset":11306,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase._transform","ranges":[{"startOffset":11341,"endOffset":11875,"count":0}],"isBlockCoverage":false},{"functionName":"ZlibBase._processChunk","ranges":[{"startOffset":11913,"endOffset":12142,"count":0}],"isBlockCoverage":false},{"functionName":"processChunkSync","ranges":[{"startOffset":12145,"endOffset":14430,"count":0}],"isBlockCoverage":false},{"functionName":"processChunk","ranges":[{"startOffset":14432,"endOffset":15022,"count":0}],"isBlockCoverage":false},{"functionName":"processCallback","ranges":[{"startOffset":15024,"endOffset":17878,"count":0}],"isBlockCoverage":false},{"functionName":"_close","ranges":[{"startOffset":17880,"endOffset":18070,"count":0}],"isBlockCoverage":false},{"functionName":"Zlib","ranges":[{"startOffset":18267,"endOffset":20585,"count":0}],"isBlockCoverage":false},{"functionName":"paramsAfterFlushCallback","ranges":[{"startOffset":20935,"endOffset":21201,"count":0}],"isBlockCoverage":false},{"functionName":"params","ranges":[{"startOffset":21227,"endOffset":21694,"count":0}],"isBlockCoverage":false},{"functionName":"Deflate","ranges":[{"startOffset":21738,"endOffset":21873,"count":0}],"isBlockCoverage":false},{"functionName":"Inflate","ranges":[{"startOffset":21969,"endOffset":22104,"count":0}],"isBlockCoverage":false},{"functionName":"Gzip","ranges":[{"startOffset":22200,"endOffset":22323,"count":0}],"isBlockCoverage":false},{"functionName":"Gunzip","ranges":[{"startOffset":22413,"endOffset":22544,"count":0}],"isBlockCoverage":false},{"functionName":"DeflateRaw","ranges":[{"startOffset":22638,"endOffset":22843,"count":0}],"isBlockCoverage":false},{"functionName":"InflateRaw","ranges":[{"startOffset":22945,"endOffset":23092,"count":0}],"isBlockCoverage":false},{"functionName":"Unzip","ranges":[{"startOffset":23194,"endOffset":23321,"count":0}],"isBlockCoverage":false},{"functionName":"createConvenienceMethod","ranges":[{"startOffset":23413,"endOffset":23802,"count":18},{"startOffset":23472,"endOffset":23801,"count":9}],"isBlockCoverage":true},{"functionName":"syncBufferWrapper","ranges":[{"startOffset":23485,"endOffset":23586,"count":0}],"isBlockCoverage":false},{"functionName":"asyncBufferWrapper","ranges":[{"startOffset":23601,"endOffset":23799,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":23887,"endOffset":23974,"count":107},{"startOffset":23945,"endOffset":23965,"count":9},{"startOffset":23966,"endOffset":23973,"count":98}],"isBlockCoverage":true},{"functionName":"Brotli","ranges":[{"startOffset":24193,"endOffset":25246,"count":0}],"isBlockCoverage":false},{"functionName":"BrotliCompress","ranges":[{"startOffset":25340,"endOffset":25504,"count":0}],"isBlockCoverage":false},{"functionName":"BrotliDecompress","ranges":[{"startOffset":25618,"endOffset":25788,"count":0}],"isBlockCoverage":false},{"functionName":"createProperty","ranges":[{"startOffset":25907,"endOffset":26093,"count":9}],"isBlockCoverage":true},{"functionName":"value","ranges":[{"startOffset":26028,"endOffset":26085,"count":0}],"isBlockCoverage":false},{"functionName":"crc32","ranges":[{"startOffset":26095,"endOffset":26363,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":26592,"endOffset":26628,"count":0}],"isBlockCoverage":false},{"functionName":"set","ranges":[{"startOffset":26632,"endOffset":26673,"count":0}],"isBlockCoverage":false}]},{"scriptId":"363","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/buffer-util.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3056,"count":1}],"isBlockCoverage":true},{"functionName":"concat","ranges":[{"startOffset":349,"endOffset":792,"count":0}],"isBlockCoverage":false},{"functionName":"_mask","ranges":[{"startOffset":1122,"endOffset":1269,"count":0}],"isBlockCoverage":false},{"functionName":"_unmask","ranges":[{"startOffset":1422,"endOffset":1534,"count":0}],"isBlockCoverage":false},{"functionName":"toArrayBuffer","ranges":[{"startOffset":1687,"endOffset":1864,"count":0}],"isBlockCoverage":false},{"functionName":"toBuffer","ranges":[{"startOffset":2015,"endOffset":2399,"count":0}],"isBlockCoverage":false},{"functionName":"module.exports.mask","ranges":[{"startOffset":2643,"endOffset":2832,"count":0}],"isBlockCoverage":false},{"functionName":"module.exports.unmask","ranges":[{"startOffset":2863,"endOffset":2991,"count":0}],"isBlockCoverage":false}]},{"scriptId":"364","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/constants.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":479,"count":1}],"isBlockCoverage":true},{"functionName":"NOOP","ranges":[{"startOffset":467,"endOffset":475,"count":0}],"isBlockCoverage":false}]},{"scriptId":"365","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/limiter.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1034,"count":1}],"isBlockCoverage":true},{"functionName":"Limiter","ranges":[{"startOffset":368,"endOffset":563,"count":0}],"isBlockCoverage":false},{"functionName":"add","ranges":[{"startOffset":669,"endOffset":726,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":820,"endOffset":1004,"count":0}],"isBlockCoverage":false}]},{"scriptId":"366","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/receiver.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16460,"count":1}],"isBlockCoverage":true},{"functionName":"Receiver","ranges":[{"startOffset":1467,"endOffset":2358,"count":0}],"isBlockCoverage":false},{"functionName":"_write","ranges":[{"startOffset":2593,"endOffset":2794,"count":0}],"isBlockCoverage":false},{"functionName":"consume","ranges":[{"startOffset":2972,"endOffset":3841,"count":0}],"isBlockCoverage":false},{"functionName":"startLoop","ranges":[{"startOffset":3941,"endOffset":4571,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":4684,"endOffset":8356,"count":0}],"isBlockCoverage":false},{"functionName":"getPayloadLength16","ranges":[{"startOffset":8468,"endOffset":8662,"count":0}],"isBlockCoverage":false},{"functionName":"getPayloadLength64","ranges":[{"startOffset":8774,"endOffset":9491,"count":0}],"isBlockCoverage":false},{"functionName":"haveLength","ranges":[{"startOffset":9596,"endOffset":10127,"count":0}],"isBlockCoverage":false},{"functionName":"getMask","ranges":[{"startOffset":10185,"endOffset":10344,"count":0}],"isBlockCoverage":false},{"functionName":"getData","ranges":[{"startOffset":10437,"endOffset":11322,"count":0}],"isBlockCoverage":false},{"functionName":"decompress","ranges":[{"startOffset":11458,"endOffset":12201,"count":0}],"isBlockCoverage":false},{"functionName":"dataMessage","ranges":[{"startOffset":12300,"endOffset":14013,"count":0}],"isBlockCoverage":false},{"functionName":"controlMessage","ranges":[{"startOffset":14182,"endOffset":15645,"count":0}],"isBlockCoverage":false},{"functionName":"createError","ranges":[{"startOffset":16079,"endOffset":16429,"count":0}],"isBlockCoverage":false}]},{"scriptId":"367","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/validation.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3903,"count":1},{"startOffset":3579,"endOffset":3902,"count":0}],"isBlockCoverage":true},{"functionName":"isValidStatusCode","ranges":[{"startOffset":1056,"endOffset":1256,"count":0}],"isBlockCoverage":false},{"functionName":"_isValidUTF8","ranges":[{"startOffset":1544,"endOffset":2869,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":3045,"endOffset":3351,"count":0}],"isBlockCoverage":false},{"functionName":"module.exports.isValidUTF8","ranges":[{"startOffset":3494,"endOffset":3576,"count":0}],"isBlockCoverage":false},{"functionName":"module.exports.isValidUTF8","ranges":[{"startOffset":3747,"endOffset":3838,"count":0}],"isBlockCoverage":false}]},{"scriptId":"368","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/sender.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16711,"count":1}],"isBlockCoverage":true},{"functionName":"Sender","ranges":[{"startOffset":998,"endOffset":1431,"count":0}],"isBlockCoverage":false},{"functionName":"frame","ranges":[{"startOffset":2309,"endOffset":4817,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":5151,"endOffset":6301,"count":0}],"isBlockCoverage":false},{"functionName":"ping","ranges":[{"startOffset":6533,"endOffset":7624,"count":0}],"isBlockCoverage":false},{"functionName":"pong","ranges":[{"startOffset":7856,"endOffset":8947,"count":0}],"isBlockCoverage":false},{"functionName":"send","ranges":[{"startOffset":9535,"endOffset":11195,"count":0}],"isBlockCoverage":false},{"functionName":"getBlobData","ranges":[{"startOffset":12108,"endOffset":13304,"count":0}],"isBlockCoverage":false},{"functionName":"dispatch","ranges":[{"startOffset":14215,"endOffset":14983,"count":0}],"isBlockCoverage":false},{"functionName":"dequeue","ranges":[{"startOffset":15056,"endOffset":15288,"count":0}],"isBlockCoverage":false},{"functionName":"enqueue","ranges":[{"startOffset":15409,"endOffset":15511,"count":0}],"isBlockCoverage":false},{"functionName":"sendFrame","ranges":[{"startOffset":15660,"endOffset":15902,"count":0}],"isBlockCoverage":false},{"functionName":"callCallbacks","ranges":[{"startOffset":16148,"endOffset":16429,"count":0}],"isBlockCoverage":false},{"functionName":"onError","ranges":[{"startOffset":16616,"endOffset":16710,"count":0}],"isBlockCoverage":false}]},{"scriptId":"369","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/event-target.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7321,"count":1}],"isBlockCoverage":true},{"functionName":"Event","ranges":[{"startOffset":570,"endOffset":643,"count":0}],"isBlockCoverage":false},{"functionName":"get target","ranges":[{"startOffset":674,"endOffset":718,"count":0}],"isBlockCoverage":false},{"functionName":"get type","ranges":[{"startOffset":754,"endOffset":794,"count":0}],"isBlockCoverage":false},{"functionName":"CloseEvent","ranges":[{"startOffset":1604,"endOffset":1877,"count":0}],"isBlockCoverage":false},{"functionName":"get code","ranges":[{"startOffset":1913,"endOffset":1953,"count":0}],"isBlockCoverage":false},{"functionName":"get reason","ranges":[{"startOffset":1989,"endOffset":2033,"count":0}],"isBlockCoverage":false},{"functionName":"get wasClean","ranges":[{"startOffset":2070,"endOffset":2118,"count":0}],"isBlockCoverage":false},{"functionName":"ErrorEvent","ranges":[{"startOffset":2817,"endOffset":3018,"count":0}],"isBlockCoverage":false},{"functionName":"get error","ranges":[{"startOffset":3049,"endOffset":3091,"count":0}],"isBlockCoverage":false},{"functionName":"get message","ranges":[{"startOffset":3127,"endOffset":3173,"count":0}],"isBlockCoverage":false},{"functionName":"MessageEvent","ranges":[{"startOffset":3723,"endOffset":3846,"count":0}],"isBlockCoverage":false},{"functionName":"get data","ranges":[{"startOffset":3877,"endOffset":3917,"count":0}],"isBlockCoverage":false},{"functionName":"addEventListener","ranges":[{"startOffset":4681,"endOffset":6324,"count":0}],"isBlockCoverage":false},{"functionName":"removeEventListener","ranges":[{"startOffset":6526,"endOffset":6771,"count":0}],"isBlockCoverage":false},{"functionName":"callListener","ranges":[{"startOffset":7109,"endOffset":7320,"count":0}],"isBlockCoverage":false}]},{"scriptId":"370","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/extension.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6183,"count":1}],"isBlockCoverage":true},{"functionName":"push","ranges":[{"startOffset":397,"endOffset":515,"count":0}],"isBlockCoverage":false},{"functionName":"parse","ranges":[{"startOffset":697,"endOffset":5217,"count":0}],"isBlockCoverage":false},{"functionName":"format","ranges":[{"startOffset":5438,"endOffset":6145,"count":0}],"isBlockCoverage":false}]},{"scriptId":"371","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/websocket-server.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16393,"count":1}],"isBlockCoverage":true},{"functionName":"WebSocketServer","ranges":[{"startOffset":2505,"endOffset":4484,"count":0}],"isBlockCoverage":false},{"functionName":"address","ranges":[{"startOffset":4835,"endOffset":5030,"count":0}],"isBlockCoverage":false},{"functionName":"close","ranges":[{"startOffset":5264,"endOffset":6343,"count":0}],"isBlockCoverage":false},{"functionName":"shouldHandle","ranges":[{"startOffset":6581,"endOffset":6829,"count":0}],"isBlockCoverage":false},{"functionName":"handleUpgrade","ranges":[{"startOffset":7135,"endOffset":10558,"count":0}],"isBlockCoverage":false},{"functionName":"completeUpgrade","ranges":[{"startOffset":11108,"endOffset":13359,"count":0}],"isBlockCoverage":false},{"functionName":"addListeners","ranges":[{"startOffset":13710,"endOffset":13960,"count":0}],"isBlockCoverage":false},{"functionName":"emitClose","ranges":[{"startOffset":14083,"endOffset":14163,"count":0}],"isBlockCoverage":false},{"functionName":"socketOnError","ranges":[{"startOffset":14213,"endOffset":14259,"count":0}],"isBlockCoverage":false},{"functionName":"abortHandshake","ranges":[{"startOffset":14574,"endOffset":15522,"count":0}],"isBlockCoverage":false},{"functionName":"abortHandshakeOrEmitwsClientError","ranges":[{"startOffset":16015,"endOffset":16392,"count":0}],"isBlockCoverage":false}]},{"scriptId":"372","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/ws@8.18.3/node_modules/ws/lib/subprotocol.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1498,"count":1}],"isBlockCoverage":true},{"functionName":"parse","ranges":[{"startOffset":260,"endOffset":1468,"count":0}],"isBlockCoverage":false}]},{"scriptId":"373","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/mime-types@2.1.35/node_modules/mime-types/index.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3663,"count":1}],"isBlockCoverage":true},{"functionName":"charset","ranges":[{"startOffset":841,"endOffset":1232,"count":0}],"isBlockCoverage":false},{"functionName":"contentType","ranges":[{"startOffset":1366,"endOffset":1822,"count":0}],"isBlockCoverage":false},{"functionName":"extension","ranges":[{"startOffset":1934,"endOffset":2257,"count":0}],"isBlockCoverage":false},{"functionName":"lookup","ranges":[{"startOffset":2374,"endOffset":2678,"count":0}],"isBlockCoverage":false},{"functionName":"populateMaps","ranges":[{"startOffset":2744,"endOffset":3662,"count":1}],"isBlockCoverage":true},{"functionName":"forEachMimeType","ranges":[{"startOffset":2912,"endOffset":3659,"count":2279},{"startOffset":3016,"endOffset":3031,"count":965},{"startOffset":3033,"endOffset":3053,"count":1314},{"startOffset":3053,"endOffset":3177,"count":965},{"startOffset":3177,"endOffset":3655,"count":1220},{"startOffset":3238,"endOffset":3583,"count":40},{"startOffset":3417,"endOffset":3511,"count":34},{"startOffset":3441,"endOffset":3510,"count":19},{"startOffset":3457,"endOffset":3509,"count":11},{"startOffset":3513,"endOffset":3575,"count":23},{"startOffset":3583,"endOffset":3655,"count":1197}],"isBlockCoverage":true}]},{"scriptId":"374","url":"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/mime-db@1.52.0/node_modules/mime-db/index.js","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":189,"count":1}],"isBlockCoverage":true}]},{"scriptId":"375","url":"node:internal/test_runner/reporter/v8-serializer","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1458,"count":1}],"isBlockCoverage":false},{"functionName":"v8Reporter","ranges":[{"startOffset":235,"endOffset":1456,"count":1},{"startOffset":463,"endOffset":1454,"count":40},{"startOffset":508,"endOffset":515,"count":12},{"startOffset":540,"endOffset":776,"count":0},{"startOffset":1005,"endOffset":1059,"count":0}],"isBlockCoverage":true}]},{"scriptId":"376","url":"node:internal/streams/duplexify","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":8125,"count":1}],"isBlockCoverage":false},{"functionName":"Duplexify","ranges":[{"startOffset":975,"endOffset":1460,"count":1},{"startOffset":1106,"endOffset":1242,"count":0},{"startOffset":1281,"endOffset":1456,"count":0}],"isBlockCoverage":true},{"functionName":"duplexify","ranges":[{"startOffset":1481,"endOffset":4788,"count":1},{"startOffset":1546,"endOffset":1568,"count":0},{"startOffset":1604,"endOffset":1652,"count":0},{"startOffset":1688,"endOffset":1736,"count":0},{"startOffset":1764,"endOffset":1830,"count":0},{"startOffset":1862,"endOffset":1928,"count":0},{"startOffset":1960,"endOffset":2026,"count":0},{"startOffset":2249,"endOffset":2276,"count":0},{"startOffset":2473,"endOffset":2503,"count":0},{"startOffset":2541,"endOffset":3640,"count":0},{"startOffset":3642,"endOffset":3681,"count":0},{"startOffset":3686,"endOffset":3761,"count":0},{"startOffset":3775,"endOffset":3816,"count":0},{"startOffset":3821,"endOffset":4206,"count":0},{"startOffset":4242,"endOffset":4787,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2639,"endOffset":2770,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2780,"endOffset":2829,"count":0}],"isBlockCoverage":false},{"functionName":"final","ranges":[{"startOffset":2988,"endOffset":3225,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4313,"endOffset":4413,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4421,"endOffset":4466,"count":0}],"isBlockCoverage":false},{"functionName":"read","ranges":[{"startOffset":4560,"endOffset":4569,"count":0}],"isBlockCoverage":false},{"functionName":"fromAsyncGen","ranges":[{"startOffset":4791,"endOffset":5688,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4956,"endOffset":5328,"count":1},{"startOffset":4993,"endOffset":5324,"count":41},{"startOffset":5143,"endOffset":5150,"count":1},{"startOffset":5150,"endOffset":5185,"count":40},{"startOffset":5185,"endOffset":5243,"count":0},{"startOffset":5243,"endOffset":5324,"count":40}],"isBlockCoverage":true},{"functionName":"write","ranges":[{"startOffset":5372,"endOffset":5504,"count":40}],"isBlockCoverage":true},{"functionName":"final","ranges":[{"startOffset":5510,"endOffset":5617,"count":1}],"isBlockCoverage":true},{"functionName":"destroy","ranges":[{"startOffset":5623,"endOffset":5680,"count":0}],"isBlockCoverage":false},{"functionName":"_duplexify","ranges":[{"startOffset":5690,"endOffset":8124,"count":0}],"isBlockCoverage":false}]},{"scriptId":"377","url":"node:internal/util/comparisons","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":19424,"count":1}],"isBlockCoverage":false},{"functionName":"areSimilarRegExps","ranges":[{"startOffset":1311,"endOffset":1451,"count":0}],"isBlockCoverage":false},{"functionName":"areSimilarFloatArrays","ranges":[{"startOffset":1453,"endOffset":1734,"count":0}],"isBlockCoverage":false},{"functionName":"areSimilarTypedArrays","ranges":[{"startOffset":1736,"endOffset":1986,"count":0}],"isBlockCoverage":false},{"functionName":"areEqualArrayBuffers","ranges":[{"startOffset":1988,"endOffset":2144,"count":0}],"isBlockCoverage":false},{"functionName":"isEqualBoxedPrimitive","ranges":[{"startOffset":2146,"endOffset":3005,"count":0}],"isBlockCoverage":false},{"functionName":"innerDeepEqual","ranges":[{"startOffset":3581,"endOffset":9246,"count":2},{"startOffset":3719,"endOffset":3782,"count":1},{"startOffset":3743,"endOffset":3766,"count":0},{"startOffset":3767,"endOffset":3777,"count":0},{"startOffset":3782,"endOffset":4167,"count":1},{"startOffset":3886,"endOffset":3946,"count":0},{"startOffset":4136,"endOffset":4163,"count":0},{"startOffset":4167,"endOffset":4515,"count":0},{"startOffset":4515,"endOffset":4642,"count":1},{"startOffset":4642,"endOffset":4665,"count":0},{"startOffset":4665,"endOffset":4693,"count":1},{"startOffset":4693,"endOffset":5165,"count":0},{"startOffset":5165,"endOffset":9185,"count":1},{"startOffset":5272,"endOffset":9185,"count":0},{"startOffset":9185,"endOffset":9245,"count":0}],"isBlockCoverage":true},{"functionName":"getEnumerables","ranges":[{"startOffset":9248,"endOffset":9388,"count":0}],"isBlockCoverage":false},{"functionName":"keyCheck","ranges":[{"startOffset":9390,"endOffset":12641,"count":1},{"startOffset":10133,"endOffset":10164,"count":0},{"startOffset":10317,"endOffset":10344,"count":0},{"startOffset":10461,"endOffset":11111,"count":0},{"startOffset":11219,"endOffset":11280,"count":0},{"startOffset":11282,"endOffset":11317,"count":0},{"startOffset":11362,"endOffset":11490,"count":0},{"startOffset":11492,"endOffset":11514,"count":0},{"startOffset":11812,"endOffset":12571,"count":0},{"startOffset":12573,"endOffset":12640,"count":0}],"isBlockCoverage":true},{"functionName":"setHasEqualElement","ranges":[{"startOffset":12643,"endOffset":13076,"count":0}],"isBlockCoverage":false},{"functionName":"findLooseMatchingPrimitives","ranges":[{"startOffset":13425,"endOffset":13930,"count":0}],"isBlockCoverage":false},{"functionName":"setMightHaveLoosePrim","ranges":[{"startOffset":13932,"endOffset":14124,"count":0}],"isBlockCoverage":false},{"functionName":"mapMightHaveLoosePrim","ranges":[{"startOffset":14126,"endOffset":14513,"count":0}],"isBlockCoverage":false},{"functionName":"setEquiv","ranges":[{"startOffset":14515,"endOffset":15761,"count":0}],"isBlockCoverage":false},{"functionName":"mapHasEqualEntry","ranges":[{"startOffset":15763,"endOffset":16370,"count":0}],"isBlockCoverage":false},{"functionName":"mapEquiv","ranges":[{"startOffset":16372,"endOffset":17925,"count":0}],"isBlockCoverage":false},{"functionName":"objEquiv","ranges":[{"startOffset":17927,"endOffset":19191,"count":1},{"startOffset":18173,"endOffset":18204,"count":0},{"startOffset":18250,"endOffset":18955,"count":0},{"startOffset":18991,"endOffset":19064,"count":0},{"startOffset":19100,"endOffset":19173,"count":0}],"isBlockCoverage":true},{"functionName":"isDeepEqual","ranges":[{"startOffset":19193,"endOffset":19274,"count":0}],"isBlockCoverage":false},{"functionName":"isDeepStrictEqual","ranges":[{"startOffset":19276,"endOffset":19364,"count":1}],"isBlockCoverage":true}]}],"timestamp":242817.955747,"source-map-cache":{"file:///root/Development/vultuk/agentrix/repository/src/cli/config-resolver.test.ts":{"lineLengths":[3022,0,8334],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/cli/config-resolver.test.ts"],"sourcesContent":["import assert from 'node:assert/strict';\nimport path from 'node:path';\nimport { describe, it, mock } from 'node:test';\n\nimport { parseArgs } from './arg-parser.js';\nimport { resolveConfig, validateNgrokConfig, buildConfigToSave } from './config-resolver.js';\n\ndescribe('config-resolver', () => {\n  it('prefers CLI provided values over file configuration', () => {\n    const args = parseArgs([\n      '--port',\n      '8081',\n      '--ui',\n      './ui',\n      '--workdir',\n      './workspace',\n      '--codex-command',\n      'codex-custom',\n    ]);\n\n    const fileConfig = {\n      port: 9999,\n      ui: './other-ui',\n      workdir: './other-workdir',\n      codexCommand: 'codex-file',\n    };\n\n    const cwdMock = mock.method(process, 'cwd', () => '/tmp/project');\n    try {\n      const resolved = resolveConfig(args, fileConfig);\n      assert.equal(resolved.port, 8081);\n      assert.equal(resolved.uiPath, path.resolve('/tmp/project', './ui'));\n      assert.equal(resolved.workdir, path.resolve('/tmp/project', './workspace'));\n      assert.equal(resolved.codexCommand, 'codex-custom');\n    } finally {\n      cwdMock.mock.restore();\n    }\n  });\n\n  it('falls back to configuration values and defaults', () => {\n    const args = parseArgs([]);\n    const fileConfig = {\n      port: 1234,\n      host: '127.0.0.1',\n      ui: './dist',\n      workdir: './repo',\n      defaultBranch: 'develop',\n      cursorCommand: 'cursor-cli',\n      ideCommand: 'deprecated-ide',\n      terminalSessionMode: 'tmux',\n    };\n\n    const cwdMock = mock.method(process, 'cwd', () => '/tmp/project');\n    try {\n      const resolved = resolveConfig(args, fileConfig);\n      assert.equal(resolved.port, 1234);\n      assert.equal(resolved.host, '127.0.0.1');\n      assert.equal(resolved.uiPath, path.resolve('/tmp/project', './dist'));\n      assert.equal(resolved.workdir, path.resolve('/tmp/project', './repo'));\n      assert.equal(resolved.defaultBranch, 'develop');\n      assert.equal(resolved.cursorCommand, 'cursor-cli');\n      assert.equal(resolved.ideCommand, 'deprecated-ide');\n      assert.equal(resolved.terminalSessionMode, 'tmux');\n    } finally {\n      cwdMock.mock.restore();\n    }\n  });\n\n  it('uses IDE command as fallback for cursor command when CLI did not provide one', () => {\n    const args = parseArgs([]);\n    const fileConfig = {\n      ideCommand: 'old-ide',\n    };\n\n    const resolved = resolveConfig(args, fileConfig);\n    assert.equal(resolved.cursorCommand, 'old-ide');\n  });\n\n  it('validates ngrok configuration pairing', () => {\n    const config = resolveConfig(parseArgs([]), { ngrokApiKey: 'key' });\n    assert.throws(() => validateNgrokConfig(config));\n\n    const okConfig = resolveConfig(parseArgs([]), { ngrokApiKey: 'key', ngrokDomain: 'domain' });\n    assert.doesNotThrow(() => validateNgrokConfig(okConfig));\n  });\n\n  it('builds configuration save payload based on provided fields', () => {\n    const args = parseArgs([\n      '--port',\n      '3333',\n      '--ui',\n      './ui',\n      '--workdir',\n      './workdir',\n      '--terminal-session-mode',\n      'tmux',\n    ]);\n\n    const fileConfig = {\n      codexCommand: 'codex-file',\n      ngrok: { apiKey: 'file-key', domain: 'file-domain' },\n    };\n\n    const cwdMock = mock.method(process, 'cwd', () => '/tmp/project');\n    try {\n      const resolved = resolveConfig(args, fileConfig);\n      const savePayload = buildConfigToSave(resolved, args, fileConfig);\n\n      assert.equal(savePayload.port, 3333);\n      assert.equal(savePayload.host, resolved.host);\n      assert.equal(savePayload.ui, './ui');\n      assert.equal(savePayload.workdir, './workdir');\n      assert.equal(savePayload.terminalSessionMode, 'tmux');\n      assert.deepEqual(savePayload.commands, { codex: 'codex-file' });\n    } finally {\n      cwdMock.mock.restore();\n    }\n  });\n});\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/cli/arg-parser.ts":{"lineLengths":[5482,0,17170],"data":{"version":3,"mappings":"kHAAA,OAAS,aAAc,iBAAoB,qBAC3C,OAAS,iCAAoC,iBAG7C,MAAM,cAAe,CAJrB,MAIqB,+BACX,KACA,SACA,0BAA2C,KAEnD,aAAc,CACZ,KAAK,KAAO,KAAK,kBAAkB,EACnC,KAAK,SAAW,KAAK,sBAAsB,CAC7C,CAEQ,mBAAoB,CAC1B,MAAO,CACL,KAAM,aACN,KAAM,aACN,GAAI,KACJ,QAAS,KACT,SAAU,KACV,aAAc,KACd,cAAe,KACf,aAAc,MACd,aAAc,KACd,cAAe,KACf,cAAe,KACf,WAAY,KACZ,cAAe,KACf,YAAa,KACb,YAAa,KACb,aAAc,KACd,oBAAqB,KACrB,KAAM,MACN,KAAM,MACN,QAAS,KACX,CACF,CAEQ,uBAAwB,CAC9B,MAAO,CACL,KAAM,MACN,KAAM,MACN,GAAI,MACJ,QAAS,MACT,SAAU,MACV,aAAc,MACd,cAAe,MACf,aAAc,MACd,aAAc,MACd,cAAe,MACf,cAAe,MACf,WAAY,MACZ,cAAe,MACf,YAAa,MACb,YAAa,MACb,aAAc,MACd,oBAAqB,MACrB,KAAM,KACR,CACF,CAEQ,aAAa,OAAgB,MAAmC,CACtE,GAAI,CAAC,MAAO,CACV,MAAM,IAAI,MAAM,wBAAwB,MAAM,EAAE,CAClD,CACA,OAAO,KACT,CAEQ,gBAAgB,OAAgB,MAAe,UAA2B,CAChF,MAAM,QAAU,MAAM,KAAK,EAC3B,GAAI,CAAC,QAAS,CACZ,MAAM,IAAI,MAAM,GAAG,SAAS,kBAAkB,CAChD,CACA,OAAO,OACT,CAEQ,uBAAuB,SAAkB,YAA2B,CAC1E,MAAM,WAAa,KAAK,gBAAgB,YAAa,SAAU,uBAAuB,EACtF,MAAM,MAAQ,WAAW,YAAY,EAErC,GAAI,CAAC,6BAA6B,IAAI,KAAK,EAAG,CAC5C,MAAM,IAAI,MACR,kCAAkC,QAAQ,uBAAuB,CAC/D,GAAG,4BACL,EAAE,KAAK,IAAI,CAAC,EACd,CACF,CAEA,GAAI,KAAK,SAAS,qBAAqB,EAAG,CACxC,GAAI,KAAK,KAAK,sBAAwB,MAAO,CAC3C,MAAM,IAAI,MACR,8CAA8C,KAAK,yBAAyB,QAAQ,WAAW,GACjG,CACF,CACA,MACF,CAEA,KAAK,KAAK,oBAAsB,MAChC,KAAK,SAAS,qBAAqB,EAAI,KACvC,KAAK,0BAA4B,WACnC,CAEQ,UAAU,OAAgB,MAAuB,CACvD,MAAM,OAAS,OAAO,SAAS,MAAO,EAAE,EACxC,GAAI,CAAC,OAAO,UAAU,MAAM,GAAK,OAAS,GAAK,OAAS,MAAO,CAC7D,MAAM,IAAI,MAAM,iBAAiB,KAAK,EAAE,CAC1C,CACA,OAAO,MACT,CAEQ,kBAAkB,OAAgB,MAAuB,CAC/D,MAAM,QAAU,MAAM,KAAK,EAAE,YAAY,EACzC,GAAI,CAAC,CAAC,OAAQ,QAAS,MAAM,EAAE,SAAS,OAAO,EAAG,CAChD,MAAM,IAAI,MAAM,iDAAiD,CACnE,CACA,OAAO,OACT,CAEA,MAAM,KAA4B,CAChC,QAAS,EAAI,EAAG,EAAI,KAAK,OAAQ,GAAK,EAAG,CACvC,MAAM,MAAQ,KAAK,CAAC,EAEpB,OAAQ,MAAO,CACb,IAAK,SACL,IAAK,KAAM,CACT,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,KAAK,KAAO,KAAK,UAAU,MAAO,KAAK,EAC5C,KAAK,SAAS,MAAM,EAAI,KACxB,KACF,CACA,IAAK,SACL,IAAK,KAAM,CACT,KAAK,KAAK,KAAO,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EACnD,KAAK,SAAS,MAAM,EAAI,KACxB,KACF,CACA,IAAK,OACL,IAAK,KAAM,CACT,KAAK,KAAK,GAAK,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EACjD,KAAK,SAAS,IAAI,EAAI,KACtB,KACF,CACA,IAAK,YACL,IAAK,KAAM,CACT,KAAK,KAAK,QAAU,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EACtD,KAAK,SAAS,SAAS,EAAI,KAC3B,KACF,CACA,IAAK,kBAAmB,CACtB,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,KAAK,aAAe,KAAK,kBAAkB,MAAO,KAAK,EAC5D,KAAK,SAAS,cAAc,EAAI,KAChC,KACF,CACA,IAAK,0BAA2B,CAC9B,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,uBAAuB,MAAO,KAAK,EACxC,KACF,CACA,IAAK,eAAgB,CACnB,KAAK,uBAAuB,OAAQ,KAAK,EACzC,KACF,CACA,IAAK,YAAa,CAChB,KAAK,uBAAuB,MAAO,KAAK,EACxC,KACF,CACA,IAAK,mBAAoB,CACvB,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,KAAK,cAAgB,KAAK,gBAAgB,MAAO,MAAO,gBAAgB,EAC7E,KAAK,SAAS,eAAe,EAAI,KACjC,KACF,CACA,IAAK,aACL,IAAK,KAAM,CACT,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,KAAK,SAAW,KAAK,gBAAgB,MAAO,MAAO,UAAU,EAClE,KAAK,SAAS,UAAU,EAAI,KAC5B,KACF,CACA,IAAK,kBAAmB,CACtB,KAAK,KAAK,aAAe,KACzB,KAAK,SAAS,cAAc,EAAI,KAChC,KACF,CACA,IAAK,kBAAmB,CACtB,KAAK,KAAK,aAAe,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAC3D,KAAK,SAAS,cAAc,EAAI,KAChC,KACF,CACA,IAAK,mBAAoB,CACvB,KAAK,KAAK,cAAgB,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAC5D,KAAK,SAAS,eAAe,EAAI,KACjC,KACF,CACA,IAAK,mBAAoB,CACvB,KAAK,KAAK,cAAgB,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAC5D,KAAK,SAAS,eAAe,EAAI,KACjC,KACF,CACA,IAAK,gBAAiB,CACpB,KAAK,KAAK,WAAa,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EACzD,KAAK,SAAS,YAAY,EAAI,KAC9B,KACF,CACA,IAAK,mBAAoB,CACvB,KAAK,KAAK,cAAgB,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAC5D,KAAK,SAAS,eAAe,EAAI,KACjC,KACF,CACA,IAAK,kBAAmB,CACtB,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,KAAK,YAAc,KAAK,gBAAgB,MAAO,MAAO,eAAe,EAC1E,KAAK,SAAS,aAAa,EAAI,KAC/B,KACF,CACA,IAAK,iBAAkB,CACrB,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,KAAK,YAAc,KAAK,gBAAgB,MAAO,MAAO,cAAc,EACzE,KAAK,SAAS,aAAa,EAAI,KAC/B,KACF,CACA,IAAK,mBAAoB,CACvB,MAAM,MAAQ,KAAK,aAAa,MAAO,KAAK,EAAE,CAAC,CAAC,EAChD,KAAK,KAAK,aAAe,KAAK,gBAAgB,MAAO,MAAO,gBAAgB,EAC5E,KAAK,SAAS,cAAc,EAAI,KAChC,KACF,CACA,IAAK,SAAU,CACb,KAAK,KAAK,KAAO,KACjB,KAAK,SAAS,MAAM,EAAI,KACxB,KACF,CACA,IAAK,SACL,IAAK,KACH,KAAK,KAAK,KAAO,KACjB,MACF,IAAK,YACL,IAAK,KACH,KAAK,KAAK,QAAU,KACpB,MACF,QACE,GAAI,OAAS,MAAM,WAAW,GAAG,EAAG,CAClC,MAAM,IAAI,MAAM,mBAAmB,KAAK,EAAE,CAC5C,KAAO,CACL,MAAM,IAAI,MAAM,wBAAwB,KAAK,EAAE,CACjD,CACJ,CACF,CAEA,MAAO,CACL,GAAG,KAAK,KACR,UAAW,KAAK,QAClB,CACF,CACF,CAEO,SAAS,UAAU,KAA4B,CACpD,MAAM,OAAS,IAAI,eACnB,OAAO,OAAO,MAAM,IAAI,CAC1B,CAHgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/cli/arg-parser.ts"],"sourcesContent":["import { DEFAULT_HOST, DEFAULT_PORT } from '../server/index.js';\nimport { VALID_TERMINAL_SESSION_MODES } from './constants.js';\nimport type { ParsedArgs } from './types.js';\n\nclass ArgumentParser {\n  private args: Omit<ParsedArgs, '_provided'>;\n  private provided: Record<string, boolean>;\n  private terminalSessionModeSource: string | null = null;\n\n  constructor() {\n    this.args = this.createDefaultArgs();\n    this.provided = this.createProvidedTracker();\n  }\n\n  private createDefaultArgs() {\n    return {\n      port: DEFAULT_PORT,\n      host: DEFAULT_HOST,\n      ui: null,\n      workdir: null,\n      password: null,\n      cookieSecure: null,\n      defaultBranch: null,\n      showPassword: false,\n      codexCommand: null,\n      claudeCommand: null,\n      cursorCommand: null,\n      ideCommand: null,\n      vscodeCommand: null,\n      ngrokApiKey: null,\n      ngrokDomain: null,\n      openaiApiKey: null,\n      terminalSessionMode: null,\n      save: false,\n      help: false,\n      version: false,\n    };\n  }\n\n  private createProvidedTracker() {\n    return {\n      port: false,\n      host: false,\n      ui: false,\n      workdir: false,\n      password: false,\n      cookieSecure: false,\n      defaultBranch: false,\n      showPassword: false,\n      codexCommand: false,\n      claudeCommand: false,\n      cursorCommand: false,\n      ideCommand: false,\n      vscodeCommand: false,\n      ngrokApiKey: false,\n      ngrokDomain: false,\n      openaiApiKey: false,\n      terminalSessionMode: false,\n      save: false,\n    };\n  }\n\n  private requireValue(_token: string, value: string | undefined): string {\n    if (!value) {\n      throw new Error(`Expected value after ${_token}`);\n    }\n    return value;\n  }\n\n  private requireNonEmpty(_token: string, value: string, fieldName: string): string {\n    const trimmed = value.trim();\n    if (!trimmed) {\n      throw new Error(`${fieldName} cannot be empty`);\n    }\n    return trimmed;\n  }\n\n  private setTerminalSessionMode(rawValue: string, sourceToken: string): void {\n    const normalized = this.requireNonEmpty(sourceToken, rawValue, 'Terminal session mode');\n    const lower = normalized.toLowerCase();\n\n    if (!VALID_TERMINAL_SESSION_MODES.has(lower)) {\n      throw new Error(\n        `Invalid terminal session mode \"${rawValue}\". Expected one of: ${[\n          ...VALID_TERMINAL_SESSION_MODES,\n        ].join(', ')}`,\n      );\n    }\n\n    if (this.provided['terminalSessionMode']) {\n      if (this.args.terminalSessionMode !== lower) {\n        throw new Error(\n          `Conflicting terminal session mode options (${this.terminalSessionModeSource} and ${sourceToken})`,\n        );\n      }\n      return;\n    }\n\n    this.args.terminalSessionMode = lower;\n    this.provided['terminalSessionMode'] = true;\n    this.terminalSessionModeSource = sourceToken;\n  }\n\n  private parsePort(_token: string, value: string): number {\n    const parsed = Number.parseInt(value, 10);\n    if (!Number.isInteger(parsed) || parsed < 1 || parsed > 65535) {\n      throw new Error(`Invalid port: ${value}`);\n    }\n    return parsed;\n  }\n\n  private parseCookieSecure(_token: string, value: string): string {\n    const trimmed = value.trim().toLowerCase();\n    if (!['true', 'false', 'auto'].includes(trimmed)) {\n      throw new Error('cookie-secure must be one of: true, false, auto');\n    }\n    return trimmed;\n  }\n\n  parse(argv: string[]): ParsedArgs {\n    for (let i = 0; i < argv.length; i += 1) {\n      const token = argv[i];\n\n      switch (token) {\n        case '--port':\n        case '-p': {\n          const value = this.requireValue(token, argv[++i]);\n          this.args.port = this.parsePort(token, value);\n          this.provided['port'] = true;\n          break;\n        }\n        case '--host':\n        case '-H': {\n          this.args.host = this.requireValue(token, argv[++i]);\n          this.provided['host'] = true;\n          break;\n        }\n        case '--ui':\n        case '-u': {\n          this.args.ui = this.requireValue(token, argv[++i]);\n          this.provided['ui'] = true;\n          break;\n        }\n        case '--workdir':\n        case '-w': {\n          this.args.workdir = this.requireValue(token, argv[++i]);\n          this.provided['workdir'] = true;\n          break;\n        }\n        case '--cookie-secure': {\n          const value = this.requireValue(token, argv[++i]);\n          this.args.cookieSecure = this.parseCookieSecure(token, value);\n          this.provided['cookieSecure'] = true;\n          break;\n        }\n        case '--terminal-session-mode': {\n          const value = this.requireValue(token, argv[++i]);\n          this.setTerminalSessionMode(value, token);\n          break;\n        }\n        case '--force-tmux': {\n          this.setTerminalSessionMode('tmux', token);\n          break;\n        }\n        case '--no-tmux': {\n          this.setTerminalSessionMode('pty', token);\n          break;\n        }\n        case '--default-branch': {\n          const value = this.requireValue(token, argv[++i]);\n          this.args.defaultBranch = this.requireNonEmpty(token, value, 'Default branch');\n          this.provided['defaultBranch'] = true;\n          break;\n        }\n        case '--password':\n        case '-P': {\n          const value = this.requireValue(token, argv[++i]);\n          this.args.password = this.requireNonEmpty(token, value, 'Password');\n          this.provided['password'] = true;\n          break;\n        }\n        case '--show-password': {\n          this.args.showPassword = true;\n          this.provided['showPassword'] = true;\n          break;\n        }\n        case '--codex-command': {\n          this.args.codexCommand = this.requireValue(token, argv[++i]);\n          this.provided['codexCommand'] = true;\n          break;\n        }\n        case '--claude-command': {\n          this.args.claudeCommand = this.requireValue(token, argv[++i]);\n          this.provided['claudeCommand'] = true;\n          break;\n        }\n        case '--cursor-command': {\n          this.args.cursorCommand = this.requireValue(token, argv[++i]);\n          this.provided['cursorCommand'] = true;\n          break;\n        }\n        case '--ide-command': {\n          this.args.ideCommand = this.requireValue(token, argv[++i]);\n          this.provided['ideCommand'] = true;\n          break;\n        }\n        case '--vscode-command': {\n          this.args.vscodeCommand = this.requireValue(token, argv[++i]);\n          this.provided['vscodeCommand'] = true;\n          break;\n        }\n        case '--ngrok-api-key': {\n          const value = this.requireValue(token, argv[++i]);\n          this.args.ngrokApiKey = this.requireNonEmpty(token, value, 'ngrok API key');\n          this.provided['ngrokApiKey'] = true;\n          break;\n        }\n        case '--ngrok-domain': {\n          const value = this.requireValue(token, argv[++i]);\n          this.args.ngrokDomain = this.requireNonEmpty(token, value, 'ngrok domain');\n          this.provided['ngrokDomain'] = true;\n          break;\n        }\n        case '--openai-api-key': {\n          const value = this.requireValue(token, argv[++i]);\n          this.args.openaiApiKey = this.requireNonEmpty(token, value, 'OpenAI API key');\n          this.provided['openaiApiKey'] = true;\n          break;\n        }\n        case '--save': {\n          this.args.save = true;\n          this.provided['save'] = true;\n          break;\n        }\n        case '--help':\n        case '-h':\n          this.args.help = true;\n          break;\n        case '--version':\n        case '-v':\n          this.args.version = true;\n          break;\n        default:\n          if (token && token.startsWith('-')) {\n            throw new Error(`Unknown option: ${token}`);\n          } else {\n            throw new Error(`Unexpected argument: ${token}`);\n          }\n      }\n    }\n\n    return {\n      ...this.args,\n      _provided: this.provided,\n    };\n  }\n}\n\nexport function parseArgs(argv: string[]): ParsedArgs {\n  const parser = new ArgumentParser();\n  return parser.parse(argv);\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/cli/config-resolver.ts":{"lineLengths":[5211,0,14858],"data":{"version":3,"mappings":"kHAAA,OAAO,SAAU,YACjB,OAAS,kBAAqB,WAC9B,OAAS,aAAc,iBAAoB,qBAG3C,MAAM,gBAAkB,cAAc,IAAI,IAAI,gBAAiB,YAAY,GAAG,CAAC,EA0B/E,SAAS,aACP,SACA,SACA,YACA,aACG,CACH,GAAI,SAAU,CACZ,OAAO,QACT,CACA,OAAO,aAAe,YACxB,CAVS,oCAYF,SAAS,cACd,KACA,WACgB,CAChB,KAAM,CAAE,UAAW,QAAS,EAAI,KAChC,MAAM,GAAK,WAEX,MAAM,KAAO,aAAa,SAAS,MAAM,GAAK,MAAO,KAAK,KAAM,GAAG,MAAM,EAAyB,YAAY,EAC9G,MAAM,KAAO,aAAa,SAAS,MAAM,GAAK,MAAO,KAAK,KAAM,GAAG,MAAM,EAAyB,YAAY,EAC9G,MAAM,QAAU,aAAa,SAAS,IAAI,GAAK,MAAO,KAAK,GAAI,GAAG,IAAI,EAAyB,IAAI,EACnG,MAAM,aAAe,aAAa,SAAS,SAAS,GAAK,MAAO,KAAK,QAAS,GAAG,SAAS,EAAyB,IAAI,EACvH,MAAM,SAAW,aAAa,SAAS,UAAU,GAAK,MAAO,KAAK,SAAU,GAAG,UAAU,EAAyB,IAAI,EACtH,MAAM,cAAgB,aAAa,SAAS,eAAe,GAAK,MAAO,KAAK,cAAe,GAAG,eAAe,EAAyB,IAAI,EAC1I,MAAM,aAAe,aAAa,SAAS,cAAc,GAAK,MAAO,KAAK,aAAc,GAAG,cAAc,EAAyB,MAAM,EAExI,MAAM,gBACJ,GAAG,iBAAiB,GAAK,OAAO,GAAG,iBAAiB,IAAM,UAAY,OAAO,KAAK,GAAG,iBAAiB,CAAW,EAAE,OAAS,EACvH,GAAG,iBAAiB,EACrB,KAEN,MAAM,aAAe,aAAa,SAAS,cAAc,GAAK,MAAO,KAAK,aAAc,GAAG,cAAc,EAAyB,IAAI,EACtI,MAAM,cAAgB,aAAa,SAAS,eAAe,GAAK,MAAO,KAAK,cAAe,GAAG,eAAe,EAAyB,IAAI,EAC1I,MAAM,WAAa,aAAa,SAAS,YAAY,GAAK,MAAO,KAAK,WAAY,GAAG,YAAY,EAAyB,IAAI,EAE9H,MAAM,cAAiB,SAAS,eAAe,GAAK,MAChD,KAAK,cACJ,SAAS,YAAY,GAAK,MACzB,KAAK,WACJ,GAAG,eAAe,GAA6B,GAAG,YAAY,GAA4B,KAEjG,MAAM,cAAgB,aAAa,SAAS,eAAe,GAAK,MAAO,KAAK,cAAe,GAAG,eAAe,EAAyB,IAAI,EAC1I,MAAM,YAAc,aAAa,SAAS,aAAa,GAAK,MAAO,KAAK,YAAa,GAAG,aAAa,EAAyB,IAAI,EAClI,MAAM,YAAc,aAAa,SAAS,aAAa,GAAK,MAAO,KAAK,YAAa,GAAG,aAAa,EAAyB,IAAI,EAClI,MAAM,aAAe,aAAa,SAAS,cAAc,GAAK,MAAO,KAAK,aAAc,GAAG,cAAc,EAAyB,IAAI,EACtI,MAAM,oBAAsB,aAAa,SAAS,qBAAqB,GAAK,MAAO,KAAK,oBAAqB,GAAG,qBAAqB,EAAyB,MAAM,EAEpK,MAAM,iBAAoB,GAAG,kBAAkB,GAA4B,KAC3E,MAAM,cAAiB,GAAG,eAAe,GAA4B,KACrE,MAAM,QAAW,GAAG,SAAS,GAA4B,KAEzD,MAAM,OAAS,QAAU,KAAK,QAAQ,QAAQ,IAAI,EAAG,OAAO,EAAI,gBAChE,MAAM,QAAU,aAAe,KAAK,QAAQ,QAAQ,IAAI,EAAG,YAAY,EAAI,QAAQ,IAAI,EAEvF,MAAO,CACL,KACA,KACA,OACA,QACA,SACA,aAAc,KAAK,aACnB,cACA,gBACA,aAAc,cAAgB,OAC9B,aACA,cACA,cACA,WACA,cACA,YACA,YACA,iBACA,aACA,cACA,QACA,oBAAqB,qBAAuB,MAC9C,CACF,CAlEgB,sCAoET,SAAS,oBAAoB,OAA8B,CAChE,MAAM,UAAY,QAAQ,OAAO,WAAW,EAC5C,MAAM,UAAY,QAAQ,OAAO,WAAW,EAE5C,GAAK,WAAa,CAAC,WAAe,WAAa,CAAC,UAAY,CAC1D,MAAM,IAAI,MAAM,oEAAoE,CACtF,CACF,CAPgB,kDAST,SAAS,kBACd,OACA,KACA,WACyB,CACzB,KAAM,CAAE,UAAW,QAAS,EAAI,KAChC,MAAM,GAAK,WAEX,MAAM,aAAwC,CAC5C,KAAM,OAAO,KACb,KAAM,OAAO,IACf,EAEA,MAAM,QAAW,SAAS,IAAI,GAAK,MAAS,KAAK,GAAM,GAAG,IAAI,GAA4B,KAC1F,GAAI,QAAS,CACX,aAAa,IAAI,EAAI,OACvB,CAEA,MAAM,aAAgB,SAAS,SAAS,GAAK,MAAS,KAAK,QAAW,GAAG,SAAS,GAA4B,KAC9G,GAAI,aAAc,CAChB,aAAa,SAAS,EAAI,YAC5B,CAEA,GAAI,OAAO,SAAU,CACnB,aAAa,UAAU,EAAI,OAAO,QACpC,CAEA,GAAI,OAAO,cAAe,CACxB,aAAa,eAAe,EAAI,OAAO,aACzC,CAEA,GAAI,OAAO,gBAAiB,CAC1B,aAAa,iBAAiB,EAAI,OAAO,eAC3C,CAEA,GAAI,OAAO,cAAgB,OAAO,eAAiB,OAAQ,CACzD,aAAa,SAAS,EAAI,CAAE,OAAQ,OAAO,YAAa,CAC1D,CAEA,GAAI,OAAO,cAAe,CACxB,aAAa,eAAe,EAAI,OAAO,aACzC,CAEA,GAAI,OAAO,QAAS,CAClB,aAAa,SAAS,EAAI,OAAO,OACnC,CAEA,IAAK,SAAS,qBAAqB,GAAK,QAAU,GAAG,qBAAqB,IAAM,OAAW,CACzF,aAAa,qBAAqB,EAAI,OAAO,mBAC/C,CAEA,MAAM,eAAyC,CAAC,EAChD,GAAI,OAAO,aAAc,eAAe,OAAO,EAAI,OAAO,aAC1D,GAAI,OAAO,cAAe,eAAe,QAAQ,EAAI,OAAO,cAC5D,GAAI,OAAO,cAAe,eAAe,QAAQ,EAAI,OAAO,cAC5D,GAAI,OAAO,WAAY,eAAe,KAAK,EAAI,OAAO,WACtD,GAAI,OAAO,cAAe,eAAe,QAAQ,EAAI,OAAO,cAE5D,GAAI,OAAO,KAAK,cAAc,EAAE,OAAS,EAAG,CAC1C,aAAa,UAAU,EAAI,cAC7B,CAEA,GAAI,OAAO,aAAe,OAAO,YAAa,CAC5C,aAAa,OAAO,EAAI,CACtB,OAAQ,OAAO,YACf,OAAQ,OAAO,WACjB,CACF,CAEA,GAAI,OAAO,iBAAkB,CAC3B,aAAa,YAAY,EAAI,CAC3B,OAAQ,OAAO,gBACjB,CACF,CAEA,GAAI,OAAO,aAAc,CACvB,aAAa,cAAc,EAAI,OAAO,YACxC,CAEA,OAAO,YACT,CAhFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/cli/config-resolver.ts"],"sourcesContent":["import path from 'node:path';\nimport { fileURLToPath } from 'node:url';\nimport { DEFAULT_HOST, DEFAULT_PORT } from '../server/index.js';\nimport type { ParsedArgs } from './types.js';\n\nconst BUNDLED_UI_PATH = fileURLToPath(new URL('../../ui/dist', import.meta.url));\n\ninterface ResolvedConfig {\n  port: number;\n  host: string;\n  uiPath: string;\n  workdir: string;\n  password: string | null;\n  showPassword: boolean;\n  defaultBranch: string | null;\n  defaultBranches: Record<string, string> | null;\n  cookieSecure: string;\n  codexCommand: string | null;\n  claudeCommand: string | null;\n  cursorCommand: string | null;\n  ideCommand: string | null;\n  vscodeCommand: string | null;\n  ngrokApiKey: string | null;\n  ngrokDomain: string | null;\n  automationApiKey: string | null;\n  openaiApiKey: string | null;\n  branchNameLlm: string | null;\n  planLlm: string | null;\n  terminalSessionMode: string;\n}\n\nfunction resolveValue<T>(\n  provided: boolean,\n  cliValue: T,\n  configValue: T | undefined,\n  defaultValue: T,\n): T {\n  if (provided) {\n    return cliValue;\n  }\n  return configValue ?? defaultValue;\n}\n\nexport function resolveConfig(\n  args: ParsedArgs,\n  fileConfig: Record<string, unknown>,\n): ResolvedConfig {\n  const { _provided: provided } = args;\n  const fc = fileConfig;\n\n  const port = resolveValue(provided['port'] ?? false, args.port, fc['port'] as number | undefined, DEFAULT_PORT);\n  const host = resolveValue(provided['host'] ?? false, args.host, fc['host'] as string | undefined, DEFAULT_HOST);\n  const uiInput = resolveValue(provided['ui'] ?? false, args.ui, fc['ui'] as string | undefined, null);\n  const workdirInput = resolveValue(provided['workdir'] ?? false, args.workdir, fc['workdir'] as string | undefined, null);\n  const password = resolveValue(provided['password'] ?? false, args.password, fc['password'] as string | undefined, null);\n  const defaultBranch = resolveValue(provided['defaultBranch'] ?? false, args.defaultBranch, fc['defaultBranch'] as string | undefined, null);\n  const cookieSecure = resolveValue(provided['cookieSecure'] ?? false, args.cookieSecure, fc['cookieSecure'] as string | undefined, 'auto');\n\n  const defaultBranches =\n    fc['defaultBranches'] && typeof fc['defaultBranches'] === 'object' && Object.keys(fc['defaultBranches'] as object).length > 0\n      ? (fc['defaultBranches'] as Record<string, string>)\n      : null;\n\n  const codexCommand = resolveValue(provided['codexCommand'] ?? false, args.codexCommand, fc['codexCommand'] as string | undefined, null);\n  const claudeCommand = resolveValue(provided['claudeCommand'] ?? false, args.claudeCommand, fc['claudeCommand'] as string | undefined, null);\n  const ideCommand = resolveValue(provided['ideCommand'] ?? false, args.ideCommand, fc['ideCommand'] as string | undefined, null);\n\n  const cursorCommand = (provided['cursorCommand'] ?? false)\n    ? args.cursorCommand\n    : (provided['ideCommand'] ?? false)\n      ? args.ideCommand\n      : (fc['cursorCommand'] as string | undefined) ?? (fc['ideCommand'] as string | undefined) ?? null;\n\n  const vscodeCommand = resolveValue(provided['vscodeCommand'] ?? false, args.vscodeCommand, fc['vscodeCommand'] as string | undefined, null);\n  const ngrokApiKey = resolveValue(provided['ngrokApiKey'] ?? false, args.ngrokApiKey, fc['ngrokApiKey'] as string | undefined, null);\n  const ngrokDomain = resolveValue(provided['ngrokDomain'] ?? false, args.ngrokDomain, fc['ngrokDomain'] as string | undefined, null);\n  const openaiApiKey = resolveValue(provided['openaiApiKey'] ?? false, args.openaiApiKey, fc['openaiApiKey'] as string | undefined, null);\n  const terminalSessionMode = resolveValue(provided['terminalSessionMode'] ?? false, args.terminalSessionMode, fc['terminalSessionMode'] as string | undefined, 'auto');\n\n  const automationApiKey = (fc['automationApiKey'] as string | undefined) ?? null;\n  const branchNameLlm = (fc['branchNameLlm'] as string | undefined) ?? null;\n  const planLlm = (fc['planLlm'] as string | undefined) ?? null;\n\n  const uiPath = uiInput ? path.resolve(process.cwd(), uiInput) : BUNDLED_UI_PATH;\n  const workdir = workdirInput ? path.resolve(process.cwd(), workdirInput) : process.cwd();\n\n  return {\n    port,\n    host,\n    uiPath,\n    workdir,\n    password,\n    showPassword: args.showPassword,\n    defaultBranch,\n    defaultBranches,\n    cookieSecure: cookieSecure ?? 'auto',\n    codexCommand,\n    claudeCommand,\n    cursorCommand,\n    ideCommand,\n    vscodeCommand,\n    ngrokApiKey,\n    ngrokDomain,\n    automationApiKey,\n    openaiApiKey,\n    branchNameLlm,\n    planLlm,\n    terminalSessionMode: terminalSessionMode ?? 'auto',\n  };\n}\n\nexport function validateNgrokConfig(config: ResolvedConfig): void {\n  const hasApiKey = Boolean(config.ngrokApiKey);\n  const hasDomain = Boolean(config.ngrokDomain);\n\n  if ((hasApiKey && !hasDomain) || (hasDomain && !hasApiKey)) {\n    throw new Error('Both --ngrok-api-key and --ngrok-domain must be provided together.');\n  }\n}\n\nexport function buildConfigToSave(\n  config: ResolvedConfig,\n  args: ParsedArgs,\n  fileConfig: Record<string, unknown>,\n): Record<string, unknown> {\n  const { _provided: provided } = args;\n  const fc = fileConfig;\n\n  const configToSave: Record<string, unknown> = {\n    port: config.port,\n    host: config.host,\n  };\n\n  const uiInput = (provided['ui'] ?? false) ? args.ui : (fc['ui'] as string | undefined) ?? null;\n  if (uiInput) {\n    configToSave['ui'] = uiInput;\n  }\n\n  const workdirInput = (provided['workdir'] ?? false) ? args.workdir : (fc['workdir'] as string | undefined) ?? null;\n  if (workdirInput) {\n    configToSave['workdir'] = workdirInput;\n  }\n\n  if (config.password) {\n    configToSave['password'] = config.password;\n  }\n\n  if (config.defaultBranch) {\n    configToSave['defaultBranch'] = config.defaultBranch;\n  }\n\n  if (config.defaultBranches) {\n    configToSave['defaultBranches'] = config.defaultBranches;\n  }\n\n  if (config.cookieSecure && config.cookieSecure !== 'auto') {\n    configToSave['cookies'] = { secure: config.cookieSecure };\n  }\n\n  if (config.branchNameLlm) {\n    configToSave['branchNameLlm'] = config.branchNameLlm;\n  }\n\n  if (config.planLlm) {\n    configToSave['planLlm'] = config.planLlm;\n  }\n\n  if ((provided['terminalSessionMode'] ?? false) || fc['terminalSessionMode'] !== undefined) {\n    configToSave['terminalSessionMode'] = config.terminalSessionMode;\n  }\n\n  const commandsConfig: Record<string, string> = {};\n  if (config.codexCommand) commandsConfig['codex'] = config.codexCommand;\n  if (config.claudeCommand) commandsConfig['claude'] = config.claudeCommand;\n  if (config.cursorCommand) commandsConfig['cursor'] = config.cursorCommand;\n  if (config.ideCommand) commandsConfig['ide'] = config.ideCommand;\n  if (config.vscodeCommand) commandsConfig['vscode'] = config.vscodeCommand;\n\n  if (Object.keys(commandsConfig).length > 0) {\n    configToSave['commands'] = commandsConfig;\n  }\n\n  if (config.ngrokApiKey && config.ngrokDomain) {\n    configToSave['ngrok'] = {\n      apiKey: config.ngrokApiKey,\n      domain: config.ngrokDomain,\n    };\n  }\n\n  if (config.automationApiKey) {\n    configToSave['automation'] = {\n      apiKey: config.automationApiKey,\n    };\n  }\n\n  if (config.openaiApiKey) {\n    configToSave['openaiApiKey'] = config.openaiApiKey;\n  }\n\n  return configToSave;\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/server/index.ts":{"lineLengths":[5028,0,14138],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/server/index.ts"],"sourcesContent":["import type { Server as HttpServer } from 'node:http';\nimport http from 'node:http';\n\nimport { DEFAULT_HOST, DEFAULT_PORT } from '../config/constants.js';\nimport { createAuthManager } from '../core/auth.js';\nimport { resolveWorkdir } from '../core/workdir.js';\nimport { disposeAllSessions } from '../core/terminal-sessions.js';\nimport { generateRandomPassword } from '../utils/random.js';\nimport { sendJson } from '../utils/http.js';\nimport { createRouter } from './router.js';\nimport { attachTerminalWebSockets } from './websocket.js';\nimport { createUiProvider } from './ui.js';\nimport { createCookieManager } from './cookies.js';\nimport { createAgentCommands } from '../config/agent-commands.js';\nimport { createBranchNameGenerator } from '../core/branch-name.js';\nimport { createPlanService } from '../core/plan.js';\nimport { configureTaskPersistence, flushTaskPersistence } from '../core/tasks.js';\nimport { createTaskStore } from '../core/task-store.js';\nimport type { ServerConfig } from '../types/config.js';\n\nexport interface StartServerResult {\n  server: HttpServer;\n  host: string;\n  port: number;\n  uiPath: string;\n  workdir: string;\n  close: () => Promise<void>;\n  password: string;\n  commands: unknown;\n  publicUrl: string | null;\n}\n\nexport async function startServer({\n  uiPath,\n  port = DEFAULT_PORT,\n  host = DEFAULT_HOST,\n  workdir,\n  password,\n  commandOverrides,\n  ngrok: ngrokConfig,\n  automationApiKey,\n  openaiApiKey,\n  branchNameLlm,\n  planLlm,\n  defaultBranches,\n  cookieSecure,\n  terminalSessionMode = 'auto',\n}: Partial<ServerConfig> = {}): Promise<StartServerResult> {\n  if (!uiPath) {\n    throw new Error('Missing required option: uiPath');\n  }\n\n  const uiProvider = await createUiProvider(uiPath);\n  const resolvedWorkdir = workdir ? await resolveWorkdir(workdir) : process.cwd();\n  const taskStore = createTaskStore({ root: resolvedWorkdir, logger: console });\n  await configureTaskPersistence({\n    saveSnapshot: (snapshot: unknown) => taskStore.saveSnapshot(snapshot),\n    logger: console,\n  });\n  const resolvedPassword =\n    typeof password === 'string' && password.length > 0 ? password : generateRandomPassword();\n  const authManager = createAuthManager(resolvedPassword);\n  const agentCommands = createAgentCommands(commandOverrides);\n  const resolvedOpenAiKey = openaiApiKey ?? process.env['OPENAI_API_KEY'] ?? undefined;\n  if (resolvedOpenAiKey && !process.env['OPENAI_API_KEY']) {\n    process.env['OPENAI_API_KEY'] = resolvedOpenAiKey;\n  }\n  const branchNameGenerator = createBranchNameGenerator({\n    defaultLlm: branchNameLlm,\n  });\n  const planService = createPlanService({ defaultLlm: planLlm });\n  const cookieManager = createCookieManager({ secureSetting: cookieSecure });\n  const router = createRouter({\n    authManager,\n    workdir: resolvedWorkdir,\n    agentCommands,\n    automationApiKey,\n    branchNameGenerator,\n    planService,\n    defaultBranches,\n    cookieManager,\n    terminalSessionMode,\n  });\n\n  const server = http.createServer(async (req, res) => {\n    try {\n      const handled = await router(req, res);\n      if (handled) {\n        return;\n      }\n\n      const url = new URL(req.url || '/', `http://${req.headers.host || 'localhost'}`);\n      if (url.pathname.startsWith('/api/')) {\n        sendJson(res, 404, { error: 'Not Found' });\n        return;\n      }\n\n      await uiProvider.serve(req, res);\n    } catch (error) {\n      console.error('[agentrix] Request handling error:', error);\n      if (!res.headersSent) {\n        res.statusCode = 500;\n        res.end('Internal Server Error');\n      } else {\n        res.end();\n      }\n    }\n  });\n\n  const { close: closeWebSockets } = attachTerminalWebSockets(server, authManager);\n\n  const activeSockets = new Set();\n  server.on('connection', (socket) => {\n    activeSockets.add(socket);\n    socket.on('close', () => {\n      activeSockets.delete(socket);\n    });\n  });\n\n  await new Promise<void>((resolve, reject) => {\n    server.once('error', reject);\n    server.listen(port, host, () => {\n      server.off('error', reject);\n      resolve();\n    });\n  });\n\n  let ngrokListener: { url: () => string; close: () => Promise<void> } | null = null;\n  let ngrokUrl: string | null = null;\n\n  const shouldStartNgrok =\n    Boolean(ngrokConfig?.apiKey) && Boolean(ngrokConfig?.domain);\n\n  if (shouldStartNgrok) {\n    try {\n      const { forward } = await import('@ngrok/ngrok');\n      const listener = await forward({\n        addr: port,\n        authtoken: ngrokConfig?.apiKey || '',\n        domain: ngrokConfig?.domain || '',\n      }) as unknown as { url: () => string; close: () => Promise<void> };\n      ngrokListener = listener;\n      ngrokUrl = listener.url();\n    } catch (error) {\n      await disposeAllSessions().catch(() => {});\n      await closeWebSockets().catch(() => {});\n      try {\n        await new Promise<void>((resolve) => {\n          server.close(() => resolve());\n        });\n      } catch {\n        // ignore errors during shutdown\n      }\n      authManager.clear();\n      throw new Error(\n        `Failed to establish ngrok tunnel: ${\n          error instanceof Error ? error.message : String(error)\n        }`,\n      );\n    }\n  }\n\n  let closing = false;\n  async function closeAll() {\n    if (closing) {\n      return;\n    }\n    closing = true;\n\n    activeSockets.forEach((socket: unknown) => {\n      try {\n        (socket as { destroy: () => void }).destroy();\n      } catch {\n        // ignore socket destroy errors during shutdown\n      }\n    });\n\n    const serverClose = new Promise<void>((resolve) => {\n      server.close(() => resolve());\n    });\n\n    const closeTasks = [\n      flushTaskPersistence(),\n      disposeAllSessions(),\n      closeWebSockets(),\n      serverClose,\n    ];\n    if (branchNameGenerator && typeof branchNameGenerator.dispose === 'function') {\n      closeTasks.push(\n        branchNameGenerator\n          .dispose()\n          .catch((error) =>\n            console.error('[agentrix] Failed to dispose branch name generator:', error),\n          ),\n      );\n    }\n    if (planService && typeof planService.dispose === 'function') {\n      closeTasks.push(\n        planService\n          .dispose()\n          .catch((error) =>\n            console.error('[agentrix] Failed to dispose plan service:', error),\n          ),\n      );\n    }\n    if (ngrokListener) {\n      closeTasks.push(\n        ngrokListener\n          .close()\n          .catch((err: unknown) =>\n            console.error('[agentrix] Failed to close ngrok tunnel:', err),\n          ),\n      );\n    }\n\n    await Promise.allSettled(closeTasks);\n\n    authManager.clear();\n  }\n\n  return {\n    server,\n    host,\n    port,\n    uiPath: uiProvider.resolvedPath,\n    workdir: resolvedWorkdir,\n    close: closeAll,\n    password: resolvedPassword,\n    commands: agentCommands,\n    publicUrl: ngrokUrl,\n  };\n}\n\nexport { DEFAULT_HOST, DEFAULT_PORT, generateRandomPassword };\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/cli/constants.ts":{"lineLengths":[747,0,1518],"data":{"version":3,"mappings":"kHAAA,OAAO,OAAQ,UACf,OAAO,SAAU,YAEV,MAAM,gBAAkB,YACxB,MAAM,iBAAmB,cAEzB,MAAM,kBAAoB,IAAI,IAAI,CAAC,QAAS,SAAU,QAAQ,CAAC,EAC/D,MAAM,6BAA+B,IAAI,IAAI,CAAC,OAAQ,OAAQ,KAAK,CAAC,EACpE,MAAM,0BAA4B,IAAI,IAAI,CAAC,OAAQ,QAAS,MAAM,CAAC,EAEnE,SAAS,mBAAmC,CACjD,MAAM,QAAU,GAAG,QAAQ,EAC3B,GAAI,CAAC,QAAS,CACZ,OAAO,IACT,CACA,OAAO,KAAK,KAAK,QAAS,gBAAiB,gBAAgB,CAC7D,CANgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/cli/constants.ts"],"sourcesContent":["import os from 'node:os';\nimport path from 'node:path';\n\nexport const CONFIG_DIR_NAME = '.agentrix';\nexport const CONFIG_FILE_NAME = 'config.json';\n\nexport const VALID_BRANCH_LLMS = new Set(['codex', 'claude', 'cursor']);\nexport const VALID_TERMINAL_SESSION_MODES = new Set(['auto', 'tmux', 'pty']);\nexport const VALID_COOKIE_SECURE_MODES = new Set(['true', 'false', 'auto']);\n\nexport function getConfigFilePath(): string | null {\n  const homeDir = os.homedir();\n  if (!homeDir) {\n    return null;\n  }\n  return path.join(homeDir, CONFIG_DIR_NAME, CONFIG_FILE_NAME);\n}\n\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/config/constants.ts":{"lineLengths":[1013,0,2354],"data":{"version":3,"mappings":"AAAO,MAAM,aAAe,UACrB,MAAM,aAAe,KACrB,MAAM,oBAAsB,IAC5B,MAAM,gBAAkB,GACxB,MAAM,oBAAsB,4BAC5B,MAAM,wBAA0B,GAAK,GAAK,EAC1C,MAAM,SAAW,OACjB,MAAM,oBAAsB,MAC5B,MAAM,sBAAwB,KAAO,KAGrC,MAAM,YAAc,CACzB,GAAI,IACJ,QAAS,IACT,SAAU,IACV,WAAY,IACZ,YAAa,IACb,aAAc,IACd,UAAW,IACX,UAAW,IACX,mBAAoB,IACpB,sBAAuB,IACvB,YAAa,IACb,oBAAqB,GACvB,EAGO,MAAM,eAAiB,CAC5B,cAAe,0BACf,iBAAkB,mBAClB,gBAAiB,0BACjB,qBAAsB,uBACtB,mBAAoB,qBACpB,kBAAmB,6BACnB,mBAAoB,oBACtB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/config/constants.ts"],"sourcesContent":["export const DEFAULT_HOST = '0.0.0.0';\nexport const DEFAULT_PORT = 3414;\nexport const MAX_TERMINAL_BUFFER = 200000;\nexport const PASSWORD_LENGTH = 12;\nexport const SESSION_COOKIE_NAME = 'terminal_worktree_session';\nexport const SESSION_MAX_AGE_SECONDS = 60 * 60 * 8;\nexport const TMUX_BIN = 'tmux';\nexport const TMUX_SESSION_PREFIX = 'tw-';\nexport const MAX_REQUEST_BODY_SIZE = 1024 * 1024;\n\n/** HTTP Status Codes */\nexport const HTTP_STATUS = {\n  OK: 200,\n  CREATED: 201,\n  ACCEPTED: 202,\n  NO_CONTENT: 204,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  METHOD_NOT_ALLOWED: 405,\n  INTERNAL_SERVER_ERROR: 500,\n  BAD_GATEWAY: 502,\n  SERVICE_UNAVAILABLE: 503,\n} as const;\n\n/** Common error messages */\nexport const ERROR_MESSAGES = {\n  AUTH_REQUIRED: 'Authentication required',\n  INVALID_PASSWORD: 'Invalid password',\n  INVALID_PAYLOAD: 'Invalid request payload',\n  REPOSITORY_NOT_FOUND: 'Repository not found',\n  WORKTREE_NOT_FOUND: 'Worktree not found',\n  SESSION_NOT_FOUND: 'Terminal session not found',\n  METHOD_NOT_ALLOWED: 'Method Not Allowed',\n} as const;\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/workdir.ts":{"lineLengths":[640,0,1938],"data":{"version":3,"mappings":"kHAAA,OAAO,OAAQ,mBACf,OAAO,SAAU,YAQjB,eAAsB,eAAe,QAAkC,CACrE,MAAM,SAAW,KAAK,QAAQ,OAAO,EAErC,GAAI,CACF,MAAM,MAAQ,MAAM,GAAG,KAAK,QAAQ,EACpC,GAAI,CAAC,MAAM,YAAY,EAAG,CACxB,MAAM,IAAI,MAAM,oCAAoC,QAAQ,EAAE,CAChE,CACF,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,GAAI,IAAI,OAAS,SAAU,CACzB,MAAM,IAAI,MAAM,2BAA2B,QAAQ,EAAE,CACvD,CACA,MAAM,IAAI,MAAM,4BAA4B,QAAQ,KAAK,IAAI,OAAO,EAAE,CACxE,CAEA,OAAO,QACT,CAjBsB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/workdir.ts"],"sourcesContent":["import fs from 'node:fs/promises';\nimport path from 'node:path';\n\n/**\n * Resolves and validates the work directory path\n * @param workdir - Work directory path\n * @returns Absolute path to work directory\n * @throws {Error} If directory doesn't exist or isn't accessible\n */\nexport async function resolveWorkdir(workdir: string): Promise<string> {\n  const absolute = path.resolve(workdir);\n\n  try {\n    const stats = await fs.stat(absolute);\n    if (!stats.isDirectory()) {\n      throw new Error(`Workdir path is not a directory: ${absolute}`);\n    }\n  } catch (error: unknown) {\n    const err = error as { code?: string; message?: string };\n    if (err.code === 'ENOENT') {\n      throw new Error(`Workdir does not exist: ${absolute}`);\n    }\n    throw new Error(`Unable to access workdir ${absolute}: ${err.message}`);\n  }\n\n  return absolute;\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/terminal-sessions.ts":{"lineLengths":[13177,0,36442],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/terminal-sessions.ts"],"sourcesContent":["import { randomUUID } from 'node:crypto';\nimport pty from 'node-pty';\nimport type { TerminalSession } from '../types/terminal.js';\n\nimport { MAX_TERMINAL_BUFFER, TMUX_BIN } from '../config/constants.js';\nimport { getWorktreePath } from './git.js';\nimport {\n  detectTmux,\n  isTmuxAvailable,\n  makeTmuxSessionName,\n  tmuxHasSession,\n} from './tmux.js';\nimport { emitSessionsUpdate } from './event-bus.js';\n\nconst IDLE_TIMEOUT_MS = 90 * 1000;\nconst IDLE_SWEEP_INTERVAL_MS = 5 * 1000;\n\nconst terminalSessions = new Map<string, Map<string, TerminalSession>>();\nconst terminalSessionsById = new Map<string, TerminalSession>();\nlet idleMonitorTimer: NodeJS.Timeout | null = null;\n\nfunction ensureIdleMonitor() {\n  if (idleMonitorTimer) {\n    return;\n  }\n  idleMonitorTimer = setInterval(runIdleSweep, IDLE_SWEEP_INTERVAL_MS);\n}\n\nfunction stopIdleMonitorIfInactive() {\n  if (!idleMonitorTimer) {\n    return;\n  }\n  if (terminalSessionsById.size === 0) {\n    clearInterval(idleMonitorTimer);\n    idleMonitorTimer = null;\n  }\n}\n\nfunction getSessionBucket(key: string, create: boolean = false): Map<string, TerminalSession> | undefined {\n  let bucket = terminalSessions.get(key);\n  if (!bucket && create) {\n    bucket = new Map();\n    terminalSessions.set(key, bucket);\n  }\n  return bucket;\n}\n\nfunction addSession(session: TerminalSession): void {\n  const bucket = getSessionBucket(session.key, true)!;\n  bucket.set(session.id, session);\n  terminalSessionsById.set(session.id, session);\n  ensureIdleMonitor();\n}\n\nfunction removeSession(session: TerminalSession): void {\n  const bucket = terminalSessions.get(session.key);\n  if (bucket) {\n    bucket.delete(session.id);\n    if (bucket.size === 0) {\n      terminalSessions.delete(session.key);\n    }\n  }\n  terminalSessionsById.delete(session.id);\n  stopIdleMonitorIfInactive();\n}\n\nfunction listSessionsForKey(key: string): TerminalSession[] {\n  const bucket = terminalSessions.get(key);\n  if (!bucket) {\n    return [];\n  }\n  return Array.from(bucket.values());\n}\n\nfunction normaliseSessionInput(input: string | Buffer): string {\n  if (typeof input === 'string') {\n    return input;\n  }\n  if (Buffer.isBuffer(input)) {\n    return input.toString('utf8');\n  }\n  return '';\n}\n\nfunction flushPendingInputs(session: TerminalSession): void {\n  if (!session || !Array.isArray(session.pendingInputs) || session.pendingInputs.length === 0) {\n    return;\n  }\n  const inputs = session.pendingInputs.slice();\n  session.pendingInputs.length = 0;\n  inputs.forEach((value) => {\n    if (!value) {\n      return;\n    }\n    try {\n      session.process.write(value);\n    } catch {\n      // ignore write errors; process lifecycle handlers will surface issues elsewhere\n    }\n  });\n}\n\nfunction noteSessionActivity(session: TerminalSession): boolean {\n  if (!session || session.closed) {\n    return false;\n  }\n  const now = Date.now();\n  session.lastActivityAt = now;\n  if (session.idle) {\n    session.idle = false;\n    return true;\n  }\n  return false;\n}\n\nfunction markSessionReady(session: TerminalSession): void {\n  if (!session || session.ready) {\n    return;\n  }\n  session.ready = true;\n  if (session.readyTimer) {\n    clearTimeout(session.readyTimer);\n    session.readyTimer = null;\n  }\n  flushPendingInputs(session);\n}\n\nexport function queueSessionInput(session: TerminalSession, input: string | Buffer): void {\n  if (!session || session.closed) {\n    return;\n  }\n  if (!Array.isArray(session.pendingInputs)) {\n    session.pendingInputs = [];\n  }\n  const value = normaliseSessionInput(input);\n  if (!value) {\n    return;\n  }\n  const becameActive = noteSessionActivity(session);\n  if (session.ready) {\n    try {\n      session.process.write(value);\n    } catch {\n      // ignore write errors\n    }\n  } else {\n    session.pendingInputs.push(value);\n  }\n  if (becameActive) {\n    emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n  }\n}\n\nfunction trimLogBuffer(log: string): string {\n  if (log.length <= MAX_TERMINAL_BUFFER) {\n    return log;\n  }\n  return log.slice(log.length - MAX_TERMINAL_BUFFER);\n}\n\nfunction broadcast(session: TerminalSession, event: string, payload: Record<string, unknown>): void {\n  const message = JSON.stringify({ type: event, ...payload });\n  session.watchers.forEach((watcher) => {\n    const socket = watcher.socket;\n    if (!socket || socket.readyState !== 1) {\n      try {\n        socket?.terminate();\n      } catch {\n        // ignore terminate errors\n      }\n      session.watchers.delete(watcher);\n      return;\n    }\n\n    try {\n      socket.send(message);\n    } catch {\n      try {\n        socket.terminate();\n      } catch {\n        // ignore\n      }\n      session.watchers.delete(watcher);\n    }\n  });\n}\n\nfunction handleSessionOutput(session: TerminalSession, chunk: string | Buffer): void {\n  markSessionReady(session);\n  const becameActive = noteSessionActivity(session);\n  const text = typeof chunk === 'string' ? chunk : chunk.toString('utf8');\n  session.log = trimLogBuffer((session.log || '') + text);\n  broadcast(session, 'output', { chunk: text });\n  if (becameActive) {\n    emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n  }\n}\n\nfunction serialiseSessions(sessions: TerminalSession[]): unknown[] {\n  return sessions.map((session) => {\n    const lastActivityAtMs =\n      typeof session.lastActivityAt === 'number'\n        ? session.lastActivityAt\n        : session.lastActivityAt instanceof Date\n        ? session.lastActivityAt.getTime()\n        : null;\n    return {\n      id: session.id,\n      org: session.org,\n      repo: session.repo,\n      branch: session.branch,\n      usingTmux: session.usingTmux,\n      idle: Boolean(session.idle),\n      lastActivityAt: lastActivityAtMs ? new Date(lastActivityAtMs).toISOString() : null,\n    };\n  });\n}\n\nfunction runIdleSweep() {\n  if (terminalSessionsById.size === 0) {\n    stopIdleMonitorIfInactive();\n    return;\n  }\n  const now = Date.now();\n  let changed = false;\n\n  terminalSessionsById.forEach((session) => {\n    if (!session || session.closed) {\n      return;\n    }\n    const last =\n      typeof session.lastActivityAt === 'number'\n        ? session.lastActivityAt\n        : session.lastActivityAt instanceof Date\n        ? session.lastActivityAt.getTime()\n        : null;\n    if (!last) {\n      session.lastActivityAt = now;\n      return;\n    }\n    if (!session.idle && now - last >= IDLE_TIMEOUT_MS) {\n      session.idle = true;\n      changed = true;\n    }\n  });\n\n  if (changed) {\n    emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n  }\n}\n\nfunction handleSessionExit(session: TerminalSession, code: number, signal: string, error?: Error): void {\n  if (session.closed) {\n    return;\n  }\n  session.closed = true;\n  session.exitCode = code;\n  session.exitSignal = signal;\n  session.exitError = error ? error.message : undefined;\n  if (session.readyTimer) {\n    clearTimeout(session.readyTimer);\n    session.readyTimer = null;\n  }\n  if (Array.isArray(session.pendingInputs)) {\n    session.pendingInputs.length = 0;\n  }\n  broadcast(session, 'exit', {\n    code: session.exitCode,\n    signal: session.exitSignal,\n    error: session.exitError,\n  });\n  session.watchers.forEach((watcher) => {\n    if (watcher.socket && watcher.socket.readyState === 1) {\n      try {\n        watcher.socket.close();\n      } catch {\n        // ignore\n      }\n    }\n  });\n  session.watchers.clear();\n  removeSession(session);\n  if (session.waiters) {\n    session.waiters.forEach((resolve) => resolve());\n    session.waiters = [];\n  }\n  emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n}\n\nexport function makeSessionKey(org: string, repo: string, branch: string): string {\n  return `${org}::${repo}::${branch}`;\n}\n\nfunction determineShellArgs(shellCommand: string): string[] {\n  if (!shellCommand) {\n    return [];\n  }\n  const name = shellCommand.split('/').pop();\n  if (name === 'bash' || name === 'zsh' || name === 'fish') {\n    return ['-il'];\n  }\n  return [];\n}\n\nasync function terminateSession(session: TerminalSession, options: { signal?: string; forceAfter?: number } = {}): Promise<void> {\n  if (!session || session.closed) {\n    return;\n  }\n\n  await new Promise<void>((resolve) => {\n    session.waiters = session.waiters || [];\n    session.waiters.push(resolve as () => void);\n    try {\n      session.process.kill(options.signal || 'SIGTERM');\n    } catch {\n      resolve();\n      return;\n    }\n    setTimeout(() => {\n      if (!session.closed) {\n        try {\n          session.process.kill('SIGKILL');\n        } catch {\n          // ignore\n        }\n      }\n    }, options.forceAfter ?? 2000);\n  });\n}\n\nexport async function disposeSessionByKey(key: string): Promise<void> {\n  const sessions = listSessionsForKey(key);\n  if (sessions.length === 0) {\n    return;\n  }\n  const tasks = sessions.map((session) => terminateSession(session).catch(() => {}));\n  await Promise.allSettled(tasks);\n  emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n}\n\nexport async function disposeSessionsForRepository(org: string, repo: string): Promise<void> {\n  if (!org || !repo) {\n    return;\n  }\n  const targets: TerminalSession[] = [];\n  terminalSessionsById.forEach((session) => {\n    if (!session || session.closed) {\n      return;\n    }\n    if (session.org === org && session.repo === repo) {\n      targets.push(session);\n    }\n  });\n  if (targets.length === 0) {\n    return;\n  }\n  const tasks = targets.map((session) => terminateSession(session).catch(() => {}));\n  await Promise.allSettled(tasks);\n  emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n}\n\nexport async function disposeSessionById(sessionId: string): Promise<void> {\n  const session = terminalSessionsById.get(sessionId);\n  if (!session) {\n    return;\n  }\n  await terminateSession(session);\n  emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n}\n\nexport async function disposeAllSessions(): Promise<void> {\n  const activeSessions = Array.from(terminalSessionsById.values());\n  if (activeSessions.length === 0) {\n    return;\n  }\n  const closures = activeSessions.map((session) =>\n    terminateSession(session, { signal: 'SIGTERM', forceAfter: 0 }).catch(() => {}),\n  );\n  await Promise.allSettled(closures);\n  terminalSessions.clear();\n  terminalSessionsById.clear();\n  stopIdleMonitorIfInactive();\n  emitSessionsUpdate([]);\n}\n\nexport function getSessionById(sessionId: string): TerminalSession | undefined {\n  return terminalSessionsById.get(sessionId);\n}\n\nexport function listActiveSessions(): TerminalSession[] {\n  return Array.from(terminalSessionsById.values()).filter((session) => session && !session.closed);\n}\n\nexport function addSocketWatcher(session: TerminalSession, socket: unknown): void {\n  const ws = socket as { on: (event: string, handler: () => void) => void };\n  const watcher = { socket: ws as never };\n  session.watchers.add(watcher);\n  ws.on('close', () => {\n    session.watchers.delete(watcher);\n  });\n}\n\nasync function spawnTerminalProcess({\n  workdir,\n  org,\n  repo,\n  branch,\n  useTmux,\n  requireTmux = false,\n}: {\n  workdir: string;\n  org: string;\n  repo: string;\n  branch: string;\n  useTmux?: boolean;\n  requireTmux?: boolean;\n}) {\n  const { worktreePath } = await getWorktreePath(workdir, org, repo, branch);\n  const shellCommand = process.env['SHELL'] || '/bin/bash';\n  const args = determineShellArgs(shellCommand);\n\n  let child;\n  let usingTmux = false;\n  let tmuxSessionName = null;\n  let tmuxSessionExists = false;\n  const baseEnv: Record<string, string | undefined> = {\n    ...process.env,\n    TERM: process.env['TERM'] || 'xterm-256color',\n  };\n  if (baseEnv['TMUX']) {\n    delete baseEnv['TMUX'];\n  }\n  if (baseEnv['TMUX_PANE']) {\n    delete baseEnv['TMUX_PANE'];\n  }\n\n  if (useTmux) {\n    await detectTmux();\n    if (isTmuxAvailable()) {\n      tmuxSessionName = makeTmuxSessionName(org, repo, branch);\n      tmuxSessionExists = await tmuxHasSession(tmuxSessionName);\n      const tmuxArgs = tmuxSessionExists\n        ? ['attach-session', '-t', tmuxSessionName]\n        : ['new-session', '-s', tmuxSessionName, '-x', '120', '-y', '36'];\n\n      if (!tmuxSessionExists) {\n        // Keep the tmux client attached so the PTY stays open on first launch.\n        tmuxArgs.push(shellCommand);\n        if (args.length > 0) {\n          tmuxArgs.push(...args);\n        }\n      }\n\n      const tmuxEnv = { ...baseEnv };\n\n      child = pty.spawn(TMUX_BIN, tmuxArgs, {\n        cwd: worktreePath,\n        env: tmuxEnv,\n        cols: 120,\n        rows: 36,\n      });\n      usingTmux = true;\n    } else if (requireTmux) {\n      throw new Error(\n        'tmux is required for terminal sessions but was not detected on PATH. Install tmux or start the server with --no-tmux.',\n      );\n    }\n  }\n\n  if (!child) {\n    child = pty.spawn(shellCommand, args, {\n      cwd: worktreePath,\n      env: baseEnv,\n      cols: 120,\n      rows: 36,\n    });\n  }\n\n  return {\n    child,\n    usingTmux,\n    tmuxSessionName,\n    tmuxSessionExists,\n    worktreePath,\n  };\n}\n\nasync function createTerminalSession(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string,\n  options: { useTmux?: boolean; kind?: string; requireTmux?: boolean } = {}\n): Promise<TerminalSession> {\n  const { useTmux = true, kind = 'interactive', requireTmux = false } = options;\n  const key = makeSessionKey(org, repo, branch);\n  const { child, usingTmux, tmuxSessionName, worktreePath } =\n    await spawnTerminalProcess({ workdir, org, repo, branch, useTmux, requireTmux });\n\n  const session: TerminalSession = {\n    id: randomUUID(),\n    key,\n    org,\n    repo,\n    branch,\n    process: child,\n    worktreePath,\n    usingTmux,\n    tmuxSessionName,\n    log: '',\n    watchers: new Set(),\n    closed: false,\n    waiters: [],\n    pendingInputs: [],\n    ready: false,\n    readyTimer: null,\n    kind: kind as never,\n    lastActivityAt: Date.now(),\n    idle: false,\n  };\n\n  addSession(session);\n\n  const ptyProcess = child as unknown as { on: (event: string, handler: (...args: unknown[]) => void) => void };\n  ptyProcess.on('data', (...args: unknown[]) => {\n    const chunk = args[0] as Buffer | string;\n    handleSessionOutput(session, chunk);\n  });\n  ptyProcess.on('exit', (...args: unknown[]) => {\n    const code = args[0] as number | null;\n    const signal = args[1] as string | null;\n    handleSessionExit(session, code || 0, signal || '');\n  });\n  session.readyTimer = setTimeout(() => {\n    markSessionReady(session);\n  }, 150);\n\n  emitSessionsUpdate(serialiseSessions(listActiveSessions()));\n\n  return session;\n}\n\nexport async function getOrCreateTerminalSession(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string,\n  options: { mode?: string } = {}\n) {\n  const rawMode = typeof options['mode'] === 'string' ? options['mode'].toLowerCase() : 'auto';\n  const mode = rawMode === 'tmux' || rawMode === 'pty' ? rawMode : 'auto';\n  const allowTmuxSessions = mode !== 'pty';\n  const allowPlainSessions = mode !== 'tmux';\n  const requireTmux = mode === 'tmux';\n\n  const key = makeSessionKey(org, repo, branch);\n  const bucket = getSessionBucket(key);\n  let automationCandidate = null;\n  if (bucket) {\n    for (const session of bucket.values()) {\n      if (!session || session.closed) {\n        continue;\n      }\n      if (session.kind && session.kind !== 'interactive') {\n        if (!automationCandidate && session.kind === 'automation') {\n          automationCandidate = session;\n        }\n        continue;\n      }\n      const sessionUsesTmux = Boolean(session.usingTmux);\n      if (!session.kind) {\n        if (!sessionUsesTmux) {\n          if (mode === 'pty') {\n            return { session, created: false };\n          }\n          continue;\n        }\n        if (!allowTmuxSessions) {\n          continue;\n        }\n        return { session, created: false };\n      }\n      if (session.kind === 'interactive') {\n        if (sessionUsesTmux) {\n          if (!allowTmuxSessions) {\n            continue;\n          }\n          return { session, created: false };\n        }\n        if (!allowPlainSessions) {\n          continue;\n        }\n        return { session, created: false };\n      }\n    }\n  }\n  if (automationCandidate) {\n    return { session: automationCandidate, created: false };\n  }\n  if (allowTmuxSessions) {\n    return createTerminalSession(workdir, org, repo, branch, {\n      useTmux: true,\n      kind: 'interactive',\n      requireTmux,\n    });\n  }\n  return createTerminalSession(workdir, org, repo, branch, {\n    useTmux: false,\n    kind: 'interactive',\n  });\n}\n\nexport async function createIsolatedTerminalSession(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string\n): Promise<TerminalSession> {\n  return createTerminalSession(workdir, org, repo, branch, {\n    useTmux: false,\n    kind: 'automation',\n  });\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/server/router.ts":{"lineLengths":[5583,0,16486],"data":{"version":3,"mappings":"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","names":["context","route"],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/server/router.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'node:http';\nimport { createAuthHandlers } from '../api/auth.js';\nimport { createAutomationHandlers } from '../api/automation.js';\nimport { createRepoHandlers } from '../api/repos.js';\nimport { createRepoDashboardHandlers } from '../api/repo-dashboard.js';\nimport { createRepoIssueHandlers } from '../api/repo-issue.js';\nimport { createSessionHandlers } from '../api/sessions.js';\nimport { createTerminalHandlers } from '../api/terminal.js';\nimport { createWorktreeHandlers } from '../api/worktrees.js';\nimport { createGitStatusHandlers } from '../api/git-status.js';\nimport { sendJson, readJsonBody } from '../utils/http.js';\nimport { createConfigHandlers } from '../api/config.js';\nimport { createPlanHandlers } from '../api/create-plan.js';\nimport { createPlanArtifactHandlers } from '../api/plans.js';\nimport { createEventStreamHandler } from './events.js';\nimport { createTaskHandlers } from '../api/tasks.js';\nimport type { AuthManager, CookieManager } from '../types/auth.js';\n\nexport interface RouterConfig {\n  authManager: AuthManager;\n  workdir: string;\n  agentCommands: unknown;\n  automationApiKey?: string;\n  branchNameGenerator: unknown;\n  planService: unknown;\n  defaultBranches: unknown;\n  cookieManager?: CookieManager;\n  terminalSessionMode?: 'auto' | 'tmux' | 'pty';\n}\n\nexport type Router = (req: IncomingMessage, res: ServerResponse) => Promise<boolean>;\n\nexport function createRouter({\n  authManager,\n  workdir,\n  agentCommands,\n  automationApiKey,\n  branchNameGenerator,\n  planService,\n  defaultBranches,\n  cookieManager,\n  terminalSessionMode = 'auto',\n}: RouterConfig): Router {\n  if (!authManager) {\n    throw new Error('authManager is required');\n  }\n  if (!agentCommands) {\n    throw new Error('agentCommands is required');\n  }\n\n  const authHandlers = createAuthHandlers(authManager, { cookieManager });\n  const automationHandlers = createAutomationHandlers({\n    workdir,\n    agentCommands,\n    apiKey: automationApiKey,\n    branchNameGenerator,\n    planService,\n    defaultBranches,\n  });\n  const repoHandlers = createRepoHandlers(workdir);\n  const repoDashboardHandlers = createRepoDashboardHandlers(workdir);\n  const repoIssueHandlers = createRepoIssueHandlers(workdir);\n  const sessionHandlers = createSessionHandlers(workdir);\n  const worktreeHandlers = createWorktreeHandlers(workdir, branchNameGenerator, defaultBranches);\n  const terminalHandlers = createTerminalHandlers(workdir, { mode: terminalSessionMode });\n  const configHandlers = createConfigHandlers(agentCommands as never);\n  const planHandlers = createPlanHandlers({ planService: planService as never });\n  const gitStatusHandlers = createGitStatusHandlers(workdir);\n  const planArtifactHandlers = createPlanArtifactHandlers(workdir);\n  const eventStreamHandler = createEventStreamHandler({ authManager, workdir });\n  const taskHandlers = createTaskHandlers();\n\n  const routes = new Map([\n    [\n      '/api/auth/login',\n      {\n        requiresAuth: false,\n        handlers: { POST: authHandlers.login },\n      },\n    ],\n    [\n      '/api/auth/logout',\n      {\n        requiresAuth: false,\n        handlers: { POST: authHandlers.logout },\n      },\n    ],\n    [\n      '/api/auth/status',\n      {\n        requiresAuth: false,\n        handlers: { GET: authHandlers.status, HEAD: authHandlers.status },\n      },\n    ],\n    [\n      '/api/repos',\n      {\n        requiresAuth: true,\n        handlers: {\n          GET: repoHandlers.list,\n          HEAD: repoHandlers.list,\n          POST: repoHandlers.create,\n          DELETE: repoHandlers.delete,\n        },\n      },\n    ],\n    [\n      '/api/repos/init-command',\n      {\n        requiresAuth: true,\n        handlers: { POST: repoHandlers.updateInitCommand },\n      },\n    ],\n    [\n      '/api/repos/dashboard',\n      {\n        requiresAuth: true,\n        handlers: { GET: repoDashboardHandlers.read, HEAD: repoDashboardHandlers.read },\n      },\n    ],\n    [\n      '/api/repos/issue',\n      {\n        requiresAuth: true,\n        handlers: { GET: repoIssueHandlers.read, HEAD: repoIssueHandlers.read },\n      },\n    ],\n    [\n      '/api/sessions',\n      {\n        requiresAuth: true,\n        handlers: { GET: sessionHandlers.list, HEAD: sessionHandlers.list },\n      },\n    ],\n    [\n      '/api/worktrees',\n      {\n        requiresAuth: true,\n        handlers: { \n          POST: worktreeHandlers.create,\n          DELETE: worktreeHandlers.delete,\n        },\n      },\n    ],\n    [\n      '/api/git/status',\n      {\n        requiresAuth: true,\n        handlers: { GET: gitStatusHandlers.read, HEAD: gitStatusHandlers.read },\n      },\n    ],\n    [\n      '/api/git/diff',\n      {\n        requiresAuth: true,\n        handlers: { POST: gitStatusHandlers.diff },\n      },\n    ],\n    [\n      '/api/terminal/open',\n      {\n        requiresAuth: true,\n        handlers: { POST: terminalHandlers.open },\n      },\n    ],\n    [\n      '/api/terminal/send',\n      {\n        requiresAuth: true,\n        handlers: { POST: terminalHandlers.send },\n      },\n    ],\n    [\n      '/api/commands',\n      {\n        requiresAuth: true,\n        handlers: { GET: configHandlers.commands, HEAD: configHandlers.commands },\n      },\n    ],\n    [\n      '/api/automation/launch',\n      {\n        requiresAuth: false,\n        handlers: { POST: automationHandlers.launch },\n      },\n    ],\n    [\n      '/api/create-plan',\n      {\n        requiresAuth: true,\n        handlers: { POST: planHandlers.create },\n      },\n    ],\n    [\n      '/api/plans',\n      {\n        requiresAuth: true,\n        handlers: { GET: planArtifactHandlers.list },\n      },\n    ],\n    [\n      '/api/plans/content',\n      {\n        requiresAuth: true,\n        handlers: { GET: planArtifactHandlers.read },\n      },\n    ],\n    [\n      '/api/events',\n      {\n        requiresAuth: true,\n        handlers: { GET: eventStreamHandler },\n      },\n    ],\n    [\n      '/api/tasks',\n      {\n        requiresAuth: true,\n        handlers: { GET: taskHandlers.list, HEAD: taskHandlers.list },\n      },\n    ],\n  ]);\n\n  function handleMethodNotAllowed(res: ServerResponse, allowedMethods: string[] = []): void {\n    const headerValue = allowedMethods.join(', ');\n    if (headerValue) {\n      res.setHeader('Allow', headerValue);\n    }\n    res.statusCode = 405;\n    res.end('Method Not Allowed');\n  }\n\n  return async function route(req: IncomingMessage, res: ServerResponse): Promise<boolean> {\n    const url = new URL(req.url || '/', `http://${req.headers.host || 'localhost'}`);\n    if (url.pathname.startsWith('/api/tasks/')) {\n      if (!authManager.isAuthenticated(req)) {\n        sendJson(res, 401, { error: 'Authentication required' });\n        return true;\n      }\n      if (req.method && !['GET', 'HEAD'].includes(req.method.toUpperCase())) {\n        handleMethodNotAllowed(res, ['GET', 'HEAD']);\n        return true;\n      }\n      const taskId = url.pathname.slice('/api/tasks/'.length);\n      if (!taskId) {\n        sendJson(res, 404, { error: 'Task not found' });\n        return true;\n      }\n      const context = {\n        req,\n        res,\n        url,\n        method: req.method?.toUpperCase() || 'GET',\n        params: { id: taskId },\n        workdir,\n        readJsonBody: () => readJsonBody(req),\n      };\n      await taskHandlers.read(context, taskId);\n      return true;\n    }\n\n    const route = routes.get(url.pathname);\n    if (!route) {\n      return false;\n    }\n\n    const method = (req.method?.toUpperCase() || 'GET') as keyof typeof route.handlers;\n    const allowed = route.handlers[method];\n\n    if (!allowed) {\n      handleMethodNotAllowed(res, Object.keys(route.handlers));\n      return true;\n    }\n\n    if (route.requiresAuth && !authManager.isAuthenticated(req)) {\n      sendJson(res, 401, { error: 'Authentication required' });\n      return true;\n    }\n\n    const context = {\n      req,\n      res,\n      url,\n      method,\n      workdir,\n      readJsonBody: () => readJsonBody(req),\n    };\n\n    await allowed(context);\n    return true;\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/utils/random.ts":{"lineLengths":[707,0,1690],"data":{"version":3,"mappings":"kHAAA,OAAS,gBAAmB,cAE5B,MAAM,aAAe,GACrB,MAAM,gBAAkB,GACxB,MAAM,QAAU,iEAMT,SAAS,sBAA+B,CAC7C,OAAO,YAAY,YAAY,EAAE,SAAS,WAAW,CACvD,CAFgB,oDAST,SAAS,uBAAuB,OAAiB,gBAAyB,CAC/E,MAAM,MAAQ,YAAY,MAAM,EAChC,IAAI,OAAS,GACb,QAAS,EAAI,EAAG,EAAI,OAAQ,IAAK,CAC/B,QAAU,QAAQ,MAAM,CAAC,EAAK,QAAQ,MAAM,CAC9C,CACA,OAAO,MACT,CAPgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/utils/random.ts"],"sourcesContent":["import { randomBytes } from 'node:crypto';\n\nconst TOKEN_LENGTH = 32;\nconst PASSWORD_LENGTH = 12;\nconst CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n/**\n * Generates a random session token\n * @returns Random token string\n */\nexport function generateSessionToken(): string {\n  return randomBytes(TOKEN_LENGTH).toString('base64url');\n}\n\n/**\n * Generates a random password\n * @param length - Password length (default: 12)\n * @returns Random password string\n */\nexport function generateRandomPassword(length: number = PASSWORD_LENGTH): string {\n  const bytes = randomBytes(length);\n  let result = '';\n  for (let i = 0; i < length; i++) {\n    result += CHARSET[bytes[i]! % CHARSET.length];\n  }\n  return result;\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/utils/http.ts":{"lineLengths":[1317,0,4170],"data":{"version":3,"mappings":"kHACA,OAAS,0BAA6B,yBAM/B,SAAS,SAAS,IAAqB,WAAoB,QAAsC,CACtG,IAAI,WAAa,WACjB,IAAI,UAAU,eAAgB,iCAAiC,EAC/D,IAAI,UAAU,gBAAiB,UAAU,EACzC,IAAI,IAAI,KAAK,UAAU,OAAO,CAAC,CACjC,CALgB,4BAYT,SAAS,kBAAkB,IAA2B,CAC3D,IAAI,WAAa,IACjB,IAAI,UAAU,gBAAiB,UAAU,EACzC,IAAI,IAAI,CACV,CAJgB,8CAUhB,OAAS,wBAA2B,oCAEpC,eAAsB,aAAa,IAA4C,CAC7E,OAAO,IAAI,QAAQ,CAAC,QAAS,SAAW,CACtC,MAAM,OAAmB,CAAC,EAC1B,IAAI,OAAS,EAEb,IAAI,GAAG,OAAS,OAAkB,CAChC,OAAO,KAAK,KAAK,EACjB,QAAU,MAAM,OAEhB,GAAI,OAAS,sBAAuB,CAClC,OAAO,IAAI,MAAM,wBAAwB,CAAC,EAC1C,IAAI,QAAQ,CACd,CACF,CAAC,EAED,IAAI,GAAG,MAAO,IAAM,CAClB,GAAI,OAAO,SAAW,EAAG,CACvB,QAAQ,CAAC,CAAC,EACV,MACF,CAEA,GAAI,CACF,MAAM,OAAS,OAAO,OAAO,MAAM,EACnC,QAAQ,KAAK,MAAM,OAAO,SAAS,MAAM,CAAC,CAAgB,CAC5D,OAAS,MAAO,CACd,OAAO,IAAI,MAAM,sBAAsB,CAAC,CAC1C,CACF,CAAC,EAED,IAAI,GAAG,QAAU,OAAiB,CAChC,OAAO,KAAK,CACd,CAAC,CACH,CAAC,CACH,CAjCsB,oCAuCtB,OAAS,0BAA6B","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/utils/http.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'node:http';\nimport { MAX_REQUEST_BODY_SIZE } from '../config/constants.js';\n\nexport interface JsonPayload {\n  [key: string]: unknown;\n}\n\nexport function sendJson(res: ServerResponse, statusCode: number, payload: JsonPayload | unknown): void {\n  res.statusCode = statusCode;\n  res.setHeader('Content-Type', 'application/json; charset=utf-8');\n  res.setHeader('Cache-Control', 'no-store');\n  res.end(JSON.stringify(payload));\n}\n\n/**\n * Handles HEAD requests by sending a 200 response with no-store cache control\n * @param res - Server response object\n * @returns true if handled, false otherwise\n */\nexport function handleHeadRequest(res: ServerResponse): void {\n  res.statusCode = 200;\n  res.setHeader('Cache-Control', 'no-store');\n  res.end();\n}\n\n/**\n * @deprecated Use extractErrorMessage from infrastructure/errors instead\n * Re-exported for backward compatibility\n */\nexport { extractErrorMessage } from '../infrastructure/errors/index.js';\n\nexport async function readJsonBody(req: IncomingMessage): Promise<JsonPayload> {\n  return new Promise((resolve, reject) => {\n    const chunks: Buffer[] = [];\n    let length = 0;\n\n    req.on('data', (chunk: Buffer) => {\n      chunks.push(chunk);\n      length += chunk.length;\n\n      if (length > MAX_REQUEST_BODY_SIZE) {\n        reject(new Error('Request body too large'));\n        req.destroy();\n      }\n    });\n\n    req.on('end', () => {\n      if (chunks.length === 0) {\n        resolve({});\n        return;\n      }\n\n      try {\n        const buffer = Buffer.concat(chunks);\n        resolve(JSON.parse(buffer.toString('utf8')) as JsonPayload);\n      } catch (error) {\n        reject(new Error('Invalid JSON payload'));\n      }\n    });\n\n    req.on('error', (error: Error) => {\n      reject(error);\n    });\n  });\n}\n\n/**\n * @deprecated Use infrastructure/cookies instead\n * This function re-exports for backward compatibility\n */\nexport { determineSecureCookie } from '../infrastructure/cookies/index.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/server/websocket.ts":{"lineLengths":[2621,0,8778],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/server/websocket.ts"],"sourcesContent":["import type { Server as HttpServer, IncomingMessage } from 'node:http';\nimport type { Socket } from 'node:net';\nimport type { WebSocket, WebSocketServer as WSServer } from 'ws';\nimport { WebSocketServer } from 'ws';\nimport type { AuthManager } from '../types/auth.js';\n\nimport { SESSION_COOKIE_NAME } from '../config/constants.js';\nimport { parseCookies } from '../utils/cookies.js';\nimport {\n  addSocketWatcher,\n  getSessionById,\n  queueSessionInput,\n} from '../core/terminal-sessions.js';\n\nexport interface WebSocketAttachment {\n  wss: WSServer;\n  close: () => Promise<void>;\n}\n\nexport function attachTerminalWebSockets(server: HttpServer, authManager: AuthManager): WebSocketAttachment {\n  const wss = new WebSocketServer({ noServer: true });\n\n  wss.on('connection', (socket: WebSocket, request: IncomingMessage) => {\n    try {\n      const url = new URL(request.url || '', 'http://localhost');\n      const sessionId = url.searchParams.get('sessionId');\n      if (!sessionId) {\n        socket.send(JSON.stringify({ type: 'error', message: 'sessionId is required' }));\n        socket.close();\n        return;\n      }\n\n      const session = getSessionById(sessionId);\n      if (!session) {\n        socket.send(JSON.stringify({ type: 'error', message: 'Terminal session not found' }));\n        socket.close();\n        return;\n      }\n\n      addSocketWatcher(session, socket);\n\n      socket.on('message', (data) => {\n        if (session.closed) {\n          return;\n        }\n        const raw = typeof data === 'string' ? data : data.toString('utf8');\n        let parsed;\n        try {\n          parsed = JSON.parse(raw);\n        } catch {\n          parsed = null;\n        }\n\n        if (parsed && parsed.type === 'input') {\n          const payload = typeof parsed.data === 'string' ? parsed.data : '';\n          queueSessionInput(session, payload);\n        } else if (parsed && parsed.type === 'resize') {\n          const cols = Number.parseInt(parsed.cols, 10);\n          const rows = Number.parseInt(parsed.rows, 10);\n          if (Number.isInteger(cols) && Number.isInteger(rows) && cols > 0 && rows > 0) {\n            session.process.resize(cols, rows);\n          }\n        } else {\n          queueSessionInput(session, raw);\n        }\n      });\n\n      socket.on('error', () => {\n        socket.close();\n      });\n\n      socket.send(\n        JSON.stringify({\n          type: 'init',\n          log: session.log || '',\n          closed: Boolean(session.closed),\n        })\n      );\n      if (session.closed) {\n        socket.send(\n          JSON.stringify({\n            type: 'exit',\n            code: session.exitCode,\n            signal: session.exitSignal,\n            error: session.exitError,\n          })\n        );\n        socket.close();\n      }\n    } catch (error: unknown) {\n      const err = error as { message?: string };\n      socket.send(JSON.stringify({ type: 'error', message: err.message }));\n      socket.close();\n    }\n  });\n\n  server.on('upgrade', (req: IncomingMessage, socket: Socket, head: Buffer) => {\n    try {\n      const url = new URL(req.url || '', `http://${req.headers.host || 'localhost'}`);\n      if (url.pathname !== '/api/terminal/socket') {\n        socket.destroy();\n        return;\n      }\n\n      const cookies = parseCookies(req.headers.cookie);\n      const token = cookies[SESSION_COOKIE_NAME] || '';\n      if (!token || !authManager.hasToken(token)) {\n        socket.write('HTTP/1.1 401 Unauthorized\\r\\n\\r\\n');\n        socket.destroy();\n        return;\n      }\n\n      wss.handleUpgrade(req, socket, head, (ws) => {\n        wss.emit('connection', ws, req);\n      });\n    } catch {\n      socket.destroy();\n    }\n  });\n\n  function close(): Promise<void> {\n    return new Promise<void>((resolve) => {\n      try {\n        wss.clients.forEach((client) => {\n          try {\n            client.close();\n          } catch {\n            // ignore\n          }\n        });\n        wss.close(() => resolve());\n      } catch {\n        resolve();\n      }\n    });\n  }\n\n  return { wss, close };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/server/ui.ts":{"lineLengths":[5654,0,15710],"data":{"version":3,"mappings":"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","names":["require"],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/server/ui.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'node:http';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\nimport { createRequire } from 'node:module';\n\nconst require = createRequire(import.meta.url);\n\nconst MIME_TYPES = new Map([\n  ['.apng', 'image/apng'],\n  ['.avif', 'image/avif'],\n  ['.css', 'text/css'],\n  ['.gif', 'image/gif'],\n  ['.html', 'text/html'],\n  ['.ico', 'image/x-icon'],\n  ['.jpeg', 'image/jpeg'],\n  ['.jpg', 'image/jpeg'],\n  ['.js', 'application/javascript'],\n  ['.json', 'application/json'],\n  ['.map', 'application/json'],\n  ['.mjs', 'application/javascript'],\n  ['.otf', 'font/otf'],\n  ['.pdf', 'application/pdf'],\n  ['.png', 'image/png'],\n  ['.svg', 'image/svg+xml'],\n  ['.txt', 'text/plain'],\n  ['.wasm', 'application/wasm'],\n  ['.webp', 'image/webp'],\n  ['.webm', 'video/webm'],\n  ['.woff', 'font/woff'],\n  ['.woff2', 'font/woff2'],\n  ['.xml', 'application/xml'],\n  ['.zip', 'application/zip'],\n]);\n\nfunction fallbackLookup(filePath: string): string | null {\n  const ext = path.extname(filePath).toLowerCase();\n  return MIME_TYPES.get(ext) || null;\n}\n\nlet lookupMimeType: (filePath: string) => string | false | null = fallbackLookup;\n\ntry {\n  const mime = require('mime-types') as { lookup?: (filePath: string) => string | false };\n  if (mime && typeof mime.lookup === 'function') {\n    lookupMimeType = (filePath: string) => mime.lookup!(filePath) || fallbackLookup(filePath);\n  }\n} catch (error: unknown) {\n  const err = error as { code?: string };\n  if (err?.code !== 'MODULE_NOT_FOUND' && err?.code !== 'ERR_MODULE_NOT_FOUND') {\n    console.error('[agentrix] Failed to load optional dependency \"mime-types\":', error);\n  } else {\n    console.warn('[agentrix] Optional dependency \"mime-types\" not found; using built-in MIME map.');\n  }\n}\n\nfunction applyContentType(res: ServerResponse, filePath: string): string {\n  const type = lookupMimeType(filePath) || 'application/octet-stream';\n  const isText = type.startsWith('text/') && !type.includes('charset');\n  const value = isText ? `${type}; charset=utf-8` : type;\n  res.setHeader('Content-Type', value);\n  return type;\n}\n\nfunction setCacheControl(res: ServerResponse, contentType: string): void {\n  if (contentType === 'text/html') {\n    res.setHeader('Cache-Control', 'no-store');\n  } else if (contentType.startsWith('text/')) {\n    res.setHeader('Cache-Control', 'public, max-age=60');\n  } else {\n    res.setHeader('Cache-Control', 'public, max-age=31536000, immutable');\n  }\n}\n\nfunction isPathInside(root: string, candidate: string): boolean {\n  const relative = path.relative(root, candidate);\n  return Boolean(relative) && !relative.startsWith('..') && !path.isAbsolute(relative);\n}\n\nasync function serveFile(res: ServerResponse, filePath: string, method: string): Promise<void> {\n  const contentType = applyContentType(res, filePath);\n  setCacheControl(res, contentType);\n\n  if (method === 'HEAD') {\n    res.statusCode = 200;\n    res.end();\n    return;\n  }\n\n  const content = await fs.readFile(filePath);\n  res.statusCode = 200;\n  res.end(content);\n}\n\nasync function createFileProvider(resolvedPath: string): Promise<UiProvider> {\n  const contents = await fs.readFile(resolvedPath, 'utf8');\n\n  async function serve(req: IncomingMessage, res: ServerResponse): Promise<void> {\n    const method = req.method?.toUpperCase() || 'GET';\n    if (method !== 'GET' && method !== 'HEAD') {\n      res.statusCode = 405;\n      res.setHeader('Allow', 'GET, HEAD');\n      res.end('Method Not Allowed');\n      return;\n    }\n    res.setHeader('Content-Type', 'text/html; charset=utf-8');\n    res.setHeader('Cache-Control', 'no-store');\n    res.statusCode = 200;\n    if (method === 'HEAD') {\n      res.end();\n      return;\n    }\n    res.end(contents);\n  }\n\n  return {\n    type: 'file',\n    resolvedPath,\n    serve,\n  };\n}\n\nasync function createDirectoryProvider(resolvedPath: string): Promise<UiProvider> {\n  const indexPath = path.join(resolvedPath, 'index.html');\n  const indexHtml = await fs.readFile(indexPath, 'utf8');\n\n  async function serve(req: IncomingMessage, res: ServerResponse): Promise<void> {\n    const method = req.method?.toUpperCase() || 'GET';\n    if (method !== 'GET' && method !== 'HEAD') {\n      res.statusCode = 405;\n      res.setHeader('Allow', 'GET, HEAD');\n      res.end('Method Not Allowed');\n      return;\n    }\n\n    const url = new URL(req.url || '/', 'http://localhost');\n    const decodedPath = decodeURIComponent(url.pathname);\n    if (!decodedPath || decodedPath === '/' || decodedPath === '') {\n      res.setHeader('Content-Type', 'text/html; charset=utf-8');\n      res.setHeader('Cache-Control', 'no-store');\n      res.statusCode = 200;\n      if (method === 'HEAD') {\n        res.end();\n        return;\n      }\n      res.end(indexHtml);\n      return;\n    }\n\n    const requestPath = decodedPath.replace(/^\\/+/, '');\n    let targetPath = path.join(resolvedPath, requestPath);\n    const normalised = path.resolve(targetPath);\n\n    if (!isPathInside(resolvedPath, normalised)) {\n      res.statusCode = 403;\n      res.end('Forbidden');\n      return;\n    }\n\n    try {\n      const stats = await fs.stat(normalised);\n      if (stats.isDirectory()) {\n        targetPath = path.join(normalised, 'index.html');\n        await fs.access(targetPath);\n        res.setHeader('Content-Type', 'text/html; charset=utf-8');\n        res.setHeader('Cache-Control', 'no-store');\n        res.statusCode = 200;\n        if (method === 'HEAD') {\n          res.end();\n          return;\n        }\n        const html = await fs.readFile(targetPath, 'utf8');\n        res.end(html);\n        return;\n      }\n\n      await serveFile(res, normalised, method);\n    } catch (error: unknown) {\n      const err = error as { code?: string };\n      if (err && err.code !== 'ENOENT') {\n        console.error('[agentrix] Failed to serve UI asset:', error);\n        res.statusCode = 500;\n        res.end('Internal Server Error');\n        return;\n      }\n\n      if (path.extname(requestPath)) {\n        res.statusCode = 404;\n        res.end('Not Found');\n        return;\n      }\n\n      // SPA fallback to index.html\n      res.setHeader('Content-Type', 'text/html; charset=utf-8');\n      res.setHeader('Cache-Control', 'no-store');\n      res.statusCode = 200;\n      if (method === 'HEAD') {\n        res.end();\n        return;\n      }\n      res.end(indexHtml);\n    }\n  }\n\n  return {\n    type: 'directory',\n    resolvedPath,\n    serve,\n  };\n}\n\nexport interface UiProvider {\n  type?: string;\n  resolvedPath: string;\n  serve(req: IncomingMessage, res: ServerResponse): Promise<void>;\n}\n\nexport async function createUiProvider(uiPath: string): Promise<UiProvider> {\n  const resolvedPath = path.resolve(uiPath);\n  let stats;\n  try {\n    stats = await fs.stat(resolvedPath);\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err && err.code === 'ENOENT') {\n      throw new Error(`UI path not found at ${resolvedPath}`);\n    }\n    throw error;\n  }\n\n  if (stats.isDirectory()) {\n    return createDirectoryProvider(resolvedPath);\n  }\n\n  if (stats.isFile()) {\n    return createFileProvider(resolvedPath);\n  }\n\n  throw new Error(`UI path must be a file or directory: ${resolvedPath}`);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/server/cookies.ts":{"lineLengths":[96,0,534],"data":{"version":3,"mappings":"AAIA,OAAS,wBAA2B","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/server/cookies.ts"],"sourcesContent":["/**\n * @deprecated Use infrastructure/cookies instead\n * This file re-exports for backward compatibility\n */\nexport { createCookieManager } from '../infrastructure/cookies/index.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/auth.ts":{"lineLengths":[2549,0,6738],"data":{"version":3,"mappings":"kHACA,OAAS,oBAAqB,4BAA+B,yBAC7D,OAAS,YAAa,aAAc,cAAiB,qCACrD,OAAS,yBAA4B,qBAUrC,MAAM,qBAAyC,CAC7C,aACA,UACA,YACA,oBACF,EAEA,IAAI,kBAAsD,KAE1D,SAAS,yBAA4C,CACnD,OAAO,kBAAoB,CAAE,GAAG,qBAAsB,GAAG,iBAAkB,EAAI,oBACjF,CAFS,0DAIF,SAAS,uBAAuB,UAA6C,CAClF,kBAAoB,WAAa,IACnC,CAFgB,wDAQT,SAAS,kBAAkB,iBAAuC,CACvE,MAAM,KAAO,wBAAwB,EACrC,MAAM,mBAAqB,IAAI,IAE/B,SAAS,YAAY,QAAiB,WAA+B,CACnE,MAAM,MAAQ,IAAI,MAAM,OAAO,EAC/B,MAAM,WAAa,WACnB,OAAO,KACT,CAJS,kCAMT,SAAS,oBAAoB,IAA8B,CACzD,MAAM,QAAU,KAAK,aAAa,IAAI,SAAS,MAAM,EACrD,OAAO,QAAQ,mBAAmB,GAAK,EACzC,CAHS,kDAKT,SAAS,gBAAgB,IAA+B,CACtD,MAAM,MAAQ,oBAAoB,GAAG,EACrC,OAAO,QAAQ,OAAS,mBAAmB,IAAI,KAAK,CAAC,CACvD,CAHS,0CAKT,SAAS,MACP,IACA,IACA,iBACA,QAAgC,CAAC,EACzB,CACR,GAAI,OAAO,mBAAqB,UAAY,CAAC,iBAAiB,KAAK,EAAG,CACpE,MAAM,YAAY,uBAAwB,GAAG,CAC/C,CACA,GAAI,iBAAiB,KAAK,IAAM,iBAAkB,CAChD,MAAM,YAAY,mBAAoB,GAAG,CAC3C,CAEA,MAAM,SAAW,oBAAoB,GAAG,EACxC,GAAI,SAAU,CACZ,mBAAmB,OAAO,QAAQ,CACpC,CAEA,MAAM,MAAQ,KAAK,qBAAqB,EACxC,mBAAmB,IAAI,KAAK,EAC5B,MAAM,WAAa,QAAQ,OAC3B,KAAK,UAAU,IAAK,oBAAqB,MAAO,CAC9C,OAAQ,wBACR,SAAU,SACV,SAAU,KACV,KAAM,IACN,OAAQ,UACV,CAAC,EACD,OAAO,KACT,CA7BS,sBA+BT,SAAS,OAAO,IAAsB,IAAqB,QAAgC,CAAC,EAAS,CACnG,MAAM,MAAQ,oBAAoB,GAAG,EACrC,GAAI,MAAO,CACT,mBAAmB,OAAO,KAAK,CACjC,CACA,KAAK,YAAY,IAAK,oBAAqB,CACzC,KAAM,IACN,SAAU,SACV,SAAU,KACV,OAAQ,SAAS,MACnB,CAAC,CACH,CAXS,wBAaT,SAAS,SAAS,MAAwB,CACxC,OAAO,mBAAmB,IAAI,KAAK,CACrC,CAFS,4BAIT,SAAS,OAAc,CACrB,mBAAmB,MAAM,CAC3B,CAFS,sBAIT,MAAO,CACL,MACA,OACA,gBACA,SACA,MACA,mBACF,CACF,CAhFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/auth.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'node:http';\nimport { SESSION_COOKIE_NAME, SESSION_MAX_AGE_SECONDS } from '../config/constants.js';\nimport { clearCookie, parseCookies, setCookie } from '../infrastructure/cookies/index.js';\nimport { generateSessionToken } from '../utils/random.js';\nimport type { AuthManager } from '../types/auth.js';\n\ntype AuthDependencies = {\n  parseCookies: typeof parseCookies;\n  setCookie: typeof setCookie;\n  clearCookie: typeof clearCookie;\n  generateSessionToken: typeof generateSessionToken;\n};\n\nconst baseAuthDependencies: AuthDependencies = {\n  parseCookies,\n  setCookie,\n  clearCookie,\n  generateSessionToken,\n};\n\nlet authTestOverrides: Partial<AuthDependencies> | null = null;\n\nfunction resolveAuthDependencies(): AuthDependencies {\n  return authTestOverrides ? { ...baseAuthDependencies, ...authTestOverrides } : baseAuthDependencies;\n}\n\nexport function __setAuthTestOverrides(overrides?: Partial<AuthDependencies>): void {\n  authTestOverrides = overrides ?? null;\n}\n\ninterface AuthError extends Error {\n  statusCode: number;\n}\n\nexport function createAuthManager(expectedPassword: string): AuthManager {\n  const deps = resolveAuthDependencies();\n  const validSessionTokens = new Set<string>();\n\n  function createError(message: string, statusCode: number): AuthError {\n    const error = new Error(message) as AuthError;\n    error.statusCode = statusCode;\n    return error;\n  }\n\n  function getTokenFromRequest(req: IncomingMessage): string {\n    const cookies = deps.parseCookies(req.headers?.cookie);\n    return cookies[SESSION_COOKIE_NAME] || '';\n  }\n\n  function isAuthenticated(req: IncomingMessage): boolean {\n    const token = getTokenFromRequest(req);\n    return Boolean(token && validSessionTokens.has(token));\n  }\n\n  function login(\n    req: IncomingMessage,\n    res: ServerResponse,\n    providedPassword: string,\n    options: { secure?: boolean } = {}\n  ): string {\n    if (typeof providedPassword !== 'string' || !providedPassword.trim()) {\n      throw createError('Password is required', 400);\n    }\n    if (providedPassword.trim() !== expectedPassword) {\n      throw createError('Invalid password', 401);\n    }\n\n    const existing = getTokenFromRequest(req);\n    if (existing) {\n      validSessionTokens.delete(existing);\n    }\n\n    const token = deps.generateSessionToken();\n    validSessionTokens.add(token);\n    const secureFlag = options.secure;\n    deps.setCookie(res, SESSION_COOKIE_NAME, token, {\n      maxAge: SESSION_MAX_AGE_SECONDS,\n      sameSite: 'Strict',\n      httpOnly: true,\n      path: '/',\n      secure: secureFlag,\n    });\n    return token;\n  }\n\n  function logout(req: IncomingMessage, res: ServerResponse, options: { secure?: boolean } = {}): void {\n    const token = getTokenFromRequest(req);\n    if (token) {\n      validSessionTokens.delete(token);\n    }\n    deps.clearCookie(res, SESSION_COOKIE_NAME, {\n      path: '/',\n      sameSite: 'Strict',\n      httpOnly: true,\n      secure: options?.secure,\n    });\n  }\n\n  function hasToken(token: string): boolean {\n    return validSessionTokens.has(token);\n  }\n\n  function clear(): void {\n    validSessionTokens.clear();\n  }\n\n  return {\n    login,\n    logout,\n    isAuthenticated,\n    hasToken,\n    clear,\n    getTokenFromRequest,\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/config/agent-commands.ts":{"lineLengths":[2230,0,5710],"data":{"version":3,"mappings":"kHAAA,MAAM,sBAAwB,QAC9B,MAAM,+BAAiC,6CACvC,MAAM,uBAAyB,SAC/B,MAAM,gCAAkC,iCACxC,MAAM,uBAAyB,eAC/B,MAAM,uBAAyB,SAExB,MAAM,uBAAyB,CACpC,MAAO,GAAG,qBAAqB,GAC/B,eAAgB,GAAG,qBAAqB,IAAI,8BAA8B,GAC1E,OAAQ,GAAG,sBAAsB,GACjC,gBAAiB,GAAG,sBAAsB,IAAI,+BAA+B,GAC7E,OAAQ,GAAG,sBAAsB,GACjC,OAAQ,GAAG,sBAAsB,EACnC,EAqBA,SAAS,mBAAmB,KAAc,OAAwB,CAChE,MAAM,QAAU,OAAO,OAAS,SAAW,KAAK,KAAK,EAAI,GACzD,GAAI,CAAC,QAAS,CACZ,MAAO,EACT,CACA,MAAO,GAAG,OAAO,IAAI,MAAM,GAAG,KAAK,CACrC,CANS,gDAQF,SAAS,oBAAoB,UAAmC,CAAC,EAAkB,CACxF,MAAM,UACJ,OAAO,UAAU,QAAU,UAAY,UAAU,MAAM,KAAK,EACxD,UAAU,MAAM,KAAK,EACrB,uBAAuB,MAC7B,MAAM,WACJ,OAAO,UAAU,SAAW,UAAY,UAAU,OAAO,KAAK,EAC1D,UAAU,OAAO,KAAK,EACtB,uBAAuB,OAC7B,MAAM,eAAiB,IAAM,CAC3B,GAAI,OAAO,UAAU,SAAW,UAAY,UAAU,OAAO,KAAK,EAAG,CACnE,OAAO,UAAU,OAAO,KAAK,CAC/B,CACA,GAAI,OAAO,UAAU,MAAQ,UAAY,UAAU,IAAI,KAAK,EAAG,CAC7D,OAAO,UAAU,IAAI,KAAK,CAC5B,CACA,OAAO,uBAAuB,MAChC,GAAG,EACH,MAAM,cACJ,OAAO,UAAU,SAAW,UAAY,UAAU,OAAO,KAAK,EAC1D,UAAU,OAAO,KAAK,EACtB,uBAAuB,OAE7B,MAAM,eACJ,OAAO,UAAU,iBAAmB,UAAY,UAAU,eAAe,KAAK,EAC1E,UAAU,eAAe,KAAK,EAC9B,mBAAmB,UAAW,8BAA8B,EAElE,MAAM,gBACJ,OAAO,UAAU,kBAAoB,UAAY,UAAU,gBAAgB,KAAK,EAC5E,UAAU,gBAAgB,KAAK,EAC/B,mBAAmB,WAAY,+BAA+B,EAEpE,MAAO,CACL,MAAO,UACP,eACA,OAAQ,WACR,gBACA,OAAQ,cACR,OAAQ,aACV,CACF,CAzCgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/config/agent-commands.ts"],"sourcesContent":["const DEFAULT_CODEX_COMMAND = 'codex';\nconst DEFAULT_CODEX_DANGEROUS_SUFFIX = '--dangerously-bypass-approvals-and-sandbox';\nconst DEFAULT_CLAUDE_COMMAND = 'claude';\nconst DEFAULT_CLAUDE_DANGEROUS_SUFFIX = '--dangerously-skip-permissions';\nconst DEFAULT_CURSOR_COMMAND = 'cursor-agent';\nconst DEFAULT_VSCODE_COMMAND = 'code .';\n\nexport const DEFAULT_AGENT_COMMANDS = {\n  codex: `${DEFAULT_CODEX_COMMAND}`,\n  codexDangerous: `${DEFAULT_CODEX_COMMAND} ${DEFAULT_CODEX_DANGEROUS_SUFFIX}`,\n  claude: `${DEFAULT_CLAUDE_COMMAND}`,\n  claudeDangerous: `${DEFAULT_CLAUDE_COMMAND} ${DEFAULT_CLAUDE_DANGEROUS_SUFFIX}`,\n  cursor: `${DEFAULT_CURSOR_COMMAND}`,\n  vscode: `${DEFAULT_VSCODE_COMMAND}`,\n} as const;\n\nexport interface AgentCommands {\n  codex: string;\n  codexDangerous: string;\n  claude: string;\n  claudeDangerous: string;\n  cursor: string;\n  vscode: string;\n}\n\nexport interface AgentCommandOverrides {\n  codex?: string;\n  codexDangerous?: string;\n  claude?: string;\n  claudeDangerous?: string;\n  cursor?: string;\n  ide?: string;\n  vscode?: string;\n}\n\nfunction appendDangerSuffix(base: string, suffix: string): string {\n  const trimmed = typeof base === 'string' ? base.trim() : '';\n  if (!trimmed) {\n    return '';\n  }\n  return `${trimmed} ${suffix}`.trim();\n}\n\nexport function createAgentCommands(overrides: AgentCommandOverrides = {}): AgentCommands {\n  const codexBase =\n    typeof overrides.codex === 'string' && overrides.codex.trim()\n      ? overrides.codex.trim()\n      : DEFAULT_AGENT_COMMANDS.codex;\n  const claudeBase =\n    typeof overrides.claude === 'string' && overrides.claude.trim()\n      ? overrides.claude.trim()\n      : DEFAULT_AGENT_COMMANDS.claude;\n  const cursorCommand = (() => {\n    if (typeof overrides.cursor === 'string' && overrides.cursor.trim()) {\n      return overrides.cursor.trim();\n    }\n    if (typeof overrides.ide === 'string' && overrides.ide.trim()) {\n      return overrides.ide.trim();\n    }\n    return DEFAULT_AGENT_COMMANDS.cursor;\n  })();\n  const vscodeCommand =\n    typeof overrides.vscode === 'string' && overrides.vscode.trim()\n      ? overrides.vscode.trim()\n      : DEFAULT_AGENT_COMMANDS.vscode;\n\n  const codexDangerous =\n    typeof overrides.codexDangerous === 'string' && overrides.codexDangerous.trim()\n      ? overrides.codexDangerous.trim()\n      : appendDangerSuffix(codexBase, DEFAULT_CODEX_DANGEROUS_SUFFIX);\n\n  const claudeDangerous =\n    typeof overrides.claudeDangerous === 'string' && overrides.claudeDangerous.trim()\n      ? overrides.claudeDangerous.trim()\n      : appendDangerSuffix(claudeBase, DEFAULT_CLAUDE_DANGEROUS_SUFFIX);\n\n  return {\n    codex: codexBase,\n    codexDangerous,\n    claude: claudeBase,\n    claudeDangerous,\n    cursor: cursorCommand,\n    vscode: vscodeCommand,\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/branch-name.ts":{"lineLengths":[2400,8321,0,31210],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/branch-name.ts"],"sourcesContent":["import { spawn as childSpawn } from 'node:child_process';\nimport { loadDeveloperMessage as loadDeveloperMessageImpl } from '../config/developer-messages.js';\nimport { normaliseBranchName as normaliseBranchNameImpl } from './git.js';\n\nconst SUPPORTED_LLMS = new Set(['codex', 'claude', 'cursor']);\nconst DEFAULT_LLM = 'codex';\nconst COMMAND_TIMEOUT_MS = 30_000;\nconst COMMAND_MAX_BUFFER = 512 * 1024;\n\nconst DEFAULT_DEVELOPER_MESSAGE =\n  'Generate a branch name in the format <type>/<description> with no preamble or postamble, and no code blocks. The <type> must be one of: feature, enhancement, fix, chore, or another appropriate status. The <description> should be concise (max 7 words), using dashes to separate words. Example: feature/create-calendar-page.';\n\nconst COMMAND_NAMES = {\n  codex: 'codex',\n  claude: 'claude',\n  cursor: 'cursor-agent',\n};\n\ninterface BranchNameDependencies {\n  spawn: typeof childSpawn;\n  loadDeveloperMessage: typeof loadDeveloperMessageImpl;\n  normaliseBranchName: typeof normaliseBranchNameImpl;\n}\n\nconst defaultDependencies: BranchNameDependencies = {\n  spawn: childSpawn,\n  loadDeveloperMessage: loadDeveloperMessageImpl,\n  normaliseBranchName: normaliseBranchNameImpl,\n};\n\nlet activeDependencies: BranchNameDependencies = { ...defaultDependencies };\n\nexport function __setBranchNameTestOverrides(overrides?: Partial<BranchNameDependencies>): void {\n  if (!overrides) {\n    activeDependencies = { ...defaultDependencies };\n    return;\n  }\n  activeDependencies = { ...activeDependencies, ...overrides };\n}\n\nfunction slugifySegment(value: unknown): string {\n  if (typeof value !== 'string') {\n    return '';\n  }\n  return value\n    .toLowerCase()\n    .replace(/[^a-z0-9._-]+/g, '-')\n    .replace(/-+/g, '-')\n    .replace(/^-+|-+$/g, '');\n}\n\nfunction sanitiseCandidate(rawValue: unknown): string {\n  if (typeof rawValue !== 'string') {\n    return '';\n  }\n\n  const line = rawValue\n    .split('\\n')\n    .map((segment) => segment.trim())\n    .find(Boolean);\n  if (!line) {\n    return '';\n  }\n\n  const cleaned = line.replace(/^`+|`+$/g, '').replace(/^\"+|\"+$/g, '').trim();\n  if (!cleaned) {\n    return '';\n  }\n\n  const segments = cleaned.split('/').map((segment) => slugifySegment(segment));\n\n  let type = segments[0];\n  const remainder = segments.slice(1).filter(Boolean);\n\n  if (!type) {\n    type = 'feature';\n  }\n\n  if (remainder.length === 0) {\n    const fallback = slugifySegment(cleaned.replace(/\\//g, '-'));\n    if (!fallback) {\n      return '';\n    }\n    remainder.push(fallback);\n  }\n\n  const branch = [type, ...remainder].join('/');\n  return activeDependencies.normaliseBranchName(branch);\n}\n\nfunction buildUserPrompt({ prompt, org, repo }: { prompt?: string; org?: string; repo?: string } = {}): string {\n  const sections = [];\n  if (org && repo) {\n    sections.push(`Repository: ${org}/${repo}`);\n  }\n  if (prompt) {\n    sections.push(`Summary:\\n${prompt}`);\n  }\n\n  if (sections.length === 0) {\n    sections.push('Generate a succinct branch name for an upcoming change.');\n  }\n\n  return sections.join('\\n\\n');\n}\n\nfunction shellQuote(value: unknown): string {\n  const str = String(value ?? '');\n  if (str === '') {\n    return \"''\";\n  }\n  return `'${str.replace(/'/g, `'\\\\''`)}'`;\n}\n\nfunction buildCommandString(baseCommand: unknown, args: string[] = []): string {\n  const trimmedBase =\n    typeof baseCommand === 'string' && baseCommand.trim() ? baseCommand.trim() : '';\n  if (!trimmedBase) {\n    throw new Error('Command is not configured for branch naming.');\n  }\n  const serializedArgs = args.map((arg) => shellQuote(arg));\n  return [trimmedBase, ...serializedArgs].join(' ');\n}\n\nfunction normaliseLlm(input: unknown): string {\n  if (typeof input !== 'string') {\n    return DEFAULT_LLM;\n  }\n  const trimmed = input.trim().toLowerCase();\n  if (!trimmed) {\n    return DEFAULT_LLM;\n  }\n  if (!SUPPORTED_LLMS.has(trimmed)) {\n    return DEFAULT_LLM;\n  }\n  return trimmed;\n}\n\nfunction buildPromptText({ developerMessage, userPrompt }: { developerMessage: string; userPrompt: string }): string {\n  const sections = [developerMessage.trim()];\n  if (userPrompt.trim()) {\n    sections.push(userPrompt.trim());\n  }\n  sections.push('Respond with the branch name only.');\n  return sections.join('\\n\\n');\n}\n\nasync function executeLlmCommand(\n  command: string,\n  { signal, onProcessStart }: { signal?: AbortSignal; onProcessStart?: (process: unknown) => void } = {}\n): Promise<string> {\n  const { shellPath, shellArgs } = resolveShellInvocation();\n  const isPosix = process.platform !== 'win32';\n  return new Promise((resolve, reject) => {\n    let stdout = '';\n    let stderr = '';\n    let totalOutput = 0;\n    let timedOut = false;\n    let aborted = false;\n    let killTimer: NodeJS.Timeout | null = null;\n    let overflowed = false;\n    const child = activeDependencies.spawn(shellPath, [...shellArgs, command], {\n      stdio: ['ignore', 'pipe', 'pipe'],\n      env: process.env,\n      detached: isPosix,\n    });\n\n    if (typeof onProcessStart === 'function') {\n      try {\n        onProcessStart(child);\n      } catch {\n        // ignore observer errors\n      }\n    }\n\n    const cleanup = () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      if (killTimer) {\n        clearTimeout(killTimer);\n      }\n      if (abortListener && signal) {\n        signal.removeEventListener('abort', abortListener);\n      }\n      if (child.stdout) {\n        child.stdout.off('data', handleStdout);\n      }\n      if (child.stderr) {\n        child.stderr.off('data', handleStderr);\n      }\n      child.off('error', handleError);\n      child.off('close', handleClose);\n    };\n\n    const abortError = new Error('Command aborted');\n    abortError.name = 'AbortError';\n\n    const terminateChild = (code = 'SIGTERM') => {\n      if (isPosix && typeof child.pid === 'number' && child.pid > 0) {\n        try {\n          process.kill(-child.pid, code as NodeJS.Signals);\n        } catch {\n          // ignore group kill errors\n        }\n      }\n      if (!child.killed) {\n        try {\n          child.kill(code as NodeJS.Signals);\n        } catch {\n          // ignore kill errors\n        }\n      }\n      killTimer = setTimeout(() => {\n        if (isPosix && typeof child.pid === 'number' && child.pid > 0) {\n          try {\n            process.kill(-child.pid, 'SIGKILL');\n          } catch {\n            // ignore group kill errors\n          }\n        }\n        if (!child.killed) {\n          try {\n            child.kill('SIGKILL');\n          } catch {\n            // ignore kill errors\n          }\n        }\n      }, 1000);\n      killTimer.unref?.();\n    };\n\n    const handleAbort = () => {\n      if (aborted) {\n        return;\n      }\n      aborted = true;\n      terminateChild();\n    };\n\n    let abortListener: (() => void) | null = null;\n    if (signal) {\n      if (signal.aborted) {\n        handleAbort();\n      } else {\n        abortListener = handleAbort;\n        signal.addEventListener('abort', abortListener);\n      }\n    }\n\n    const timeoutId: NodeJS.Timeout | null = COMMAND_TIMEOUT_MS\n      ? setTimeout(() => {\n          timedOut = true;\n          terminateChild();\n        }, COMMAND_TIMEOUT_MS)\n      : null;\n    timeoutId?.unref?.();\n\n    child.stdout?.setEncoding('utf8');\n    child.stderr?.setEncoding('utf8');\n\n    const handleStdout = (chunk: Buffer | string): void => {\n      stdout += chunk;\n      totalOutput += Buffer.byteLength(chunk, 'utf8');\n      if (totalOutput > COMMAND_MAX_BUFFER) {\n        overflowed = true;\n        terminateChild();\n      }\n    };\n\n    const handleStderr = (chunk: Buffer | string): void => {\n      stderr += chunk;\n      totalOutput += Buffer.byteLength(chunk, 'utf8');\n      if (totalOutput > COMMAND_MAX_BUFFER) {\n        overflowed = true;\n        terminateChild();\n      }\n    };\n\n    if (child.stdout) {\n      child.stdout.on('data', handleStdout);\n    }\n    if (child.stderr) {\n      child.stderr.on('data', handleStderr);\n    }\n\n    const handleError = (error: Error): void => {\n      cleanup();\n      reject(error);\n    };\n\n    child.on('error', handleError);\n\n    const handleClose = (code: number | null, signalCode: NodeJS.Signals | null): void => {\n      cleanup();\n      if (overflowed) {\n        reject(new Error('Command output exceeded maximum buffer size.'));\n        return;\n      }\n      if (aborted) {\n        reject(abortError);\n        return;\n      }\n      if (timedOut) {\n        reject(new Error('Command timed out.'));\n        return;\n      }\n      if (signalCode) {\n        reject(new Error(`Command terminated due to signal ${signalCode}`));\n        return;\n      }\n      if (code !== 0) {\n        const message = stderr.trim() || stdout.trim() || `Command exited with code ${code}`;\n        reject(new Error(message));\n        return;\n      }\n      resolve(stdout);\n    };\n\n    child.once('close', handleClose);\n  });\n}\n\nfunction resolveShellInvocation() {\n  const shellPath =\n    typeof process.env[\"SHELL\"] === 'string' && process.env[\"SHELL\"].trim()\n      ? process.env[\"SHELL\"].trim()\n      : '/bin/sh';\n  const name = shellPath.split('/').pop();\n  const shellArgs = [];\n  if (name === 'bash' || name === 'zsh' || name === 'fish') {\n    shellArgs.push('-il');\n  }\n  shellArgs.push('-c');\n  return { shellPath, shellArgs };\n}\n\nfunction resolveBaseCommand(llm: string): string | null {\n  if (llm === 'codex') {\n    return COMMAND_NAMES.codex;\n  }\n  if (llm === 'claude') {\n    return COMMAND_NAMES.claude;\n  }\n  if (llm === 'cursor') {\n    return COMMAND_NAMES.cursor;\n  }\n  return null;\n}\n\nfunction buildCommandForLlm(llm: string, promptText: string): string {\n  const baseCommand = resolveBaseCommand(llm);\n  if (!baseCommand) {\n    throw new Error(`No command configured for LLM \"${llm}\".`);\n  }\n  const commandPrefix = `command ${baseCommand}`;\n\n  switch (llm) {\n    case 'claude':\n      return buildCommandString(commandPrefix, ['-p', promptText]);\n    case 'cursor':\n      return buildCommandString(commandPrefix, ['-p', promptText]);\n    case 'codex':\n    default:\n      return buildCommandString(commandPrefix, ['exec', promptText, '--skip-git-repo-check']);\n  }\n}\n\nexport function createBranchNameGenerator({ defaultLlm }: { defaultLlm?: string } = {}) {\n  const chosenLlm = normaliseLlm(defaultLlm);\n  const activeControllers = new Set();\n  const runningCommands = new Set();\n  const activeProcesses = new Set();\n\n  async function generateBranchName(context: { prompt?: string; org?: string; repo?: string; llm?: string } = {}) {\n    const userPrompt = buildUserPrompt(context);\n    const developerMessage = await activeDependencies.loadDeveloperMessage('branch-name', DEFAULT_DEVELOPER_MESSAGE);\n\n    const promptText = buildPromptText({ developerMessage, userPrompt });\n    const requestedLlm = normaliseLlm(context.llm || chosenLlm);\n    const controller = new AbortController();\n    activeControllers.add(controller);\n    let commandPromise: Promise<string> | undefined;\n\n    try {\n      const command = buildCommandForLlm(requestedLlm, promptText);\n      try {\n        commandPromise = Promise.resolve(\n          executeLlmCommand(command, {\n            signal: controller.signal,\n            onProcessStart: (childProcess) => {\n              if (!childProcess) {\n                return;\n              }\n              activeProcesses.add(childProcess);\n              const proc = childProcess as { once: (event: string, handler: () => void) => void };\n              proc.once('close', () => {\n                activeProcesses.delete(childProcess);\n              });\n            },\n          }),\n        );\n      } catch (error: unknown) {\n        const err = error as { name?: string; code?: string };\n        if (controller.signal.aborted || err?.name === 'AbortError' || err?.code === 'ABORT_ERR') {\n          throw new Error('Branch name generation was cancelled.');\n        }\n        throw error;\n      }\n      runningCommands.add(commandPromise);\n      let output;\n      try {\n        output = await commandPromise;\n      } finally {\n        runningCommands.delete(commandPromise);\n      }\n      const candidate = sanitiseCandidate(output);\n      if (!candidate) {\n        throw new Error('Generated branch name was empty.');\n      }\n      if (candidate.toLowerCase() === 'main') {\n        throw new Error('Generated branch name is invalid (branch \"main\" is not allowed).');\n      }\n      return candidate;\n    } catch (error: unknown) {\n      const err = error as { name?: string; code?: string };\n      if (controller.signal.aborted || err?.name === 'AbortError' || err?.code === 'ABORT_ERR') {\n        throw new Error('Branch name generation was cancelled.');\n      }\n      const message = error instanceof Error ? error.message : String(error);\n      throw new Error(`Failed to generate branch name using ${requestedLlm}: ${message}`);\n    } finally {\n      activeControllers.delete(controller);\n    }\n  }\n\n  async function disposeAll() {\n    if (activeControllers.size === 0 && runningCommands.size === 0 && activeProcesses.size === 0) {\n      return;\n    }\n    const controllers = Array.from(activeControllers) as AbortController[];\n    controllers.forEach((controller: AbortController) => {\n      try {\n        controller.abort();\n      } catch {\n        // ignore abort errors during disposal\n      }\n    });\n    activeControllers.clear();\n    const processes = Array.from(activeProcesses) as Array<{\n      killed?: boolean;\n      exitCode?: number | null;\n      signalCode?: string | null;\n      kill?: (signal: string) => void;\n      once?: (event: string, handler: () => void) => void;\n    }>;\n    activeProcesses.clear();\n    processes.forEach((child) => {\n      try {\n        if (!child.killed && child.kill) {\n          child.kill('SIGTERM');\n        }\n      } catch {\n        // ignore kill errors during disposal\n      }\n    });\n    if (processes.length > 0) {\n      await Promise.allSettled(\n        processes.map(\n          (child) =>\n            new Promise<void>((resolve) => {\n              if (child.exitCode !== null || child.signalCode) {\n                resolve();\n                return;\n              }\n              const handleResolve = () => resolve();\n              if (child.once) {\n                child.once('close', handleResolve);\n                child.once('exit', handleResolve);\n              } else {\n                resolve();\n              }\n            }),\n        ),\n      );\n    }\n    const pending = Array.from(runningCommands);\n    runningCommands.clear();\n    if (pending.length > 0) {\n      await Promise.allSettled(pending);\n    }\n  }\n\n  return {\n    isConfigured: true,\n    generateBranchName,\n    async dispose() {\n      await disposeAll();\n    },\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/plan.ts":{"lineLengths":[262,268,0,31,0,169,0,83,0,23,115,93,76,80,0,22,48,87,91,0,148,0,234,5609,3861,0,31978],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/plan.ts"],"sourcesContent":["import { spawn } from 'node:child_process';\nimport { loadDeveloperMessage } from '../config/developer-messages.js';\n\nexport const DEFAULT_PLAN_DEVELOPER_MESSAGE = `\\`\\`\\`\nTransform any user message describing a feature request, enhancement, or bug fix into a structured PTCGO-style prompt for Codex. The resulting prompt should instruct Codex to directly implement the described change in code provided or in the target repository context.\n\nFollow this structure strictly:\n\nPersona: Assume the role of a senior full-stack developer working with modern frameworks. You write clean, maintainable code and follow SOLID, DRY, and YAGNI principles.\n\nTask: Implement the feature request, enhancement, or bug fix described by the user.\n\nSteps to Complete Task:\n1. Analyse the users description to determine what part of the codebase is affected and what needs to change.\n2. If code is provided, use it as the working context. Otherwise, infer where changes belong.\n3. Write complete, correct, and self-contained code implementing the change.\n4. Include inline documentation and clear commit-style explanations if relevant.\n\nContext / Constraints:\n- Do not add boilerplate or unrelated refactors.\n- Maintain existing coding conventions, folder structure, and architectural boundaries.\n- Use concise, idiomatic, production-grade TypeScript or the language of the provided code.\n\nGoal: Produce the minimal and correct code modification that fulfils the request as described. The result must be ready to paste or commit directly.\n\nFormat Output: Provide only the final prompt Codex should act on  no extra commentary or metadata. The output must be plain text starting with 'Implement the following change:' followed by the fully structured Codex instruction.\n\\`\\`\\``;\n\nconst SUPPORTED_LLMS = new Set(['codex', 'claude', 'cursor']);\nconst DEFAULT_LLM = 'codex';\nconst COMMAND_TIMEOUT_MS = 5 * 60 * 1000;\nconst COMMAND_MAX_BUFFER = 2 * 1024 * 1024;\n\nconst COMMAND_NAMES = {\n  codex: 'codex',\n  claude: 'claude',\n  cursor: 'cursor-agent',\n};\n\nfunction shellQuote(value: unknown): string {\n  const str = String(value ?? '');\n  if (str === '') {\n    return \"''\";\n  }\n  return `'${str.replace(/'/g, `'\\\\''`)}'`;\n}\n\nfunction buildCommandString(baseCommand: unknown, args: string[] = []): string {\n  const trimmedBase =\n    typeof baseCommand === 'string' && baseCommand.trim() ? baseCommand.trim() : '';\n  if (!trimmedBase) {\n    throw new Error('Command is not configured for plan generation.');\n  }\n  const serializedArgs = args.map((arg) => shellQuote(arg));\n  return [trimmedBase, ...serializedArgs].join(' ');\n}\n\nfunction normaliseLlm(input: unknown): string {\n  if (typeof input !== 'string') {\n    return DEFAULT_LLM;\n  }\n  const trimmed = input.trim().toLowerCase();\n  if (!trimmed) {\n    return DEFAULT_LLM;\n  }\n  if (!SUPPORTED_LLMS.has(trimmed)) {\n    return DEFAULT_LLM;\n  }\n  return trimmed;\n}\n\nfunction resolveShellInvocation() {\n  const shellPath =\n    typeof process.env[\"SHELL\"] === 'string' && process.env[\"SHELL\"].trim()\n      ? process.env[\"SHELL\"].trim()\n      : '/bin/sh';\n  const name = shellPath.split('/').pop();\n  const shellArgs = [];\n  if (name === 'bash' || name === 'zsh' || name === 'fish') {\n    shellArgs.push('-il');\n  }\n  shellArgs.push('-c');\n  return { shellPath, shellArgs };\n}\n\nfunction buildCommandForLlm(\n  llm: string,\n  promptText: string,\n  { dangerousMode = false, rawPrompt = false }: { dangerousMode?: boolean; rawPrompt?: boolean } = {}\n): string {\n  const baseCommand = COMMAND_NAMES[llm as keyof typeof COMMAND_NAMES];\n  if (!baseCommand) {\n    throw new Error(`No command configured for LLM \"${llm}\".`);\n  }\n  const commandPrefix = `command ${baseCommand}`;\n\n  switch (llm) {\n    case 'claude':\n      return buildCommandString(commandPrefix, [\n        '-p',\n        promptText,\n        ...(dangerousMode ? ['--dangerously-skip-permissions'] : []),\n      ]);\n    case 'cursor':\n      return buildCommandString(commandPrefix, ['-p', promptText]);\n    case 'codex':\n    default:\n      return buildCommandString(commandPrefix, [\n        'exec',\n        promptText,\n        ...(!rawPrompt ? ['--skip-git-repo-check'] : []),\n        ...(dangerousMode ? ['--dangerously-bypass-approvals-and-sandbox'] : []),\n      ]);\n  }\n}\n\nasync function executePlanCommand(\n  command: string,\n  { cwd, signal, onProcessStart }: { cwd?: string; signal?: AbortSignal; onProcessStart?: (process: unknown) => void } = {}\n): Promise<string> {\n  const { shellPath, shellArgs } = resolveShellInvocation();\n  const resolvedCwd = typeof cwd === 'string' ? cwd.trim() : '';\n  const isPosix = process.platform !== 'win32';\n  return new Promise((resolve, reject) => {\n    let stdout = '';\n    let stderr = '';\n    let totalOutput = 0;\n    let timedOut = false;\n    let aborted = false;\n    let killTimer: NodeJS.Timeout | null = null;\n    let overflowed = false;\n    const child = spawn(shellPath, [...shellArgs, command], {\n      cwd: resolvedCwd || undefined,\n      stdio: ['ignore', 'pipe', 'pipe'],\n      env: process.env,\n      detached: isPosix,\n    });\n\n    if (typeof onProcessStart === 'function') {\n      try {\n        onProcessStart(child);\n      } catch {\n        // ignore observer errors\n      }\n    }\n\n    const cleanup = () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      if (killTimer) {\n        clearTimeout(killTimer);\n      }\n      if (abortListener && signal) {\n        signal.removeEventListener('abort', abortListener);\n      }\n      if (child.stdout) {\n        child.stdout.off('data', handleStdout);\n      }\n      if (child.stderr) {\n        child.stderr.off('data', handleStderr);\n      }\n      child.off('error', handleError);\n      child.off('close', handleClose);\n    };\n\n    const abortError = new Error('Command aborted');\n    abortError.name = 'AbortError';\n\n    const terminateChild = (code = 'SIGTERM') => {\n      if (isPosix && typeof child.pid === 'number' && child.pid > 0) {\n        try {\n          process.kill(-child.pid, code as NodeJS.Signals);\n        } catch {\n          // ignore group kill errors\n        }\n      }\n      if (!child.killed) {\n        try {\n          child.kill(code as NodeJS.Signals);\n        } catch {\n          // ignore kill errors\n        }\n      }\n      killTimer = setTimeout(() => {\n        if (isPosix && typeof child.pid === 'number' && child.pid > 0) {\n          try {\n            process.kill(-child.pid, 'SIGKILL');\n          } catch {\n            // ignore group kill errors\n          }\n        }\n        if (!child.killed) {\n          try {\n            child.kill('SIGKILL');\n          } catch {\n            // ignore kill errors\n          }\n        }\n      }, 1000);\n      killTimer.unref?.();\n    };\n\n    const handleAbort = () => {\n      if (aborted) {\n        return;\n      }\n      aborted = true;\n      terminateChild();\n    };\n\n    let abortListener: (() => void) | null = null;\n    if (signal) {\n      if (signal.aborted) {\n        handleAbort();\n      } else {\n        abortListener = handleAbort;\n        signal.addEventListener('abort', abortListener);\n      }\n    }\n\n    const timeoutId: NodeJS.Timeout | null = COMMAND_TIMEOUT_MS\n      ? setTimeout(() => {\n          timedOut = true;\n          terminateChild();\n        }, COMMAND_TIMEOUT_MS)\n      : null;\n    timeoutId?.unref?.();\n\n    child.stdout?.setEncoding('utf8');\n    child.stderr?.setEncoding('utf8');\n\n    const handleStdout = (chunk: Buffer | string): void => {\n      stdout += chunk;\n      totalOutput += Buffer.byteLength(chunk, 'utf8');\n      if (totalOutput > COMMAND_MAX_BUFFER) {\n        overflowed = true;\n        terminateChild();\n      }\n    };\n\n    const handleStderr = (chunk: Buffer | string): void => {\n      stderr += chunk;\n      totalOutput += Buffer.byteLength(chunk, 'utf8');\n      if (totalOutput > COMMAND_MAX_BUFFER) {\n        overflowed = true;\n        terminateChild();\n      }\n    };\n\n    if (child.stdout) {\n      child.stdout.on('data', handleStdout);\n    }\n    if (child.stderr) {\n      child.stderr.on('data', handleStderr);\n    }\n\n    const handleError = (error: Error): void => {\n      cleanup();\n      reject(error);\n    };\n\n    child.on('error', handleError);\n\n    const handleClose = (code: number | null, signalCode: NodeJS.Signals | null): void => {\n      cleanup();\n      if (overflowed) {\n        reject(new Error('Command output exceeded maximum buffer size.'));\n        return;\n      }\n      if (aborted) {\n        reject(abortError);\n        return;\n      }\n      if (timedOut) {\n        reject(new Error('Command timed out.'));\n        return;\n      }\n      if (signalCode) {\n        reject(new Error(`Command terminated due to signal ${signalCode}`));\n        return;\n      }\n      if (code !== 0) {\n        const message = stderr.trim() || stdout.trim() || `Command exited with code ${code}`;\n        reject(new Error(message));\n        return;\n      }\n      const trimmedStdout = stdout.trim();\n      if (trimmedStdout) {\n        resolve(trimmedStdout);\n        return;\n      }\n      const trimmedStderr = stderr.trim();\n      if (trimmedStderr) {\n        resolve(trimmedStderr);\n        return;\n      }\n      resolve(stdout);\n    };\n\n    child.once('close', handleClose);\n  });\n}\n\nfunction buildPlanPrompt({ developerMessage, userPrompt }: { developerMessage: string; userPrompt: string }): string {\n  const sections = [];\n  const cleanedDeveloper = typeof developerMessage === 'string' ? developerMessage.trim() : '';\n  if (cleanedDeveloper) {\n    sections.push(cleanedDeveloper);\n  }\n  const cleanedPrompt = typeof userPrompt === 'string' ? userPrompt.trim() : '';\n  if (cleanedPrompt) {\n    sections.push(`User Request:\\n${cleanedPrompt}`);\n  }\n  sections.push('Respond with the Codex-ready prompt only.');\n  return sections.join('\\n\\n');\n}\n\nexport function createPlanService({\n  defaultLlm,\n  execPlanCommand: customExecutor,\n}: { defaultLlm?: string; execPlanCommand?: (cmd: string, opts: unknown) => Promise<string> } = {}) {\n  const chosenLlm = normaliseLlm(defaultLlm);\n  let developerMessagePromise: Promise<string> | null = null;\n  const runPlanCommand =\n    typeof customExecutor === 'function' ? customExecutor : executePlanCommand;\n  const activeControllers = new Set();\n  const runningCommands = new Set();\n  const activeProcesses = new Set();\n\n  async function getDeveloperMessage() {\n    if (!developerMessagePromise) {\n      developerMessagePromise = loadDeveloperMessage(\n        'create-plan',\n        DEFAULT_PLAN_DEVELOPER_MESSAGE,\n      );\n    }\n    return developerMessagePromise;\n  }\n\n  async function generatePlan({\n    prompt,\n    llm,\n    cwd,\n    rawPrompt = false,\n    dangerousMode = false,\n  }: {\n    prompt?: string;\n    llm?: string;\n    cwd?: string;\n    rawPrompt?: boolean;\n    dangerousMode?: boolean;\n  } = {}) {\n    if (typeof prompt !== 'string' || !prompt.trim()) {\n      throw new Error('prompt is required');\n    }\n\n    const shouldUseDangerousMode = Boolean(dangerousMode || rawPrompt);\n\n    let promptText;\n    if (rawPrompt) {\n      promptText = prompt;\n    } else {\n      const developerMessage = await getDeveloperMessage();\n      promptText = buildPlanPrompt({ developerMessage, userPrompt: prompt });\n    }\n    const requestedLlm = normaliseLlm(llm || chosenLlm);\n\n    const controller = new AbortController();\n    activeControllers.add(controller);\n    let commandPromise: Promise<string> | undefined;\n    try {\n      const command = buildCommandForLlm(requestedLlm, promptText, {\n        dangerousMode: shouldUseDangerousMode,\n        rawPrompt,\n      });\n      try {\n        commandPromise = Promise.resolve(\n          runPlanCommand(command, {\n            cwd,\n            signal: controller.signal,\n            onProcessStart: (childProcess: unknown) => {\n              if (!childProcess) {\n                return;\n              }\n              activeProcesses.add(childProcess);\n              const proc = childProcess as { once: (event: string, handler: () => void) => void };\n              proc.once('close', () => {\n                activeProcesses.delete(childProcess);\n              });\n            },\n          }),\n        );\n      } catch (error: unknown) {\n        const err = error as { name?: string; code?: string };\n        if (controller.signal.aborted || err?.name === 'AbortError' || err?.code === 'ABORT_ERR') {\n          throw new Error('Plan generation was cancelled.');\n        }\n        throw error;\n      }\n      runningCommands.add(commandPromise);\n      let output;\n      try {\n        output = await commandPromise;\n      } finally {\n        runningCommands.delete(commandPromise);\n      }\n      const plan =\n        typeof output === 'string'\n          ? output\n          : output == null\n            ? ''\n            : String(output);\n      if (!plan.trim()) {\n        throw new Error('Generated plan was empty.');\n      }\n      return plan;\n    } catch (error: unknown) {\n      const err = error as { name?: string; code?: string };\n      if (controller.signal.aborted || err?.name === 'AbortError' || err?.code === 'ABORT_ERR') {\n        throw new Error('Plan generation was cancelled.');\n      }\n      const message = error instanceof Error ? error.message : String(error);\n      throw new Error(`Failed to generate plan using ${requestedLlm}: ${message}`);\n    } finally {\n      activeControllers.delete(controller);\n    }\n  }\n\n  async function disposeAll() {\n    if (activeControllers.size === 0 && runningCommands.size === 0 && activeProcesses.size === 0) {\n      return;\n    }\n    const controllers = Array.from(activeControllers) as AbortController[];\n    controllers.forEach((controller: AbortController) => {\n      try {\n        controller.abort();\n      } catch {\n        // ignore abort errors during disposal\n      }\n    });\n    activeControllers.clear();\n    const processes = Array.from(activeProcesses) as Array<{\n      killed?: boolean;\n      exitCode?: number | null;\n      signalCode?: string | null;\n      kill?: (signal: string) => void;\n      once?: (event: string, handler: () => void) => void;\n    }>;\n    activeProcesses.clear();\n    processes.forEach((child) => {\n      try {\n        if (!child.killed && child.kill) {\n          child.kill('SIGTERM');\n        }\n      } catch {\n        // ignore kill errors during disposal\n      }\n    });\n    if (processes.length > 0) {\n      await Promise.allSettled(\n        processes.map(\n          (child) =>\n            new Promise<void>((resolve) => {\n              if (child.exitCode !== null || child.signalCode) {\n                resolve();\n                return;\n              }\n              const handleResolve = () => resolve();\n              if (child.once) {\n                child.once('close', handleResolve);\n                child.once('exit', handleResolve);\n              } else {\n                resolve();\n              }\n            }),\n        ),\n      );\n    }\n    const pending = Array.from(runningCommands);\n    runningCommands.clear();\n    if (pending.length > 0) {\n      await Promise.allSettled(pending);\n    }\n  }\n\n  return {\n    isConfigured: true,\n    async createPlanText(options: Parameters<typeof generatePlan>[0]) {\n      return generatePlan(options);\n    },\n    async createPlanStream(options: Parameters<typeof generatePlan>[0]) {\n      const plan = await generatePlan(options);\n      const chunkSize = 2048;\n      async function* iterator() {\n        for (let offset = 0; offset < plan.length; offset += chunkSize) {\n          yield plan.slice(offset, offset + chunkSize);\n        }\n      }\n      return iterator();\n    },\n    async dispose() {\n      await disposeAll();\n    },\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/tasks.ts":{"lineLengths":[14168,0,43150],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/tasks.ts"],"sourcesContent":["import { randomUUID } from 'node:crypto';\n\nimport { emitTasksUpdate } from './event-bus.js';\n\nconst tasks = new Map();\nconst COMPLETED_TASK_TTL_MS = 15 * 60 * 1000;\n\nconst TASK_FINAL_STATUSES = new Set(['succeeded', 'failed']);\nconst STEP_FINAL_STATUSES = new Set(['succeeded', 'skipped', 'failed']);\n\nlet persistenceConfig: {\n  saveSnapshot?: (snapshot: unknown) => Promise<void>;\n  loadSnapshot?: () => Promise<unknown>;\n  logger?: Console;\n  debounceMs?: number;\n  restartTaskMessage?: string;\n  restartStepMessage?: string;\n  restartReason?: string;\n  defaultFailureMessage?: string;\n} | null = null;\nlet persistTimer: NodeJS.Timeout | null = null;\nlet pendingPersist = false;\nlet persistQueue = Promise.resolve();\n\nfunction getNowIso(now = () => new Date()) {\n  const value = now();\n  const date = value instanceof Date ? value : new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return new Date().toISOString();\n  }\n  return date.toISOString();\n}\n\nfunction getTasksSnapshot() {\n  return Array.from(tasks.values(), (task) => cloneTask(task));\n}\n\nfunction logPersistenceError(error: unknown): void {\n  const logger = persistenceConfig?.logger;\n  if (logger && typeof logger.error === 'function') {\n    logger.error('[agentrix] Failed to persist tasks:', error);\n  }\n}\n\nfunction logPersistenceWarning(message: string, error?: unknown): void {\n  const logger = persistenceConfig?.logger;\n  if (logger && typeof logger.warn === 'function') {\n    if (error) {\n      logger.warn(message, error);\n    } else {\n      logger.warn(message);\n    }\n  }\n}\n\nfunction schedulePersistence(immediate = false) {\n  if (!persistenceConfig?.saveSnapshot) {\n    return Promise.resolve();\n  }\n\n  if (immediate) {\n    pendingPersist = false;\n    if (persistTimer) {\n      clearTimeout(persistTimer);\n      persistTimer = null;\n    }\n    persistQueue = persistQueue\n      .then(async () => {\n        if (persistenceConfig?.saveSnapshot) {\n          await persistenceConfig.saveSnapshot(getTasksSnapshot());\n        }\n      })\n      .catch((error: unknown) => {\n        logPersistenceError(error);\n      });\n    return persistQueue;\n  }\n\n  pendingPersist = true;\n  if (persistTimer) {\n    return persistQueue;\n  }\n\n  const delay = Math.max(0, persistenceConfig.debounceMs ?? 200);\n  persistTimer = setTimeout(() => {\n    persistTimer = null;\n    if (!pendingPersist) {\n      return;\n    }\n    pendingPersist = false;\n    persistQueue = persistQueue\n      .then(async () => {\n        if (persistenceConfig?.saveSnapshot) {\n          await persistenceConfig.saveSnapshot(getTasksSnapshot());\n        }\n      })\n      .catch((error: unknown) => {\n        logPersistenceError(error);\n      });\n  }, delay);\n  if (typeof persistTimer.unref === 'function') {\n    persistTimer.unref();\n  }\n\n  return persistQueue;\n}\n\nfunction cloneTask(task: unknown): unknown {\n  return JSON.parse(JSON.stringify(task));\n}\n\nfunction notify(task: unknown): void {\n  emitTasksUpdate({ task: cloneTask(task) });\n}\n\nfunction appendLog(step: { logs?: Array<{ id: string; message: string; timestamp: string }> }, message: string): void {\n  if (!step || typeof message !== 'string') {\n    return;\n  }\n  const trimmed = message.trim();\n  if (!trimmed) {\n    return;\n  }\n  if (!Array.isArray(step.logs)) {\n    step.logs = [];\n  }\n  step.logs.push({\n    id: randomUUID(),\n    message: trimmed,\n    timestamp: new Date().toISOString(),\n  });\n}\n\nfunction ensureStep(task: { steps?: unknown[] }, id: string, label?: string): unknown {\n  if (!task.steps) {\n    task.steps = [];\n  }\n  const taskSteps = task.steps as Array<{ id: string; label?: string; status?: string; logs?: unknown[] }>;\n  let step = taskSteps.find((entry) => entry && entry.id === id);\n  if (!step) {\n    step = {\n      id,\n      label: label || id,\n      status: 'pending',\n      logs: [],\n    };\n    taskSteps.push(step);\n    return step;\n  }\n  if (typeof label === 'string' && label && label !== step.label) {\n    step.label = label;\n  }\n  return step;\n}\n\nfunction mutateTask(task: unknown, mutator: (task: unknown) => void): void {\n  if (!task || typeof mutator !== 'function') {\n    return;\n  }\n  const taskRecord = task as { updatedAt?: string; status?: string; completedAt?: string };\n  mutator(task);\n  const now = new Date().toISOString();\n  taskRecord.updatedAt = now;\n  const isFinal = TASK_FINAL_STATUSES.has(taskRecord.status || '');\n  if (isFinal && !taskRecord.completedAt) {\n    taskRecord.completedAt = now;\n  }\n  if (!isFinal && taskRecord.completedAt) {\n    delete taskRecord.completedAt;\n  }\n  notify(task);\n  schedulePersistence();\n  pruneExpiredTasks();\n}\n\nfunction createProgressController(task: unknown): unknown {\n  return {\n    ensureStep(id: string, label?: string): void {\n      mutateTask(task, (draft) => {\n        ensureStep(draft as { steps?: unknown[] }, id, label);\n      });\n    },\n    startStep(id: string, { label, message }: { label?: string; message?: string } = {}): void {\n      mutateTask(task, (draft) => {\n        const step = ensureStep(draft as { steps?: unknown[] }, id, label) as { startedAt?: string; status?: string };\n        if (!step.startedAt) {\n          step.startedAt = new Date().toISOString();\n        }\n        step.status = 'running';\n        if (message) {\n          appendLog(step as never, message);\n        }\n      });\n    },\n    logStep(id: string, message: string): void {\n      mutateTask(task, (draft) => {\n        const step = ensureStep(draft as { steps?: unknown[] }, id);\n        appendLog(step as never, message);\n      });\n    },\n    completeStep(id: string, { label, message }: { label?: string; message?: string } = {}): void {\n      mutateTask(task, (draft) => {\n        const step = ensureStep(draft as { steps?: unknown[] }, id, label) as { status?: string; completedAt?: string };\n        step.status = 'succeeded';\n        step.completedAt = new Date().toISOString();\n        if (message) {\n          appendLog(step as never, message);\n        }\n      });\n    },\n    skipStep(id: string, { label, message }: { label?: string; message?: string } = {}): void {\n      mutateTask(task, (draft) => {\n        const step = ensureStep(draft as { steps?: unknown[] }, id, label) as { status?: string; completedAt?: string };\n        step.status = 'skipped';\n        step.completedAt = new Date().toISOString();\n        if (message) {\n          appendLog(step as never, message);\n        }\n      });\n    },\n    failStep(id: string, { label, message }: { label?: string; message?: string } = {}): void {\n      mutateTask(task, (draft) => {\n        const step = ensureStep(draft as { steps?: unknown[] }, id, label) as { status?: string; completedAt?: string };\n        step.status = 'failed';\n        step.completedAt = new Date().toISOString();\n        if (message) {\n          appendLog(step as never, message);\n        }\n      });\n    },\n  };\n}\n\nfunction pruneExpiredTasks() {\n  const now = Date.now();\n  let removedAny = false;\n  for (const [taskId, task] of tasks) {\n    if (!task) {\n      tasks.delete(taskId);\n      removedAny = true;\n      continue;\n    }\n    if (!task.completedAt) {\n      continue;\n    }\n    const completedAt = new Date(task.completedAt).getTime();\n    if (Number.isNaN(completedAt)) {\n      continue;\n    }\n    if (now - completedAt < COMPLETED_TASK_TTL_MS) {\n      continue;\n    }\n    if (tasks.delete(taskId)) {\n      removedAny = true;\n      emitTasksUpdate({ task: { id: taskId, removed: true } });\n    }\n  }\n  if (removedAny) {\n    schedulePersistence();\n  }\n}\n\nexport function runTask(config: { type: string; title?: string; metadata?: unknown }, handler: (context: unknown) => Promise<unknown>): { id: string; task: unknown } {\n  if (!config || typeof config !== 'object') {\n    throw new Error('Task configuration is required');\n  }\n  const { type, title, metadata = {} } = config;\n  if (!type) {\n    throw new Error('Task type is required');\n  }\n\n  const id = randomUUID();\n  const now = new Date().toISOString();\n  const task = {\n    id,\n    type,\n    title: typeof title === 'string' && title ? title : type,\n    status: 'pending',\n    createdAt: now,\n    updatedAt: now,\n    metadata: typeof metadata === 'object' && metadata !== null ? { ...metadata as Record<string, unknown> } : {},\n    steps: [],\n    result: null,\n    error: null,\n  };\n\n  tasks.set(id, task);\n  notify(task);\n  schedulePersistence();\n  pruneExpiredTasks();\n\n  const progress = createProgressController(task);\n\n  const context = {\n    progress,\n    updateMetadata(updates: Record<string, unknown> = {}) {\n      if (!updates || typeof updates !== 'object') {\n        return;\n      }\n      mutateTask(task, (draft) => {\n        const draftRecord = draft as { metadata?: Record<string, unknown> };\n        draftRecord.metadata = { ...draftRecord.metadata, ...updates };\n      });\n    },\n    setResult(result: unknown) {\n      mutateTask(task, (draft) => {\n        const draftRecord = draft as { result?: unknown };\n        draftRecord.result = result;\n      });\n    },\n    getTaskSnapshot() {\n      return cloneTask(task);\n    },\n  };\n\n  setImmediate(async () => {\n    mutateTask(task, (draft) => {\n      const draftRecord = draft as { status?: string };\n      draftRecord.status = 'running';\n    });\n\n    try {\n      const result = await handler(context);\n      if (typeof result !== 'undefined') {\n        mutateTask(task, (draft) => {\n          const draftRecord = draft as { result?: unknown };\n          draftRecord.result = result;\n        });\n      }\n      mutateTask(task, (draft) => {\n        const draftRecord = draft as { status?: string };\n        draftRecord.status = 'succeeded';\n      });\n    } catch (error: unknown) {\n      const message = error instanceof Error ? error.message : String(error);\n      mutateTask(task, (draft) => {\n        const draftRecord = draft as { status?: string; error?: { message: string } };\n        draftRecord.status = 'failed';\n        draftRecord.error = { message };\n      });\n    }\n  });\n\n  return { id, task: cloneTask(task) };\n}\n\nexport function listTasks() {\n  pruneExpiredTasks();\n  return Array.from(tasks.values(), (task) => cloneTask(task));\n}\n\nfunction normaliseTimestamp(value: unknown, fallbackIso: string): { iso: string; changed: boolean } {\n  const input = typeof value === 'string' ? value.trim() : '';\n  if (!input) {\n    return { iso: fallbackIso, changed: true };\n  }\n  const parsed = new Date(input);\n  if (Number.isNaN(parsed.getTime())) {\n    return { iso: fallbackIso, changed: true };\n  }\n  const iso = parsed.toISOString();\n  return { iso, changed: iso !== input };\n}\n\nfunction normaliseLogEntry(entry: unknown, fallbackIso: string): { id: string; message: string; timestamp: string } | null {\n  if (!entry || typeof entry !== 'object') {\n    return null;\n  }\n  const entryRecord = entry as { message?: string; timestamp?: string; id?: string };\n  const message = typeof entryRecord.message === 'string' ? entryRecord.message.trim() : '';\n  if (!message) {\n    return null;\n  }\n  const timestampCandidate = typeof entryRecord.timestamp === 'string' ? entryRecord.timestamp : null;\n  const { iso: timestamp } = normaliseTimestamp(timestampCandidate, fallbackIso);\n  const id = typeof entryRecord.id === 'string' && entryRecord.id ? entryRecord.id : randomUUID();\n  return { id, message, timestamp };\n}\n\nfunction normaliseStepSnapshot(stepInput: unknown, { nowIso }: { nowIso: string }): { step: unknown; changed: boolean } | null {\n  const source = stepInput && typeof stepInput === 'object' ? stepInput : {};\n  const copy = JSON.parse(JSON.stringify(source)) as Record<string, unknown>;\n  const result: Record<string, unknown> = {\n    id: typeof copy['id'] === 'string' && copy['id'] ? copy['id'] : randomUUID(),\n    label: typeof copy['label'] === 'string' && copy['label'] ? copy['label'] : undefined,\n    status: typeof copy['status'] === 'string' ? copy['status'] : 'pending',\n    logs: Array.isArray(copy['logs']) ? copy['logs'] : [],\n  };\n\n  let changed = false;\n\n  if (!result['label']) {\n    result['label'] = result['id'];\n    changed = true;\n  }\n\n  const allowedStatuses = ['pending', 'running', 'succeeded', 'failed', 'skipped'];\n  if (!allowedStatuses.includes(result['status'] as string)) {\n    result['status'] = 'pending';\n    changed = true;\n  }\n\n  const logs: Array<{ id: string; message: string; timestamp: string }> = [];\n  for (const logEntry of result['logs'] as unknown[]) {\n    const log = normaliseLogEntry(logEntry, nowIso);\n    if (!log) {\n      changed = true;\n      continue;\n    }\n    logs.push(log);\n    const entryRecord = logEntry as { id?: string; message?: string; timestamp?: string };\n    if (\n      !logEntry ||\n      entryRecord.id !== log.id ||\n      entryRecord.message !== log.message ||\n      entryRecord.timestamp !== log.timestamp\n    ) {\n      changed = true;\n    }\n  }\n  result['logs'] = logs;\n\n  if (copy['completedAt']) {\n    const { iso, changed: completedChanged } = normaliseTimestamp(copy['completedAt'], nowIso);\n    result['completedAt'] = iso;\n    if (completedChanged) {\n      changed = true;\n    }\n  }\n\n  return { step: result, changed };\n}\n\nfunction rehydratePersistedTask(rawTask: unknown, context: unknown): unknown {\n  if (!rawTask || typeof rawTask !== 'object') {\n    return null;\n  }\n  const ctx = context as { now?: () => Date; restartTaskMessage?: string; restartStepMessage?: string; restartReason?: string; defaultFailureMessage?: string };\n  const copy = JSON.parse(JSON.stringify(rawTask));\n  const id = typeof copy.id === 'string' ? copy.id.trim() : '';\n  if (!id) {\n    return null;\n  }\n\n  const nowIso = getNowIso(ctx.now);\n\n  const task = {\n    id,\n    type: typeof copy.type === 'string' && copy.type ? copy.type : 'task',\n    title: typeof copy.title === 'string' && copy.title ? copy.title : undefined,\n    status: typeof copy.status === 'string' ? copy.status : 'pending',\n    createdAt: copy.createdAt,\n    updatedAt: copy.updatedAt,\n    completedAt: copy.completedAt,\n    metadata:\n      copy.metadata && typeof copy.metadata === 'object' && !Array.isArray(copy.metadata)\n        ? { ...copy.metadata }\n        : {},\n    steps: Array.isArray(copy.steps) ? copy.steps : [],\n    result: Object.prototype.hasOwnProperty.call(copy, 'result') ? copy.result : null,\n    error:\n      copy.error && typeof copy.error === 'object' && !Array.isArray(copy.error)\n        ? { ...copy.error }\n        : null,\n  };\n\n  if (!task.title) {\n    task.title = task.type;\n  }\n\n  let changed = false;\n\n  const created = normaliseTimestamp(task.createdAt, nowIso);\n  task.createdAt = created.iso;\n  if (created.changed) {\n    changed = true;\n  }\n\n  const updated = normaliseTimestamp(task.updatedAt, task.createdAt);\n  task.updatedAt = updated.iso;\n  if (updated.changed) {\n    changed = true;\n  }\n\n  if (task.completedAt) {\n    const completed = normaliseTimestamp(task.completedAt, task.updatedAt);\n    task.completedAt = completed.iso;\n    if (completed.changed) {\n      changed = true;\n    }\n  }\n\n  const steps: unknown[] = [];\n  const taskSteps = task['steps'] as unknown[];\n  for (const entry of taskSteps) {\n    const normalised = normaliseStepSnapshot(entry, { nowIso });\n    if (!normalised) {\n      changed = true;\n      continue;\n    }\n    steps.push(normalised['step']);\n    if (normalised['changed']) {\n      changed = true;\n    }\n  }\n  task['steps'] = steps;\n\n  const taskRecord = task as { status?: string; updatedAt?: string; completedAt?: string; error?: unknown; steps?: unknown[] };\n  if (!TASK_FINAL_STATUSES.has(taskRecord.status || '')) {\n    changed = true;\n    taskRecord.status = 'failed';\n    taskRecord.updatedAt = nowIso;\n    taskRecord.completedAt = nowIso;\n    const errorObj = taskRecord.error && typeof taskRecord.error === 'object' ? { ...(taskRecord.error as Record<string, unknown>) } : {};\n    const errorRecord = errorObj as { message?: string; reason?: string };\n    const existingMessage =\n      typeof errorRecord.message === 'string' && errorRecord.message.trim()\n        ? `${errorRecord.message.trim()} (aborted due to restart)`\n        : ctx.restartTaskMessage;\n    errorRecord.message = existingMessage || '';\n    errorRecord.reason = ctx.restartReason;\n    taskRecord.error = errorRecord;\n    task.steps = task[\"steps\"].map((step: unknown) => {\n      const stepRecord = step as { status?: string; logs?: unknown[] };\n      if (STEP_FINAL_STATUSES.has(stepRecord.status || '')) {\n        return step;\n      }\n      const logs = Array.isArray(stepRecord.logs) ? stepRecord.logs.slice() : [];\n      logs.push({\n        id: randomUUID(),\n        message: ctx.restartStepMessage || 'Step failed',\n        timestamp: nowIso,\n      });\n      return {\n        ...(step as Record<string, unknown>),\n        status: 'failed',\n        completedAt: nowIso,\n        logs,\n      };\n    });\n  } else if (taskRecord.status === 'failed') {\n    if (!taskRecord.completedAt) {\n      taskRecord.completedAt = taskRecord.updatedAt;\n      changed = true;\n    }\n    const errorRec = taskRecord.error as { message?: string };\n    if (errorRec && typeof errorRec.message !== 'string') {\n      errorRec.message = ctx.defaultFailureMessage;\n      changed = true;\n    }\n  } else if (taskRecord.status === 'succeeded' && !taskRecord.completedAt) {\n    taskRecord.completedAt = taskRecord.updatedAt;\n    changed = true;\n  }\n\n  return { task, changed };\n}\n\nexport async function configureTaskPersistence({\n  loadSnapshot,\n  saveSnapshot,\n  debounceMs = 200,\n  restartTaskMessage = 'Task failed because agentrix restarted while it was running.',\n  restartStepMessage = 'Step marked as failed after process restart.',\n  restartReason = 'process_restart',\n  defaultFailureMessage = 'Task failed.',\n  logger = console,\n}: {\n  loadSnapshot?: () => Promise<unknown>;\n  saveSnapshot?: (snapshot: unknown) => Promise<void>;\n  debounceMs?: number;\n  restartTaskMessage?: string;\n  restartStepMessage?: string;\n  restartReason?: string;\n  defaultFailureMessage?: string;\n  logger?: Console;\n} = {}) {\n  if (persistTimer) {\n    clearTimeout(persistTimer);\n    persistTimer = null;\n  }\n  pendingPersist = false;\n  persistQueue = Promise.resolve();\n\n  if (typeof saveSnapshot !== 'function') {\n    persistenceConfig = null;\n    tasks.clear();\n    return;\n  }\n\n  persistenceConfig = {\n    loadSnapshot: typeof loadSnapshot === 'function' ? loadSnapshot : undefined,\n    saveSnapshot,\n    debounceMs,\n    restartTaskMessage,\n    restartStepMessage,\n    restartReason,\n    defaultFailureMessage,\n    logger,\n  };\n\n  let loadedTasks: unknown[] = [];\n\n  if (persistenceConfig.loadSnapshot) {\n    try {\n      const loaded = await persistenceConfig.loadSnapshot();\n      loadedTasks = Array.isArray(loaded) ? loaded : [];\n    } catch (error) {\n      logPersistenceWarning(\n        '[agentrix] Failed to load persisted tasks snapshot:',\n        error instanceof Error ? error : new Error(String(error)),\n      );\n      loadedTasks = [];\n    }\n  }\n\n  tasks.clear();\n  let needsPersist = false;\n\n  if (Array.isArray(loadedTasks)) {\n    for (const entry of loadedTasks) {\n      const result = rehydratePersistedTask(entry, persistenceConfig) as { task?: { id: string }; changed?: boolean } | null;\n      if (!result || !result['task']) {\n        needsPersist = true;\n        continue;\n      }\n      const restoredTask = result['task'] as { id: string };\n      tasks.set(restoredTask.id, result['task']);\n      if (result['changed']) {\n        needsPersist = true;\n      }\n    }\n  }\n\n  if (needsPersist || tasks.size > 0) {\n    await schedulePersistence(true);\n  } else {\n    await schedulePersistence(true);\n  }\n}\n\nexport function getPersistedTasksSnapshot() {\n  return getTasksSnapshot();\n}\n\nexport async function flushTaskPersistence() {\n  await schedulePersistence(true);\n}\n\nexport function getTaskById(taskId: string) {\n  if (!taskId) {\n    return null;\n  }\n  const task = tasks.get(taskId);\n  return task ? cloneTask(task) : null;\n}\n\nexport const _internals = {\n  tasks,\n  ensureStep,\n  mutateTask,\n  createProgressController,\n  pruneExpiredTasks,\n  COMPLETED_TASK_TTL_MS,\n  schedulePersistence,\n  getTasksSnapshot,\n  normaliseTimestamp,\n  normaliseLogEntry,\n  normaliseStepSnapshot,\n  rehydratePersistedTask,\n};\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/task-store.ts":{"lineLengths":[2007,530,0,7650],"data":{"version":3,"mappings":"kHAAA,OAAS,eAAkB,cAC3B,OAAS,MAAO,SAAU,OAAQ,GAAI,cAAiB,mBACvD,OAAS,QAAS,KAAM,YAAe,YAEvC,SAAS,QAAQ,MAAuB,CACtC,GAAI,iBAAiB,MAAO,CAC1B,OAAO,KACT,CACA,OAAO,IAAI,MAAM,OAAO,KAAK,CAAC,CAChC,CALS,0BAOT,eAAe,WAAW,KAA6B,CACrD,GAAI,CACF,MAAM,GAAG,KAAM,CAAE,MAAO,IAAK,CAAC,CAChC,OAAS,MAAgB,CACvB,MAAM,IAAM,QAAQ,KAAK,EACzB,GAAI,IAAI,OAAS,SAAU,CACzB,MAAM,GACR,CACF,CACF,CATe,gCAWf,eAAe,gBAAgB,KAA6B,CAC1D,MAAM,MAAM,KAAM,CAAE,UAAW,IAAK,CAAC,CACvC,CAFe,0CAIf,eAAe,gBAAgB,CAAE,SAAU,OAAQ,EAAyD,CAC1G,MAAM,UAAY,QAAQ,QAAQ,EAClC,MAAM,gBAAgB,SAAS,EAC/B,MAAM,QAAU,KAAK,UAAW,IAAI,WAAW,CAAC,MAAM,EACtD,GAAI,CACF,MAAM,UAAU,QAAS,QAAS,MAAM,EACxC,MAAM,OAAO,QAAS,QAAQ,CAChC,OAAS,MAAgB,CACvB,MAAM,WAAW,OAAO,EAAE,MAAM,IAAM,CAAC,CAAC,EACxC,MAAM,KACR,CACF,CAXe,0CA2BR,SAAS,gBAAgB,CAC9B,KACA,SAAW,aACX,OAAS,QACT,IAAM,WAAM,IAAI,KAAV,MACR,EAA+B,CAC7B,GAAI,OAAO,OAAS,UAAY,CAAC,KAAK,KAAK,EAAG,CAC5C,MAAM,IAAI,MAAM,uCAAuC,CACzD,CAEA,MAAM,aAAe,QAAQ,IAAI,EACjC,MAAM,iBAAmB,KAAK,aAAc,WAAW,EACvD,MAAM,SAAW,KAAK,iBAAkB,QAAQ,EAChD,IAAI,WAA4B,QAAQ,QAAQ,EAEhD,eAAe,cAAmC,CAChD,GAAI,CACF,MAAM,IAAM,MAAM,SAAS,SAAU,MAAM,EAC3C,GAAI,CAAC,IAAI,KAAK,EAAG,CACf,MAAO,CAAC,CACV,CACA,MAAM,OAAS,KAAK,MAAM,GAAG,EAC7B,GAAI,QAAU,MAAM,QAAQ,OAAO,KAAK,EAAG,CACzC,OAAO,OAAO,KAChB,CACA,GAAI,MAAM,QAAQ,MAAM,EAAG,CACzB,OAAO,MACT,CACA,MAAO,CAAC,CACV,OAAS,MAAgB,CACvB,MAAM,IAAM,QAAQ,KAAK,EACzB,GAAI,IAAI,OAAS,SAAU,CACzB,MAAO,CAAC,CACV,CACA,QAAQ,OACN,sDACA,IAAI,SAAW,GACjB,EACA,MAAO,CAAC,CACV,CACF,CAzBe,oCA2Bf,eAAe,aAAa,MAA+B,CACzD,MAAM,SAAW,CACf,QAAS,EACT,YAAa,IAAI,EAAE,YAAY,EAC/B,MAAO,MAAM,QAAQ,KAAK,EAAI,MAAQ,CAAC,CACzC,EACA,MAAM,QAAU,GAAG,KAAK,UAAU,SAAU,KAAM,CAAC,CAAC;AAAA,EACpD,MAAM,KAAO,WAAW,KAAK,SAAY,CACvC,MAAM,gBAAgB,CAAE,SAAU,OAAQ,CAAC,CAC7C,CAAC,EACD,MAAM,YAAc,KAAK,MAAM,IAAM,CAAC,CAAC,EACvC,WAAa,YACb,GAAI,CACF,MAAM,IACR,OAAS,MAAgB,CACvB,QAAQ,QAAQ,+CAAgD,KAAK,EACrE,MAAM,KACR,QAAE,CACA,GAAI,aAAe,YAAa,CAC9B,WAAa,QAAQ,QAAQ,CAC/B,CACF,CACF,CAtBe,oCAwBf,MAAO,CACL,aACA,aACA,IAAI,UAAW,CACb,OAAO,QACT,EACA,IAAI,WAAY,CACd,OAAO,gBACT,CACF,CACF,CA5EgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/task-store.ts"],"sourcesContent":["import { randomUUID } from 'node:crypto';\nimport { mkdir, readFile, rename, rm, writeFile } from 'node:fs/promises';\nimport { dirname, join, resolve } from 'node:path';\n\nfunction toError(error: unknown): Error {\n  if (error instanceof Error) {\n    return error;\n  }\n  return new Error(String(error));\n}\n\nasync function removeFile(path: string): Promise<void> {\n  try {\n    await rm(path, { force: true });\n  } catch (error: unknown) {\n    const err = toError(error) as Error & { code?: string };\n    if (err.code !== 'ENOENT') {\n      throw err;\n    }\n  }\n}\n\nasync function ensureDirectory(path: string): Promise<void> {\n  await mkdir(path, { recursive: true });\n}\n\nasync function writeAtomicJSON({ filePath, payload }: { filePath: string; payload: string }): Promise<void> {\n  const directory = dirname(filePath);\n  await ensureDirectory(directory);\n  const tmpPath = join(directory, `.${randomUUID()}.tmp`);\n  try {\n    await writeFile(tmpPath, payload, 'utf8');\n    await rename(tmpPath, filePath);\n  } catch (error: unknown) {\n    await removeFile(tmpPath).catch(() => {});\n    throw error;\n  }\n}\n\nexport interface TaskStoreConfig {\n  root: string;\n  filename?: string;\n  logger?: Console;\n  now?: () => Date;\n}\n\nexport interface TaskStore {\n  loadSnapshot(): Promise<unknown[]>;\n  saveSnapshot(tasks: unknown): Promise<void>;\n  readonly filePath: string;\n  readonly directory: string;\n}\n\nexport function createTaskStore({\n  root,\n  filename = 'tasks.json',\n  logger = console,\n  now = () => new Date(),\n}: TaskStoreConfig): TaskStore {\n  if (typeof root !== 'string' || !root.trim()) {\n    throw new Error('Task store root directory is required');\n  }\n\n  const resolvedRoot = resolve(root);\n  const storageDirectory = join(resolvedRoot, '.agentrix');\n  const filePath = join(storageDirectory, filename);\n  let writeQueue: Promise<void> = Promise.resolve();\n\n  async function loadSnapshot(): Promise<unknown[]> {\n    try {\n      const raw = await readFile(filePath, 'utf8');\n      if (!raw.trim()) {\n        return [];\n      }\n      const parsed = JSON.parse(raw);\n      if (parsed && Array.isArray(parsed.tasks)) {\n        return parsed.tasks;\n      }\n      if (Array.isArray(parsed)) {\n        return parsed;\n      }\n      return [];\n    } catch (error: unknown) {\n      const err = toError(error) as Error & { code?: string };\n      if (err.code === 'ENOENT') {\n        return [];\n      }\n      logger?.warn?.(\n        '[agentrix] Failed to load persisted tasks snapshot:',\n        err.message || err\n      );\n      return [];\n    }\n  }\n\n  async function saveSnapshot(tasks: unknown): Promise<void> {\n    const snapshot = {\n      version: 1,\n      generatedAt: now().toISOString(),\n      tasks: Array.isArray(tasks) ? tasks : [],\n    };\n    const payload = `${JSON.stringify(snapshot, null, 2)}\\n`;\n    const task = writeQueue.then(async () => {\n      await writeAtomicJSON({ filePath, payload });\n    });\n    const placeholder = task.catch(() => {});\n    writeQueue = placeholder;\n    try {\n      await task;\n    } catch (error: unknown) {\n      logger?.error?.('[agentrix] Failed to persist tasks snapshot:', error);\n      throw error;\n    } finally {\n      if (writeQueue === placeholder) {\n        writeQueue = Promise.resolve();\n      }\n    }\n  }\n\n  return {\n    loadSnapshot,\n    saveSnapshot,\n    get filePath() {\n      return filePath;\n    },\n    get directory() {\n      return storageDirectory;\n    },\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/repos.ts":{"lineLengths":[1660,0,4414],"data":{"version":3,"mappings":"kHAAA,OAAS,4BAAuD,uBAChE,OAAS,sBAAyB,mBAClC,OAAS,iBAAoB,oCAC7B,OAAS,kBAAqB,oBAE9B,OACE,yBACA,yBACA,8BACK,yBAMA,SAAS,mBAAmB,QAAiB,UAAmC,CAAC,EAAG,CACzF,MAAM,kBAAoB,UAAU,mBAAqB,wBAAwB,OAAO,EAExF,MAAM,KAAO,aAAa,MAAO,SAA4B,CAC3D,GAAI,QAAQ,SAAW,OAAQ,CAC7B,kBAAkB,QAAQ,GAAG,EAC7B,MACF,CAEA,MAAM,KAAO,MAAM,kBAAkB,iBAAiB,EACtD,QAAQ,IAAI,UAAU,gBAAiB,UAAU,EACjD,QAAQ,IAAI,WAAa,IACzB,QAAQ,IAAI,UAAU,eAAgB,iCAAiC,EACvE,QAAQ,IAAI,IAAI,KAAK,UAAU,CAAE,IAAK,CAAC,CAAC,CAC1C,CAAC,EAED,MAAM,OAAS,cAAc,CAC3B,UAAW,yBACX,QAAS,aAAO,OACd,kBAAkB,cAAc,MAAM,IAAK,MAAM,WAAW,EADrD,UAEX,CAAC,EAED,MAAM,WAAa,cAAc,CAC/B,UAAW,yBACX,QAAS,aAAO,OAAyC,CACvD,MAAM,KAAO,MAAM,kBAAkB,iBAAiB,MAAM,IAAK,MAAM,IAAI,EAC3E,MAAO,CAAE,IAAK,CAChB,EAHS,UAIX,CAAC,EAED,MAAM,kBAAoB,cAAc,CACtC,UAAW,0BACX,QAAS,aAAO,OAA8D,CAC5E,MAAM,KAAO,MAAM,kBAAkB,kBAAkB,MAAM,IAAK,MAAM,KAAM,MAAM,WAAW,EAC/F,MAAO,CAAE,IAAK,CAChB,EAHS,UAIX,CAAC,EAED,MAAO,CACL,KACA,OACA,OAAQ,WAER,QAAS,WACT,iBACF,CACF,CA9CgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/repos.ts"],"sourcesContent":["import { createRepositoryService, type RepositoryService } from '../services/index.js';\nimport { handleHeadRequest } from '../utils/http.js';\nimport { asyncHandler } from '../infrastructure/errors/index.js';\nimport { createHandler } from './base-handler.js';\nimport type { RequestContext } from '../types/http.js';\nimport {\n  validateRepositoryCreate,\n  validateRepositoryDelete,\n  validateInitCommandUpdate,\n} from '../validation/index.js';\n\nexport interface RepoHandlersOverrides {\n  repositoryService?: RepositoryService;\n}\n\nexport function createRepoHandlers(workdir: string, overrides: RepoHandlersOverrides = {}) {\n  const repositoryService = overrides.repositoryService ?? createRepositoryService(workdir);\n\n  const list = asyncHandler(async (context: RequestContext) => {\n    if (context.method === 'HEAD') {\n      handleHeadRequest(context.res);\n      return;\n    }\n    \n    const data = await repositoryService.listRepositories();\n    context.res.setHeader('Cache-Control', 'no-store');\n    context.res.statusCode = 200;\n    context.res.setHeader('Content-Type', 'application/json; charset=utf-8');\n    context.res.end(JSON.stringify({ data }));\n  });\n\n  const create = createHandler({\n    validator: validateRepositoryCreate,\n    handler: async (input: { url: string; initCommand: string }) => \n      repositoryService.addRepository(input.url, input.initCommand),\n  });\n\n  const deleteRepo = createHandler({\n    validator: validateRepositoryDelete,\n    handler: async (input: { org: string; repo: string }) => {\n      const data = await repositoryService.deleteRepository(input.org, input.repo);\n      return { data };\n    },\n  });\n\n  const updateInitCommand = createHandler({\n    validator: validateInitCommandUpdate,\n    handler: async (input: { org: string; repo: string; initCommand: string }) => {\n      const data = await repositoryService.updateInitCommand(input.org, input.repo, input.initCommand);\n      return { data };\n    },\n  });\n\n  return { \n    list, \n    create, \n    delete: deleteRepo,\n    // Deprecated alias for backward compatibility\n    destroy: deleteRepo,\n    updateInitCommand \n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/auth.ts":{"lineLengths":[1559,0,4542],"data":{"version":3,"mappings":"kHAAA,OAAS,aAAgB,mBACzB,OAAS,sBAAyB,uBAClC,OAAS,iBAAoB,oCAC7B,OAAS,wBAA2B,oBASpC,MAAM,oBAAwC,CAC5C,kBACA,QACF,EAEA,IAAI,mBAAuC,CAAE,GAAG,mBAAoB,EAK7D,SAAS,uBAAuB,UAA6C,CAClF,GAAI,CAAC,UAAW,CACd,mBAAqB,CAAE,GAAG,mBAAoB,EAC9C,MACF,CACA,mBAAqB,CAAE,GAAG,mBAAoB,GAAG,SAAU,CAC7D,CANgB,wDAQT,SAAS,mBACd,YACA,CAAE,aAAc,EAAuC,CAAC,EACxD,CACA,MAAM,YAAc,mBAAmB,kBAAkB,YAAa,aAAa,EAGnF,MAAM,MAAQ,aAAa,MAAO,SAA4B,CAC5D,MAAM,QAAU,MAAM,QAAQ,aAAa,EAC3C,MAAM,SAAW,OAAO,QAAQ,UAAU,IAAM,SAAW,QAAQ,UAAU,EAAE,KAAK,EAAI,GAExF,GAAI,CACF,MAAM,OAAS,MAAM,YAAY,MAAM,QAAQ,IAAK,QAAQ,IAAK,QAAQ,EACzE,mBAAmB,SAAS,QAAQ,IAAK,IAAK,MAAM,CACtD,OAAS,MAAgB,CAEvB,MAAM,IAAM,MACZ,MAAM,WAAa,IAAI,aAAe,IAAI,UAAY,mBAAqB,IAAM,KACjF,mBAAmB,SAAS,QAAQ,IAAK,WAAY,CAAE,MAAO,IAAI,OAAQ,CAAC,CAC7E,CACF,CAAC,EAED,MAAM,OAAS,oBAAoB,MAAO,SAA4B,YAAY,OAAO,QAAQ,IAAK,QAAQ,GAAG,CAAC,EAElH,MAAM,OAAS,oBACb,MAAO,SAA4B,YAAY,UAAU,QAAQ,GAAG,CACtE,EAEA,MAAO,CACL,MACA,OACA,MACF,CACF,CAjCgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/auth.ts"],"sourcesContent":["import { sendJson } from '../utils/http.js';\nimport { createAuthService } from '../services/index.js';\nimport { asyncHandler } from '../infrastructure/errors/index.js';\nimport { createSimpleHandler } from './base-handler.js';\nimport type { RequestContext } from '../types/http.js';\nimport type { AuthManager, CookieManager } from '../types/auth.js';\n\ninterface AuthDependencies {\n  createAuthService: typeof createAuthService;\n  sendJson: typeof sendJson;\n}\n\nconst defaultDependencies: AuthDependencies = {\n  createAuthService,\n  sendJson,\n};\n\nlet activeDependencies: AuthDependencies = { ...defaultDependencies };\n\n/**\n * @internal Test hook to override auth handler dependencies\n */\nexport function __setAuthTestOverrides(overrides?: Partial<AuthDependencies>): void {\n  if (!overrides) {\n    activeDependencies = { ...defaultDependencies };\n    return;\n  }\n  activeDependencies = { ...activeDependencies, ...overrides } as AuthDependencies;\n}\n\nexport function createAuthHandlers(\n  authManager: AuthManager,\n  { cookieManager }: { cookieManager?: CookieManager } = {}\n) {\n  const authService = activeDependencies.createAuthService(authManager, cookieManager);\n\n  // Login requires special error handling for status codes\n  const login = asyncHandler(async (context: RequestContext) => {\n    const payload = await context.readJsonBody();\n    const password = typeof payload['password'] === 'string' ? payload['password'].trim() : '';\n\n    try {\n      const result = await authService.login(context.req, context.res, password);\n      activeDependencies.sendJson(context.res, 200, result);\n    } catch (error: unknown) {\n      // Auth errors need special handling for status codes\n      const err = error as { statusCode?: number; message: string };\n      const statusCode = err.statusCode || (err.message === 'Invalid password' ? 401 : 400);\n      activeDependencies.sendJson(context.res, statusCode, { error: err.message });\n    }\n  });\n\n  const logout = createSimpleHandler(async (context: RequestContext) => authService.logout(context.req, context.res));\n\n  const status = createSimpleHandler(\n    async (context: RequestContext) => authService.getStatus(context.req)\n  );\n\n  return {\n    login,\n    logout,\n    status,\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/git.ts":{"lineLengths":[826,0,2286],"data":{"version":3,"mappings":"AAMA,OACE,mBACA,oBACA,6BACK,qBAIP,OACE,iBACA,cACA,oBACA,eACA,gBACA,mBACK,yCASP,OACE,iBACA,gBACA,yBACK,2CASP,OACE,kBACA,wBACK,2CAGP,OAAgC,uBAAvBA,yBAAkD","names":["normalizeBranchName"],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/git.ts"],"sourcesContent":["/**\n * @deprecated This file now re-exports from the repositories layer for backward compatibility.\n * New code should import directly from src/repositories/ or src/domain/\n */\n\n// Re-export from domain layer\nexport {\n  parseRepositoryUrl,\n  normalizeBranchName,\n  deriveWorktreeFolderName,\n} from '../domain/index.js';\nexport type { GitUrlParts } from '../domain/index.js';\n\n// Re-export from worktree repository\nexport {\n  GitWorktreeError,\n  listWorktrees,\n  countLocalWorktrees,\n  createWorktree,\n  getWorktreePath,\n  removeWorktree,\n} from '../repositories/worktree-repository.js';\nexport type {\n  WorktreeEntry,\n  CreateWorktreeOptions,\n  WorktreePathResult,\n  InitCommandResult,\n} from '../repositories/worktree-repository.js';\n\n// Re-export from repository repository\nexport {\n  ensureRepository,\n  cloneRepository,\n  discoverRepositories,\n} from '../repositories/repository-repository.js';\nexport type {\n  RepositoryPaths,\n  CloneResult,\n  CloneOptions,\n  RepositoriesMap,\n} from '../repositories/repository-repository.js';\n\n// Re-export from git status repository\nexport {\n  getWorktreeStatus,\n  getWorktreeFileDiff,\n} from '../repositories/git-status-repository.js';\n\n// Legacy alias for backward compatibility\nexport { normalizeBranchName as normaliseBranchName } from '../domain/index.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/tmux.ts":{"lineLengths":[4334,0,11862],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/tmux.ts"],"sourcesContent":["import { promisify } from 'node:util';\nimport { execFile } from 'node:child_process';\n\nimport { TMUX_BIN, TMUX_SESSION_PREFIX } from '../config/constants.js';\n\nconst execFileAsync = promisify(execFile);\n\nlet tmuxAvailable = false;\nlet tmuxVersion: string | null = null;\nlet tmuxDetection: Promise<{ available: boolean; version: string | null }> | undefined;\n\nexport interface TmuxDetectionResult {\n  available: boolean;\n  version: string | null;\n}\n\nexport interface TmuxSessionInfo {\n  org: string;\n  repo: string;\n  branch: string;\n}\n\nexport interface TmuxRunOptions {\n  cwd?: string;\n  env?: NodeJS.ProcessEnv;\n  maxBuffer?: number;\n}\n\nexport async function detectTmux(): Promise<TmuxDetectionResult> {\n  if (!tmuxDetection) {\n    tmuxDetection = (async () => {\n      try {\n        const { stdout } = await execFileAsync(TMUX_BIN, ['-V'], { maxBuffer: 1024 * 1024 });\n        tmuxAvailable = true;\n        tmuxVersion = stdout ? stdout.trim() : null;\n      } catch {\n        tmuxAvailable = false;\n        tmuxVersion = null;\n      }\n      return { available: tmuxAvailable, version: tmuxVersion };\n    })();\n  }\n  return tmuxDetection;\n}\n\nexport function isTmuxAvailable(): boolean {\n  return tmuxAvailable;\n}\n\nexport async function runTmux(args: string[], options: TmuxRunOptions = {}): Promise<{ stdout: string; stderr: string }> {\n  return execFileAsync(TMUX_BIN, args, { maxBuffer: 1024 * 1024, ...options });\n}\n\nexport function sanitiseTmuxComponent(value: unknown, fallback: string): string {\n  if (typeof value !== 'string') {\n    return fallback;\n  }\n  const trimmed = value.trim();\n  if (!trimmed) {\n    return fallback;\n  }\n  const cleaned = trimmed\n    .replace(/\\s+/g, '-')\n    .replace(/[^A-Za-z0-9._-]/g, '-')\n    .replace(/-+/g, '-')\n    .replace(/^-|-$/g, '');\n  return cleaned || fallback;\n}\n\nexport function makeTmuxSessionName(org: string, repo: string, branch: string): string {\n  const orgPart = sanitiseTmuxComponent(org, 'org');\n  const repoPart = sanitiseTmuxComponent(repo, 'repo');\n  const branchPart = sanitiseTmuxComponent(branch, 'branch');\n  return `${TMUX_SESSION_PREFIX}${orgPart}--${repoPart}--${branchPart}`;\n}\n\nexport function parseTmuxSessionName(sessionName: string): TmuxSessionInfo | null {\n  if (typeof sessionName !== 'string' || !sessionName.startsWith(TMUX_SESSION_PREFIX)) {\n    return null;\n  }\n  const remainder = sessionName.slice(TMUX_SESSION_PREFIX.length);\n  const parts = remainder.split('--');\n  if (parts.length !== 3) {\n    return null;\n  }\n  const [org, repo, branch] = parts;\n  if (!org || !repo || !branch) {\n    return null;\n  }\n  return { org, repo, branch };\n}\n\nexport function makeSanitisedSessionKey(org: string, repo: string, branch: string): string {\n  const orgPart = sanitiseTmuxComponent(org, 'org');\n  const repoPart = sanitiseTmuxComponent(repo, 'repo');\n  const branchPart = sanitiseTmuxComponent(branch, 'branch');\n  return `${orgPart}--${repoPart}--${branchPart}`;\n}\n\nexport function buildSanitisedWorktreeLookup(structure: unknown): Map<string, TmuxSessionInfo> {\n  const map = new Map<string, TmuxSessionInfo>();\n  const struct = structure as Record<string, Record<string, { branches?: string[] } | unknown>>;\n  Object.entries(struct || {}).forEach(([org, repos]) => {\n    const repoEntries = repos && typeof repos === 'object' ? repos : {};\n    Object.entries(repoEntries).forEach(([repo, info]) => {\n      const infoObj = info as { branches?: string[] };\n      const branchList = Array.isArray(infoObj?.branches)\n        ? infoObj.branches\n        : Array.isArray(info)\n          ? (info as string[])\n          : [];\n      branchList.forEach((branch) => {\n        if (!branch) {\n          return;\n        }\n        const key = makeSanitisedSessionKey(org, repo, branch);\n        if (!map.has(key)) {\n          map.set(key, { org, repo, branch });\n        }\n      });\n    });\n  });\n  return map;\n}\n\nfunction tmuxTarget(sessionName: string): string {\n  return `=${sessionName}`;\n}\n\nexport async function tmuxHasSession(sessionName: string): Promise<boolean> {\n  try {\n    await runTmux(['has-session', '-t', tmuxTarget(sessionName)]);\n    return true;\n  } catch (error: unknown) {\n    const err = error as { code?: number };\n    if (typeof err.code === 'number') {\n      return false;\n    }\n    throw error;\n  }\n}\n\nexport async function tmuxKillSession(sessionName: string): Promise<void> {\n  try {\n    await runTmux(['kill-session', '-t', tmuxTarget(sessionName)]);\n  } catch (error: unknown) {\n    const err = error as { code?: number };\n    if (typeof err.code === 'number') {\n      return;\n    }\n    throw error;\n  }\n}\n\nexport async function tmuxKillSessionsForRepository(\n  org: string,\n  repo: string,\n  branches: string[]\n): Promise<void> {\n  if (!org || !repo || !Array.isArray(branches) || branches.length === 0) {\n    return;\n  }\n  await detectTmux();\n  if (!isTmuxAvailable()) {\n    return;\n  }\n  const tasks = branches\n    .filter((branch) => typeof branch === 'string' && branch.length > 0)\n    .map(async (branch) => {\n      const tmuxSessionName = makeTmuxSessionName(org, repo, branch);\n      try {\n        await tmuxKillSession(tmuxSessionName);\n      } catch (error: unknown) {\n        const err = error as { message?: string };\n        console.warn(\n          `[agentrix] Failed to kill tmux session ${tmuxSessionName}:`,\n          err?.message || error\n        );\n      }\n    });\n  if (tasks.length === 0) {\n    return;\n  }\n  await Promise.allSettled(tasks);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/event-bus.ts":{"lineLengths":[2183,0,6770],"data":{"version":3,"mappings":"kHAEA,MAAM,UAAY,IAAI,IAQf,SAAS,GAAG,MAAe,SAAqC,CACrE,IAAI,UAAY,UAAU,IAAI,KAAK,EACnC,GAAI,CAAC,UAAW,CACd,UAAY,IAAI,IAChB,UAAU,IAAI,MAAO,SAAS,CAChC,CACA,UAAU,IAAI,QAAQ,EAEtB,MAAO,IAAM,CACX,MAAM,IAAM,UAAU,IAAI,KAAK,EAC/B,GAAI,IAAK,CACP,IAAI,OAAO,QAAQ,EACnB,GAAI,IAAI,OAAS,EAAG,CAClB,UAAU,OAAO,KAAK,CACxB,CACF,CACF,CACF,CAjBgB,gBAwBT,SAAS,KAAK,MAAe,KAAqB,CACvD,MAAM,UAAY,UAAU,IAAI,KAAK,EACrC,GAAI,CAAC,UAAW,CACd,MACF,CACA,UAAU,QAAS,UAAa,CAC9B,GAAI,CACF,SAAS,IAAI,CACf,OAAS,MAAgB,CACvB,QAAQ,MAAM,sCAAsC,KAAK,IAAK,KAAK,CACrE,CACF,CAAC,CACH,CAZgB,oBAiBT,MAAM,WAAa,CACxB,aAAc,eACd,gBAAiB,kBACjB,aAAc,cAChB,EAOA,SAAS,gBAAgB,UAAmB,CAC1C,MAAO,CACL,KAAM,OAAC,MAAwB,KAAK,UAAW,IAAI,EAA7C,QACN,UAAW,OAAC,UAA0C,GAAG,UAAW,QAAQ,EAAjE,YACb,CACF,CALS,0CAOT,MAAM,iBAAmB,gBAAgB,WAAW,YAAY,EAChE,MAAM,oBAAsB,gBAAgB,WAAW,eAAe,EACtE,MAAM,iBAAmB,gBAAgB,WAAW,YAAY,EAMzD,SAAS,gBAAgB,KAAqB,CACnD,iBAAiB,KAAK,IAAI,CAC5B,CAFgB,0CAST,SAAS,cAAc,SAAqC,CACjE,OAAO,iBAAiB,UAAU,QAAQ,CAC5C,CAFgB,sCAQT,SAAS,mBAAmB,KAAqB,CACtD,oBAAoB,KAAK,IAAI,CAC/B,CAFgB,gDAST,SAAS,iBAAiB,SAAqC,CACpE,OAAO,oBAAoB,UAAU,QAAQ,CAC/C,CAFgB,4CAQT,SAAS,gBAAgB,KAAqB,CACnD,iBAAiB,KAAK,IAAI,CAC5B,CAFgB,0CAST,SAAS,cAAc,SAAqC,CACjE,OAAO,iBAAiB,UAAU,QAAQ,CAC5C,CAFgB,sCAQT,SAAS,eAAgB,CAC9B,OAAO,UACT,CAFgB,sCAUT,SAAS,kBAAkB,MAAe,SAAqC,CACpF,OAAO,GAAG,MAAO,QAAQ,CAC3B,CAFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/event-bus.ts"],"sourcesContent":["type EventCallback = (data: unknown) => void;\n\nconst listeners = new Map<string, Set<EventCallback>>();\n\n/**\n * Subscribes to an event\n * @param event - Event name\n * @param callback - Callback function\n * @returns Unsubscribe function\n */\nexport function on(event: string, callback: EventCallback): () => void {\n  let callbacks = listeners.get(event);\n  if (!callbacks) {\n    callbacks = new Set();\n    listeners.set(event, callbacks);\n  }\n  callbacks.add(callback);\n\n  return () => {\n    const cbs = listeners.get(event);\n    if (cbs) {\n      cbs.delete(callback);\n      if (cbs.size === 0) {\n        listeners.delete(event);\n      }\n    }\n  };\n}\n\n/**\n * Emits an event to all subscribers\n * @param event - Event name\n * @param data - Event data\n */\nexport function emit(event: string, data: unknown): void {\n  const callbacks = listeners.get(event);\n  if (!callbacks) {\n    return;\n  }\n  callbacks.forEach((callback) => {\n    try {\n      callback(data);\n    } catch (error: unknown) {\n      console.error(`[agentrix] Event handler error for ${event}:`, error);\n    }\n  });\n}\n\n/**\n * Event type registry for type-safe event handling\n */\nexport const EventTypes = {\n  REPOS_UPDATE: 'repos:update',\n  SESSIONS_UPDATE: 'sessions:update',\n  TASKS_UPDATE: 'tasks:update',\n} as const;\n\n/**\n * Generic helper to create typed emit/subscribe pairs\n * @param eventName - Event name\n * @returns Object with emit and subscribe functions\n */\nfunction createEventPair(eventName: string) {\n  return {\n    emit: (data: unknown): void => emit(eventName, data),\n    subscribe: (callback: EventCallback): (() => void) => on(eventName, callback),\n  };\n}\n\nconst reposUpdateEvent = createEventPair(EventTypes.REPOS_UPDATE);\nconst sessionsUpdateEvent = createEventPair(EventTypes.SESSIONS_UPDATE);\nconst tasksUpdateEvent = createEventPair(EventTypes.TASKS_UPDATE);\n\n/**\n * Emits a repositories update event\n * @param data - Repository data\n */\nexport function emitReposUpdate(data: unknown): void {\n  reposUpdateEvent.emit(data);\n}\n\n/**\n * Subscribes to repository updates\n * @param callback - Callback function\n * @returns Unsubscribe function\n */\nexport function onReposUpdate(callback: EventCallback): () => void {\n  return reposUpdateEvent.subscribe(callback);\n}\n\n/**\n * Emits a sessions update event\n * @param data - Sessions data\n */\nexport function emitSessionsUpdate(data: unknown): void {\n  sessionsUpdateEvent.emit(data);\n}\n\n/**\n * Subscribes to sessions updates\n * @param callback - Callback function\n * @returns Unsubscribe function\n */\nexport function onSessionsUpdate(callback: EventCallback): () => void {\n  return sessionsUpdateEvent.subscribe(callback);\n}\n\n/**\n * Emits a tasks update event\n * @param data - Tasks data\n */\nexport function emitTasksUpdate(data: unknown): void {\n  tasksUpdateEvent.emit(data);\n}\n\n/**\n * Subscribes to tasks updates\n * @param callback - Callback function\n * @returns Unsubscribe function\n */\nexport function onTasksUpdate(callback: EventCallback): () => void {\n  return tasksUpdateEvent.subscribe(callback);\n}\n\n/**\n * Gets all event type constants\n * @returns Event types object\n */\nexport function getEventTypes() {\n  return EventTypes;\n}\n\n/**\n * Subscribes to events (alias for on)\n * @param event - Event name\n * @param callback - Callback function\n * @returns Unsubscribe function\n */\nexport function subscribeToEvents(event: string, callback: EventCallback): () => void {\n  return on(event, callback);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/automation.ts":{"lineLengths":[6989,0,20150],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/automation.ts"],"sourcesContent":["import { randomUUID } from 'node:crypto';\nimport type { ServerResponse } from 'node:http';\nimport {\n  cloneRepository,\n  createWorktree,\n  ensureRepository,\n  getWorktreePath,\n} from '../core/git.js';\nimport { launchAgentProcess } from '../core/agents.js';\nimport { runTask } from '../core/tasks.js';\nimport { sendJson } from '../utils/http.js';\nimport {\n  validateAutomationRequest,\n  AutomationRequestError,\n} from '../core/automation/request-validation.js';\nimport { resolveBranchName } from '../core/automation/branch.js';\nimport { generatePlanText } from '../core/automation/plan.js';\nimport { createGitOrchestrator } from '../core/automation/git-orchestration.js';\nimport { runAutomationTask } from '../core/automation/task-runner.js';\nimport { createLogger } from '../infrastructure/logging/index.js';\nimport type { Logger } from '../infrastructure/logging/index.js';\n\ninterface AutomationModuleDependencies {\n  cloneRepository: typeof cloneRepository;\n  ensureRepository: typeof ensureRepository;\n  getWorktreePath: typeof getWorktreePath;\n  createWorktree: typeof createWorktree;\n  launchAgentProcess: typeof launchAgentProcess;\n  runTask: typeof runTask;\n  validateAutomationRequest: typeof validateAutomationRequest;\n  resolveBranchName: typeof resolveBranchName;\n  generatePlanText: typeof generatePlanText;\n  createGitOrchestrator: typeof createGitOrchestrator;\n  runAutomationTask: typeof runAutomationTask;\n  createLogger: typeof createLogger;\n}\n\nconst defaultAutomationDependencies: AutomationModuleDependencies = {\n  cloneRepository,\n  ensureRepository,\n  getWorktreePath,\n  createWorktree,\n  launchAgentProcess,\n  runTask,\n  validateAutomationRequest,\n  resolveBranchName,\n  generatePlanText,\n  createGitOrchestrator,\n  runAutomationTask,\n  createLogger,\n};\n\nlet activeAutomationDependencies: AutomationModuleDependencies = { ...defaultAutomationDependencies };\n\n/**\n * @internal Test hook to override automation dependencies\n */\nexport function __setAutomationTestOverrides(overrides?: Partial<AutomationModuleDependencies>): void {\n  if (!overrides) {\n    activeAutomationDependencies = { ...defaultAutomationDependencies };\n    return;\n  }\n  activeAutomationDependencies = {\n    ...activeAutomationDependencies,\n    ...overrides,\n  } as AutomationModuleDependencies;\n}\n\nexport async function ensureRepositoryExists(\n  workdir: string,\n  org: string,\n  repo: string\n): Promise<{ repositoryPath: string; cloned: boolean }> {\n  try {\n    const { repositoryPath } = await activeAutomationDependencies.ensureRepository(workdir, org, repo);\n    return { repositoryPath, cloned: false };\n  } catch (error: unknown) {\n    const err = error as { message?: string };\n    if (err && /Repository not found/i.test(err.message || '')) {\n      const remote = `git@github.com:${org}/${repo}.git`;\n      await activeAutomationDependencies.cloneRepository(workdir, remote);\n      const { repositoryPath } = await activeAutomationDependencies.ensureRepository(workdir, org, repo);\n      return { repositoryPath, cloned: true };\n    }\n    throw error;\n  }\n}\n\nexport async function ensureWorktreeExists(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string,\n  options: unknown = {}\n): Promise<{ worktreePath: string; created: boolean }> {\n  try {\n    const { worktreePath } = await activeAutomationDependencies.getWorktreePath(workdir, org, repo, branch);\n    return { worktreePath, created: false };\n  } catch (error: unknown) {\n    const err = error as { message?: string };\n    if (err && /worktree .* not found/i.test(err.message || '')) {\n      await activeAutomationDependencies.createWorktree(workdir, org, repo, branch, options as never);\n      const { worktreePath } = await activeAutomationDependencies.getWorktreePath(workdir, org, repo, branch);\n      return { worktreePath, created: true };\n    }\n    throw error;\n  }\n}\n\nexport const automationPlanMetrics = {\n  planTrue: {\n    requests: 0,\n    successes: 0,\n    failures: 0,\n    totalLatencyMs: 0,\n  },\n  planFalse: {\n    requests: 0,\n    successes: 0,\n    failures: 0,\n    totalLatencyMs: 0,\n  },\n};\n\nexport function resetAutomationPlanMetrics() {\n  for (const bucket of Object.values(automationPlanMetrics)) {\n    bucket.requests = 0;\n    bucket.successes = 0;\n    bucket.failures = 0;\n    bucket.totalLatencyMs = 0;\n  }\n}\n\nfunction finishMetrics(key: 'planTrue' | 'planFalse', success: boolean, durationMs: number): void {\n  const bucket = automationPlanMetrics[key];\n  if (!bucket) {\n    return;\n  }\n  if (success) {\n    bucket.successes += 1;\n  } else {\n    bucket.failures += 1;\n  }\n  bucket.totalLatencyMs += durationMs;\n}\n\nexport interface AutomationHandlersConfig {\n  workdir: string;\n  agentCommands: unknown;\n  apiKey?: string;\n  branchNameGenerator: unknown;\n  planService: unknown;\n  logger?: Logger;\n  defaultBranches: unknown;\n}\n\nexport interface AutomationHandlersDependencies {\n  ensureRepositoryExists?: typeof ensureRepositoryExists;\n  ensureWorktreeExists?: typeof ensureWorktreeExists;\n  launchAgentProcess?: typeof launchAgentProcess;\n  runTaskImpl?: typeof runTask;\n  now?: () => number;\n  createRequestId?: () => string;\n}\n\nexport function createAutomationHandlers(\n  {\n    workdir,\n    agentCommands,\n    apiKey,\n    branchNameGenerator,\n    planService,\n    logger,\n    defaultBranches,\n  }: AutomationHandlersConfig,\n  {\n    ensureRepositoryExists: ensureRepoExists = ensureRepositoryExists,\n    ensureWorktreeExists: ensureWorktree = ensureWorktreeExists,\n    launchAgentProcess: launchAgent = activeAutomationDependencies.launchAgentProcess,\n    runTaskImpl = activeAutomationDependencies.runTask,\n    now = () => Date.now(),\n    createRequestId = () => randomUUID(),\n  }: AutomationHandlersDependencies = {}\n) {\n  const gitOrchestrator = activeAutomationDependencies.createGitOrchestrator({\n    ensureRepositoryExists: ensureRepoExists,\n    ensureWorktreeExists: ensureWorktree,\n  });\n\n  const log = activeAutomationDependencies.createLogger(logger);\n\n  async function launch(context: { req: unknown; res: unknown; readJsonBody: () => Promise<unknown> }): Promise<void> {\n    const ctx = context as { req: { headers?: Record<string, string | string[] | undefined> }; res: { statusCode?: number; setHeader?: (name: string, value: string) => void; end?: (data?: unknown) => void }; readJsonBody: () => Promise<unknown> };\n    let validation;\n    try {\n      validation = await activeAutomationDependencies.validateAutomationRequest({\n        req: ctx.req,\n        expectedApiKey: apiKey || '',\n        readJsonBody: ctx.readJsonBody,\n        agentCommands,\n      });\n    } catch (error: unknown) {\n      if (error instanceof AutomationRequestError) {\n        sendJson(ctx.res as unknown as ServerResponse, error.status, { error: error.message });\n        return;\n      }\n      log.error('[agentrix] Automation validation failed unexpectedly.', error);\n      sendJson(ctx.res as unknown as ServerResponse, 500, { error: 'Unexpected error while validating automation request' });\n      return;\n    }\n\n    const { planEnabled, prompt, org, repo, worktreeInput, agent, routeLabel } = validation;\n\n    const metricsKey = planEnabled ? 'planTrue' : 'planFalse';\n    automationPlanMetrics[metricsKey].requests += 1;\n\n    const requestId = createRequestId();\n    const startedAt = now();\n\n    const elapsedMs = () => {\n      const value = now() - startedAt;\n      return Number.isFinite(value) ? value : 0;\n    };\n\n    const finishSuccess = (detail?: string): void => {\n      const durationMs = elapsedMs();\n      finishMetrics(metricsKey, true, durationMs);\n      const suffix = detail ? `: ${detail}` : '';\n      log.info(\n        `[agentrix] Automation request ${requestId} (${routeLabel}) completed in ${durationMs}ms${suffix}`,\n      );\n    };\n\n    const finishFailure = (message: string, error?: unknown): void => {\n      const durationMs = elapsedMs();\n      finishMetrics(metricsKey, false, durationMs);\n      if (error) {\n        log.error(\n          `[agentrix] Automation request ${requestId} (${routeLabel}) failed after ${durationMs}ms: ${message}`,\n          error,\n        );\n      } else {\n        log.error(\n          `[agentrix] Automation request ${requestId} (${routeLabel}) failed after ${durationMs}ms: ${message}`,\n        );\n      }\n    };\n\n    log.info(`[agentrix] Automation request ${requestId} (${routeLabel}) received.`);\n\n    if (planEnabled && !prompt.trim()) {\n      const message = 'prompt is required when plan is true';\n      finishFailure(message);\n      sendJson(ctx.res as unknown as ServerResponse, 400, { error: message });\n      return;\n    }\n\n    const service = planService as { isConfigured?: boolean };\n    if (planEnabled && (!service || !service.isConfigured)) {\n      const message =\n        'Plan generation is not configured. Configure a local LLM command (set planLlm in config.json).';\n      finishFailure(message);\n      sendJson(ctx.res as unknown as ServerResponse, 503, { error: message });\n      return;\n    }\n\n    try {\n      const result = (await activeAutomationDependencies.runAutomationTask({\n        runTaskImpl: runTaskImpl as never,\n        resolveBranchName: activeAutomationDependencies.resolveBranchName as never,\n        generatePlanText: activeAutomationDependencies.generatePlanText as never,\n        gitOrchestrator,\n        launchAgent: launchAgent as never,\n        workdir,\n        planEnabled,\n        routeLabel,\n        prompt,\n        org,\n        repo,\n        agent: agent as unknown as string,\n        requestId,\n        worktreeInput,\n        branchNameGenerator,\n        defaultBranches,\n        planService,\n        finishSuccess: finishSuccess as never,\n        finishFailure: finishFailure as never,\n        onBranchResolved: (branch: string) => {\n          log.info(\n            `[agentrix] Automation request ${requestId} (${routeLabel}) targeting ${org}/${repo}#${branch}.`,\n          );\n        },\n      })) as unknown as { taskId: string; queuedData: unknown };\n\n      sendJson(ctx.res as unknown as ServerResponse, 202, { taskId: result.taskId, data: result.queuedData });\n    } catch (error: unknown) {\n      const status =\n        error instanceof AutomationRequestError && typeof error.status === 'number'\n          ? error.status\n          : 500;\n      const message = error instanceof Error ? error.message : String(error);\n      finishFailure(message, error instanceof Error ? error : undefined);\n      sendJson(ctx.res as unknown as ServerResponse, status, { error: message });\n    }\n  }\n\n  return { launch };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/repo-dashboard.ts":{"lineLengths":[1753,0,4794],"data":{"version":3,"mappings":"kHAAA,OAAS,iBAAkB,wBAA2B,iBACtD,OAAS,uBAA0B,oBACnC,OAAS,sBAAyB,mBAClC,OAAS,4BAA+B,yBACxC,OAAS,uBAA0B,oBACnC,OAAS,cAAiB,oCAUnB,SAAS,4BAA4B,QAAiB,UAAoC,CAAC,EAAG,CACnG,KAAM,CACJ,aAAe,mBAAmB,EAClC,WAAa,iBACb,gBAAkB,oBAClB,IAAM,WAAM,IAAI,KAAV,MACR,EAAI,UAEJ,MAAM,KAAO,mBAAmB,MAAO,SAA4B,CACjE,KAAM,CAAE,IAAK,IAAK,EAAI,wBAAwB,QAAQ,IAAI,YAAY,EAEtE,IAAI,eACJ,GAAI,EACD,CAAE,cAAe,EAAI,MAAM,WAAW,QAAS,IAAK,IAAI,EAC3D,OAAS,MAAgB,CACvB,MAAM,QAAU,iBAAiB,MAAQ,MAAM,QAAU,OAAO,KAAK,EACrE,MAAM,WAAa,QAAQ,SAAS,WAAW,EAAI,IAAM,IACzD,MAAM,IAAI,UAAU,QAAS,UAAU,CACzC,CAEA,GAAI,QAAQ,SAAW,OAAQ,CAC7B,kBAAkB,QAAQ,GAAG,EAC7B,MACF,CAEA,KAAM,CAAC,iBAAkB,WAAY,iBAAkB,gBAAgB,EAAI,MAAM,QAAQ,IAAI,CAC3F,aAAa,sBAAsB,IAAK,IAAI,EAC5C,aAAa,gBAAgB,IAAK,IAAI,EACtC,aAAa,eAAe,IAAK,IAAI,EACrC,aAAa,sBAAsB,IAAK,IAAI,CAC9C,CAAC,EAED,MAAM,cAAgB,MAAM,gBAAgB,eAAgB,CAAE,YAAa,KAAM,CAAC,EAClF,MAAM,UAAY,IAAI,EAAE,YAAY,EAEpC,MAAO,CACL,KAAM,CACJ,IACA,KACA,UACA,aAAc,CAAE,KAAM,gBAAiB,EACvC,OAAQ,CAAE,KAAM,WAAY,MAAO,gBAAiB,EACpD,UAAW,CAAE,QAAS,gBAAiB,EACvC,UAAW,CAAE,MAAO,aAAc,CACpC,CACF,CACF,CAAC,EAED,MAAO,CAAE,IAAK,CAChB,CAjDgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/repo-dashboard.ts"],"sourcesContent":["import { ensureRepository, countLocalWorktrees } from '../core/git.js';\nimport { createGithubClient } from '../core/github.js';\nimport { handleHeadRequest } from '../utils/http.js';\nimport { extractRepositoryParams } from '../validation/index.js';\nimport { createQueryHandler } from './base-handler.js';\nimport { HttpError } from '../infrastructure/errors/index.js';\nimport type { RequestContext } from '../types/http.js';\n\nexport interface RepoDashboardOverrides {\n  githubClient?: ReturnType<typeof createGithubClient>;\n  ensureRepo?: typeof ensureRepository;\n  worktreeCounter?: typeof countLocalWorktrees;\n  now?: () => Date;\n}\n\nexport function createRepoDashboardHandlers(workdir: string, overrides: RepoDashboardOverrides = {}) {\n  const {\n    githubClient = createGithubClient(),\n    ensureRepo = ensureRepository,\n    worktreeCounter = countLocalWorktrees,\n    now = () => new Date(),\n  } = overrides;\n\n  const read = createQueryHandler(async (context: RequestContext) => {\n    const { org, repo } = extractRepositoryParams(context.url.searchParams);\n\n    let repositoryPath;\n    try {\n      ({ repositoryPath } = await ensureRepo(workdir, org, repo));\n    } catch (error: unknown) {\n      const message = error instanceof Error ? error.message : String(error);\n      const statusCode = message.includes('not found') ? 404 : 500;\n      throw new HttpError(message, statusCode);\n    }\n\n    if (context.method === 'HEAD') {\n      handleHeadRequest(context.res);\n      return;\n    }\n\n    const [openPullRequests, openIssues, openIssueDetails, runningWorkflows] = await Promise.all([\n      githubClient.countOpenPullRequests(org, repo),\n      githubClient.countOpenIssues(org, repo),\n      githubClient.listOpenIssues(org, repo),\n      githubClient.countRunningWorkflows(org, repo),\n    ]);\n\n    const worktreeCount = await worktreeCounter(repositoryPath, { includeMain: false });\n    const fetchedAt = now().toISOString();\n\n    return {\n      data: {\n        org,\n        repo,\n        fetchedAt,\n        pullRequests: { open: openPullRequests },\n        issues: { open: openIssues, items: openIssueDetails },\n        workflows: { running: runningWorkflows },\n        worktrees: { local: worktreeCount },\n      },\n    };\n  });\n\n  return { read };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/repo-issue.ts":{"lineLengths":[1562,0,4270],"data":{"version":3,"mappings":"kHAAA,OAAS,qBAAwB,iBACjC,OAAS,uBAA0B,oBACnC,OAAmB,sBAAyB,mBAC5C,OAAS,4BAA+B,yBACxC,OAAS,UAAW,oBAAuB,oCAC3C,OAAS,uBAA0B,oBAS5B,SAAS,wBAAwB,QAAiB,UAAgC,CAAC,EAAG,CAC3F,KAAM,CACJ,aAAe,mBAAmB,EAClC,WAAa,iBACb,IAAM,WAAM,IAAI,KAAV,MACR,EAAI,UAEJ,MAAM,KAAO,mBAAmB,MAAO,SAA4B,CACjE,KAAM,CAAE,IAAK,IAAK,EAAI,wBAAwB,QAAQ,IAAI,YAAY,EACtE,MAAM,WAAa,QAAQ,IAAI,aAAa,IAAI,OAAO,GAAG,KAAK,GAAK,GAEpE,GAAI,CAAC,WAAY,CACf,MAAM,IAAI,gBAAgB,mCAAmC,CAC/D,CAEA,MAAM,YAAc,OAAO,SAAS,WAAY,EAAE,EAClD,GAAI,CAAC,OAAO,UAAU,WAAW,GAAK,aAAe,EAAG,CACtD,MAAM,IAAI,gBAAgB,kDAAkD,CAC9E,CAEA,GAAI,CACF,MAAM,WAAW,QAAS,IAAK,IAAI,CACrC,OAAS,MAAgB,CACvB,MAAM,QAAU,iBAAiB,MAAQ,MAAM,QAAU,OAAO,KAAK,EACrE,MAAM,WAAa,QAAQ,SAAS,WAAW,EAAI,IAAM,IACzD,MAAM,IAAI,UAAU,QAAS,UAAU,CACzC,CAEA,GAAI,QAAQ,SAAW,OAAQ,CAC7B,kBAAkB,QAAQ,GAAG,EAC7B,MACF,CAEA,MAAM,MAAQ,MAAM,aAAa,SAAS,IAAK,KAAM,WAAW,EAChE,MAAM,UAAY,IAAI,EAAE,YAAY,EAEpC,MAAO,CACL,KAAM,CACJ,IACA,KACA,MACA,SACF,CACF,CACF,CAAC,EAED,MAAO,CAAE,IAAK,CAChB,CA/CgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/repo-issue.ts"],"sourcesContent":["import { ensureRepository } from '../core/git.js';\nimport { createGithubClient } from '../core/github.js';\nimport { sendJson, handleHeadRequest } from '../utils/http.js';\nimport { extractRepositoryParams } from '../validation/index.js';\nimport { HttpError, ValidationError } from '../infrastructure/errors/index.js';\nimport { createQueryHandler } from './base-handler.js';\nimport type { RequestContext } from '../types/http.js';\n\nexport interface RepoIssueOverrides {\n  githubClient?: ReturnType<typeof createGithubClient>;\n  ensureRepo?: typeof ensureRepository;\n  now?: () => Date;\n}\n\nexport function createRepoIssueHandlers(workdir: string, overrides: RepoIssueOverrides = {}) {\n  const {\n    githubClient = createGithubClient(),\n    ensureRepo = ensureRepository,\n    now = () => new Date(),\n  } = overrides;\n\n  const read = createQueryHandler(async (context: RequestContext) => {\n    const { org, repo } = extractRepositoryParams(context.url.searchParams);\n    const issueParam = context.url.searchParams.get('issue')?.trim() || '';\n\n    if (!issueParam) {\n      throw new ValidationError('issue query parameter is required');\n    }\n\n    const issueNumber = Number.parseInt(issueParam, 10);\n    if (!Number.isInteger(issueNumber) || issueNumber <= 0) {\n      throw new ValidationError('issue query parameter must be a positive integer');\n    }\n\n    try {\n      await ensureRepo(workdir, org, repo);\n    } catch (error: unknown) {\n      const message = error instanceof Error ? error.message : String(error);\n      const statusCode = message.includes('not found') ? 404 : 500;\n      throw new HttpError(message, statusCode);\n    }\n\n    if (context.method === 'HEAD') {\n      handleHeadRequest(context.res);\n      return;\n    }\n\n    const issue = await githubClient.getIssue(org, repo, issueNumber);\n    const fetchedAt = now().toISOString();\n    \n    return {\n      data: {\n        org,\n        repo,\n        issue,\n        fetchedAt,\n      },\n    };\n  });\n\n  return { read };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/sessions.ts":{"lineLengths":[866,0,2218],"data":{"version":3,"mappings":"kHAAA,OAAS,yBAAiD,iCAC1D,OAAS,sBAAyB,mBAClC,OAAS,iBAAoB,oCAOtB,SAAS,sBAAsB,QAAiB,UAAsC,CAAC,EAAG,CAC/F,MAAM,eAAiB,UAAU,gBAAkB,qBAAqB,OAAO,EAE/E,MAAM,KAAO,aAAa,MAAO,SAA4B,CAC3D,GAAI,QAAQ,SAAW,OAAQ,CAC7B,kBAAkB,QAAQ,GAAG,EAC7B,MACF,CAEA,MAAM,SAAW,MAAM,eAAe,aAAa,EACnD,QAAQ,IAAI,UAAU,gBAAiB,UAAU,EACjD,QAAQ,IAAI,WAAa,IACzB,QAAQ,IAAI,UAAU,eAAgB,iCAAiC,EACvE,QAAQ,IAAI,IAAI,KAAK,UAAU,CAAE,QAAS,CAAC,CAAC,CAC9C,CAAC,EAED,MAAO,CAAE,IAAK,CAChB,CAjBgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/sessions.ts"],"sourcesContent":["import { createSessionService, type SessionService } from '../services/session-service.js';\nimport { handleHeadRequest } from '../utils/http.js';\nimport { asyncHandler } from '../infrastructure/errors/index.js';\nimport type { RequestContext } from '../types/http.js';\n\nexport interface SessionHandlersOverrides {\n  sessionService?: SessionService;\n}\n\nexport function createSessionHandlers(workdir: string, overrides: SessionHandlersOverrides = {}) {\n  const sessionService = overrides.sessionService ?? createSessionService(workdir);\n\n  const list = asyncHandler(async (context: RequestContext) => {\n    if (context.method === 'HEAD') {\n      handleHeadRequest(context.res);\n      return;\n    }\n\n    const sessions = await sessionService.listSessions();\n    context.res.setHeader('Cache-Control', 'no-store');\n    context.res.statusCode = 200;\n    context.res.setHeader('Content-Type', 'application/json; charset=utf-8');\n    context.res.end(JSON.stringify({ sessions }));\n  });\n\n  return { list };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/terminal.ts":{"lineLengths":[868,0,2218],"data":{"version":3,"mappings":"kHAAA,OAAS,0BAAmD,uBAC5D,OAAS,kBAAqB,oBAC9B,OAAS,qBAAsB,yBAA4B,yBAQpD,SAAS,uBAAuB,QAAiB,QAAkC,CAAC,EAAG,CAC5F,KAAM,CAAE,KAAM,gBAAiB,uBAAwB,EAAI,QAC3D,MAAM,gBAAkB,yBAA2B,sBAAsB,QAAS,KAAO,CAAE,IAAK,EAAI,CAAC,CAAC,EAEtG,MAAM,KAAO,cAAc,CACzB,UAAW,qBACX,QAAS,aAAO,OAA6B,gBAAgB,aAAa,KAAK,EAAtE,UACX,CAAC,EAED,MAAM,KAAO,cAAc,CACzB,UAAW,qBACX,QAAS,aAAO,OAA6B,gBAAgB,UAAU,KAAK,EAAnE,UACX,CAAC,EAED,MAAO,CAAE,KAAM,IAAK,CACtB,CAfgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/terminal.ts"],"sourcesContent":["import { createTerminalService, type TerminalService } from '../services/index.js';\nimport { createHandler } from './base-handler.js';\nimport { validateTerminalOpen, validateTerminalSend } from '../validation/index.js';\nimport type { TerminalOpenInput, TerminalSendInput } from '../validation/index.js';\n\nexport interface TerminalHandlerOptions {\n  mode?: string;\n  terminalService?: TerminalService;\n}\n\nexport function createTerminalHandlers(workdir: string, options: TerminalHandlerOptions = {}) {\n  const { mode, terminalService: providedTerminalService } = options;\n  const terminalService = providedTerminalService ?? createTerminalService(workdir, mode ? { mode } : {});\n\n  const open = createHandler({\n    validator: validateTerminalOpen,\n    handler: async (input: TerminalOpenInput) => terminalService.openTerminal(input),\n  });\n\n  const send = createHandler({\n    validator: validateTerminalSend,\n    handler: async (input: TerminalSendInput) => terminalService.sendInput(input),\n  });\n\n  return { open, send };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/worktrees.ts":{"lineLengths":[1039,0,2694],"data":{"version":3,"mappings":"kHAAA,OAAS,0BAAmD,uBAC5D,OAAS,kBAAqB,oBAC9B,OAAS,uBAAwB,2BAA8B,yBAOxD,SAAS,uBACd,QACA,oBACA,oBACA,UAAsC,CAAC,EACvC,CACA,MAAM,gBACJ,UAAU,iBAAmB,sBAAsB,QAAS,oBAAqB,mBAAmB,EAEtG,MAAM,eAAiB,cAAc,CACnC,UAAW,uBACX,QAAS,aAAO,OAA+B,gBAAgB,eAAe,KAAK,EAA1E,WACT,YAAa,GACf,CAAC,EAED,MAAM,eAAiB,cAAc,CACnC,UAAW,uBACX,QAAS,aAAO,OAA+B,CAC7C,MAAM,KAAO,MAAM,gBAAgB,eAAe,KAAK,EACvD,MAAO,CAAE,IAAK,CAChB,EAHS,UAIX,CAAC,EAED,MAAO,CACL,OAAQ,eACR,OAAQ,eAER,OAAQ,eACR,QAAS,cACX,CACF,CA9BgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/worktrees.ts"],"sourcesContent":["import { createWorktreeService, type WorktreeService } from '../services/index.js';\nimport { createHandler } from './base-handler.js';\nimport { validateWorktreeCreate, validateWorktreeDelete } from '../validation/index.js';\nimport type { WorktreeCreateInput, WorktreeDeleteInput } from '../validation/index.js';\n\nexport interface WorktreeHandlerOverrides {\n  worktreeService?: WorktreeService;\n}\n\nexport function createWorktreeHandlers(\n  workdir: string,\n  branchNameGenerator: unknown,\n  defaultBranchConfig: unknown,\n  overrides: WorktreeHandlerOverrides = {}\n) {\n  const worktreeService =\n    overrides.worktreeService ?? createWorktreeService(workdir, branchNameGenerator, defaultBranchConfig);\n\n  const createWorktree = createHandler({\n    validator: validateWorktreeCreate,\n    handler: async (input: WorktreeCreateInput) => worktreeService.createWorktree(input),\n    successCode: 202,\n  });\n\n  const deleteWorktree = createHandler({\n    validator: validateWorktreeDelete,\n    handler: async (input: WorktreeDeleteInput) => {\n      const data = await worktreeService.deleteWorktree(input);\n      return { data };\n    },\n  });\n\n  return { \n    create: createWorktree,\n    delete: deleteWorktree,\n    // Deprecated aliases for backward compatibility\n    upsert: createWorktree,\n    destroy: deleteWorktree,\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/git-status.ts":{"lineLengths":[2586,0,6994],"data":{"version":3,"mappings":"kHAAA,OAAS,kBAAmB,wBAA2B,iBACvD,OAAS,uBAA0B,oBACnC,OAAS,0BAA6B,yBACtC,OAAS,oBAAuB,oCAShC,MAAM,oBAA6C,CACjD,kBACA,oBACA,qBACF,EAEA,IAAI,mBAA4C,CAAE,GAAG,mBAAoB,EAKlE,SAAS,4BAA4B,UAAkD,CAC5F,GAAI,CAAC,UAAW,CACd,mBAAqB,CAAE,GAAG,mBAAoB,EAC9C,MACF,CACA,mBAAqB,CAAE,GAAG,mBAAoB,GAAG,SAAU,CAC7D,CANgB,kEAQhB,SAAS,qBAAqB,MAAsB,SAAkD,CACpG,GAAI,OAAO,QAAU,SAAU,CAC7B,OAAO,QACT,CACA,MAAM,QAAU,MAAM,KAAK,EAC3B,GAAI,CAAC,QAAS,CACZ,OAAO,QACT,CACA,MAAM,OAAS,OAAO,SAAS,QAAS,EAAE,EAC1C,GAAI,CAAC,OAAO,SAAS,MAAM,GAAK,OAAS,EAAG,CAC1C,OAAO,QACT,CACA,OAAO,MACT,CAbS,oDAeF,SAAS,wBAAwB,QAAiB,CACvD,GAAI,CAAC,QAAS,CACZ,MAAM,IAAI,MAAM,qBAAqB,CACvC,CAEA,MAAM,KAAO,mBAAmB,MAAO,SAA4B,CACjE,KAAM,CAAE,IAAK,KAAM,MAAO,EAAI,mBAAmB,sBAAsB,QAAQ,IAAI,YAAY,EAC/F,MAAM,WAAa,qBAAqB,QAAQ,IAAI,aAAa,IAAI,YAAY,EAAG,MAAS,EAC7F,MAAM,YAAc,qBAAqB,QAAQ,IAAI,aAAa,IAAI,aAAa,EAAG,MAAS,EAE/F,MAAM,OAAS,MAAM,mBAAmB,kBAAkB,QAAS,IAAK,KAAM,OAAQ,CACpF,WACA,WACF,CAAC,EAED,QAAQ,IAAI,UAAU,gBAAiB,UAAU,EACjD,MAAO,CAAE,MAAO,CAClB,CAAC,EAED,MAAM,KAAO,mBAAmB,MAAO,SAA4B,CACjE,MAAM,QAAU,MAAM,QAAQ,aAAa,EAC3C,KAAM,CAAE,IAAK,KAAM,MAAO,EAAI,mBAAmB,sBAC/C,IAAI,gBAAgB,CAClB,IAAK,OAAO,QAAQ,KAAK,IAAM,SAAW,QAAQ,KAAK,EAAI,GAC3D,KAAM,OAAO,QAAQ,MAAM,IAAM,SAAW,QAAQ,MAAM,EAAI,GAC9D,OAAQ,OAAO,QAAQ,QAAQ,IAAM,SAAW,QAAQ,QAAQ,EAAI,EACtE,CAAC,CACH,EAEA,MAAM,SAAW,OAAO,QAAQ,MAAM,IAAM,SAAW,QAAQ,MAAM,EAAI,GACzE,GAAI,CAAC,SAAU,CACb,MAAM,IAAI,gBAAgB,kBAAkB,CAC9C,CAEA,MAAM,aAAe,OAAO,QAAQ,cAAc,IAAM,SAAW,QAAQ,cAAc,EAAI,OAC7F,MAAM,KAAO,OAAO,QAAQ,MAAM,IAAM,SAAW,QAAQ,MAAM,EAAI,OACrE,MAAM,OAAS,OAAO,QAAQ,QAAQ,IAAM,SAAW,QAAQ,QAAQ,EAAI,OAE3E,OAAO,MAAM,mBAAmB,oBAAoB,QAAS,IAAK,KAAM,OAAQ,CAC9E,KAAM,SACN,aACA,KACA,MACF,CAAC,CACH,CAAC,EAED,MAAO,CAAE,KAAM,IAAK,CACtB,CA/CgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/git-status.ts"],"sourcesContent":["import { getWorktreeStatus, getWorktreeFileDiff } from '../core/git.js';\nimport { createQueryHandler } from './base-handler.js';\nimport { extractWorktreeParams } from '../validation/index.js';\nimport { ValidationError } from '../infrastructure/errors/index.js';\nimport type { RequestContext } from '../types/http.js';\n\ninterface GitStatusDependencies {\n  getWorktreeStatus: typeof getWorktreeStatus;\n  getWorktreeFileDiff: typeof getWorktreeFileDiff;\n  extractWorktreeParams: typeof extractWorktreeParams;\n}\n\nconst defaultDependencies: GitStatusDependencies = {\n  getWorktreeStatus,\n  getWorktreeFileDiff,\n  extractWorktreeParams,\n};\n\nlet activeDependencies: GitStatusDependencies = { ...defaultDependencies };\n\n/**\n * @internal Test hook to override git-status dependencies\n */\nexport function __setGitStatusTestOverrides(overrides?: Partial<GitStatusDependencies>): void {\n  if (!overrides) {\n    activeDependencies = { ...defaultDependencies };\n    return;\n  }\n  activeDependencies = { ...activeDependencies, ...overrides } as GitStatusDependencies;\n}\n\nfunction parseOptionalInteger(value: string | null, fallback: number | undefined): number | undefined {\n  if (typeof value !== 'string') {\n    return fallback;\n  }\n  const trimmed = value.trim();\n  if (!trimmed) {\n    return fallback;\n  }\n  const parsed = Number.parseInt(trimmed, 10);\n  if (!Number.isFinite(parsed) || parsed < 0) {\n    return fallback;\n  }\n  return parsed;\n}\n\nexport function createGitStatusHandlers(workdir: string) {\n  if (!workdir) {\n    throw new Error('workdir is required');\n  }\n\n  const read = createQueryHandler(async (context: RequestContext) => {\n    const { org, repo, branch } = activeDependencies.extractWorktreeParams(context.url.searchParams);\n    const entryLimit = parseOptionalInteger(context.url.searchParams.get('entryLimit'), undefined);\n    const commitLimit = parseOptionalInteger(context.url.searchParams.get('commitLimit'), undefined);\n\n    const status = await activeDependencies.getWorktreeStatus(workdir, org, repo, branch, {\n      entryLimit,\n      commitLimit,\n    });\n    \n    context.res.setHeader('Cache-Control', 'no-store');\n    return { status };\n  });\n\n  const diff = createQueryHandler(async (context: RequestContext) => {\n    const payload = await context.readJsonBody();\n    const { org, repo, branch } = activeDependencies.extractWorktreeParams(\n      new URLSearchParams({\n        org: typeof payload['org'] === 'string' ? payload['org'] : '',\n        repo: typeof payload['repo'] === 'string' ? payload['repo'] : '',\n        branch: typeof payload['branch'] === 'string' ? payload['branch'] : '',\n      })\n    );\n\n    const filePath = typeof payload['path'] === 'string' ? payload['path'] : '';\n    if (!filePath) {\n      throw new ValidationError('path is required');\n    }\n\n    const previousPath = typeof payload['previousPath'] === 'string' ? payload['previousPath'] : undefined;\n    const mode = typeof payload['mode'] === 'string' ? payload['mode'] : undefined;\n    const status = typeof payload['status'] === 'string' ? payload['status'] : undefined;\n\n    return await activeDependencies.getWorktreeFileDiff(workdir, org, repo, branch, {\n      path: filePath,\n      previousPath,\n      mode,\n      status,\n    });\n  });\n\n  return { read, diff };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/config.ts":{"lineLengths":[622,0,1462],"data":{"version":3,"mappings":"kHAAA,OAAS,wBAA2B,oBAG7B,SAAS,qBAAqB,cAA8B,CACjE,MAAM,SAAW,CACf,MAAO,eAAe,OAAS,GAC/B,eAAgB,eAAe,gBAAkB,GACjD,OAAQ,eAAe,QAAU,GACjC,gBAAiB,eAAe,iBAAmB,GACnD,OAAQ,eAAe,QAAU,GACjC,OAAQ,eAAe,QAAU,EACnC,EAEA,MAAM,SAAW,oBACf,UAAa,CAAE,SAAU,QAAS,EACpC,EAEA,MAAO,CAAE,QAAS,CACpB,CAfgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/config.ts"],"sourcesContent":["import { createSimpleHandler } from './base-handler.js';\nimport type { AgentCommands } from '../config/agent-commands.js';\n\nexport function createConfigHandlers(agentCommands: AgentCommands) {\n  const resolved = {\n    codex: agentCommands?.codex || '',\n    codexDangerous: agentCommands?.codexDangerous || '',\n    claude: agentCommands?.claude || '',\n    claudeDangerous: agentCommands?.claudeDangerous || '',\n    cursor: agentCommands?.cursor || '',\n    vscode: agentCommands?.vscode || '',\n  };\n\n  const commands = createSimpleHandler(\n    async () => ({ commands: resolved })\n  );\n\n  return { commands };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/create-plan.ts":{"lineLengths":[2824,0,8026],"data":{"version":3,"mappings":"kHAAA,OAAS,aAAgB,mBACzB,OAAS,qBAAwB,iBASjC,MAAM,oBAA8C,CAClD,iBACA,QACF,EAEA,IAAI,mBAA6C,CAAE,GAAG,mBAAoB,EAKnE,SAAS,6BAA6B,UAAmD,CAC9F,GAAI,CAAC,UAAW,CACd,mBAAqB,CAAE,GAAG,mBAAoB,EAC9C,MACF,CACA,mBAAqB,CAAE,GAAG,mBAAoB,GAAG,SAAU,CAC7D,CANgB,oEAQT,SAAS,mBAAmB,CAAE,YAAa,mBAAoB,EAAmC,CAAC,EAAG,CAC3G,MAAM,YAAc,oBAEpB,eAAe,OAAO,QAAwC,CAC5D,IAAI,QACJ,GAAI,CACF,QAAU,MAAM,QAAQ,aAAa,CACvC,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,IAAI,OAAQ,CAAC,EACpE,MACF,CAEA,MAAM,OAAS,OAAO,QAAQ,QAAQ,IAAM,SAAW,QAAQ,QAAQ,EAAI,GAC3E,GAAI,CAAC,OAAO,KAAK,EAAG,CAClB,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,oBAAqB,CAAC,EAC7E,MACF,CAEA,MAAM,UAAY,SAAW,OAAO,QAAQ,WAAW,IAAM,UAAY,QAAQ,WAAW,EAAI,MAChG,MAAM,cACJ,SAAW,OAAO,QAAQ,eAAe,IAAM,UAAY,QAAQ,eAAe,EAAI,MAExF,GAAI,CAAC,aAAe,CAAC,YAAY,aAAc,CAC7C,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAC5C,MACE,gGACJ,CAAC,EACD,MACF,CAEA,MAAM,IAAM,OAAO,QAAQ,KAAK,IAAM,SAAW,QAAQ,KAAK,EAAE,KAAK,EAAI,GACzE,MAAM,KAAO,OAAO,QAAQ,MAAM,IAAM,SAAW,QAAQ,MAAM,EAAE,KAAK,EAAI,GAC5E,IAAI,WAAa,GAEjB,GAAK,KAAO,CAAC,MAAU,CAAC,KAAO,KAAO,CACpC,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAC5C,MAAO,wEACT,CAAC,EACD,MACF,CAEA,GAAI,KAAO,KAAM,CACf,MAAM,QAAU,OAAO,QAAQ,UAAY,SAAW,QAAQ,QAAU,GACxE,GAAI,CAAC,QAAS,CACZ,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAC5C,MAAO,mCACT,CAAC,EACD,MACF,CACA,GAAI,CACF,KAAM,CAAE,cAAe,EAAI,MAAM,mBAAmB,iBAAiB,QAAS,IAAK,IAAI,EACvF,WAAa,cACf,OAAS,MAAgB,CACvB,MAAM,QAAU,iBAAiB,MAAQ,MAAM,QAAU,OAAO,KAAK,EACrE,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,OAAQ,CAAC,EAChE,MACF,CACF,CAEA,IAAI,SACJ,GAAI,CACF,MAAM,QAAU,WACZ,CAAE,OAAQ,IAAK,WAAY,UAAW,aAAc,EACpD,CAAE,OAAQ,UAAW,aAAc,EACvC,SAAW,MAAM,YAAY,eAAe,OAAO,CACrD,OAAS,MAAgB,CACvB,GAAI,iBAAiB,OAAS,MAAM,UAAY,qBAAsB,CACpE,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,MAAM,OAAQ,CAAC,EACtE,MACF,CACA,MAAM,QAAU,iBAAiB,MAAQ,MAAM,QAAU,OAAO,KAAK,EACrE,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAC5C,MAAO,OACT,CAAC,EACD,MACF,CACA,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,KAAM,QAAS,CAAC,CAClE,CA3Ee,wBA6Ef,MAAO,CAAE,MAAO,CAClB,CAjFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/create-plan.ts"],"sourcesContent":["import { sendJson } from '../utils/http.js';\nimport { ensureRepository } from '../core/git.js';\nimport type { RequestContext } from '../types/http.js';\nimport type { PlanService } from '../types/plan.js';\n\ninterface CreatePlanDependencies {\n  ensureRepository: typeof ensureRepository;\n  sendJson: typeof sendJson;\n}\n\nconst defaultDependencies: CreatePlanDependencies = {\n  ensureRepository,\n  sendJson,\n};\n\nlet activeDependencies: CreatePlanDependencies = { ...defaultDependencies };\n\n/**\n * @internal Test hook to override create-plan dependencies\n */\nexport function __setCreatePlanTestOverrides(overrides?: Partial<CreatePlanDependencies>): void {\n  if (!overrides) {\n    activeDependencies = { ...defaultDependencies };\n    return;\n  }\n  activeDependencies = { ...activeDependencies, ...overrides } as CreatePlanDependencies;\n}\n\nexport function createPlanHandlers({ planService: providedPlanService }: { planService?: PlanService } = {}) {\n  const planService = providedPlanService;\n\n  async function create(context: RequestContext): Promise<void> {\n    let payload;\n    try {\n      payload = await context.readJsonBody();\n    } catch (error: unknown) {\n      const err = error as Error;\n      activeDependencies.sendJson(context.res, 400, { error: err.message });\n      return;\n    }\n\n    const prompt = typeof payload['prompt'] === 'string' ? payload['prompt'] : '';\n    if (!prompt.trim()) {\n      activeDependencies.sendJson(context.res, 400, { error: 'prompt is required' });\n      return;\n    }\n\n    const rawPrompt = payload && typeof payload['rawPrompt'] === 'boolean' ? payload['rawPrompt'] : false;\n    const dangerousMode =\n      payload && typeof payload['dangerousMode'] === 'boolean' ? payload['dangerousMode'] : false;\n\n    if (!planService || !planService.isConfigured) {\n      activeDependencies.sendJson(context.res, 500, {\n        error:\n          'Plan generation is not configured. Configure a local LLM command (set planLlm in config.json).',\n      });\n      return;\n    }\n\n    const org = typeof payload['org'] === 'string' ? payload['org'].trim() : '';\n    const repo = typeof payload['repo'] === 'string' ? payload['repo'].trim() : '';\n    let commandCwd = '';\n\n    if ((org && !repo) || (!org && repo)) {\n      activeDependencies.sendJson(context.res, 400, {\n        error: 'Both org and repo must be provided when specifying repository context.',\n      });\n      return;\n    }\n\n    if (org && repo) {\n      const workdir = typeof context.workdir === 'string' ? context.workdir : '';\n      if (!workdir) {\n        activeDependencies.sendJson(context.res, 500, {\n          error: 'Server workdir is not configured.',\n        });\n        return;\n      }\n      try {\n        const { repositoryPath } = await activeDependencies.ensureRepository(workdir, org, repo);\n        commandCwd = repositoryPath;\n      } catch (error: unknown) {\n        const message = error instanceof Error ? error.message : String(error);\n        activeDependencies.sendJson(context.res, 404, { error: message });\n        return;\n      }\n    }\n\n    let planText;\n    try {\n      const options = commandCwd\n        ? { prompt, cwd: commandCwd, rawPrompt, dangerousMode }\n        : { prompt, rawPrompt, dangerousMode };\n      planText = await planService.createPlanText(options);\n    } catch (error: unknown) {\n      if (error instanceof Error && error.message === 'prompt is required') {\n        activeDependencies.sendJson(context.res, 400, { error: error.message });\n        return;\n      }\n      const message = error instanceof Error ? error.message : String(error);\n      activeDependencies.sendJson(context.res, 502, {\n        error: message,\n      });\n      return;\n    }\n    activeDependencies.sendJson(context.res, 200, { plan: planText });\n  }\n\n  return { create };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/plans.ts":{"lineLengths":[3058,0,8522],"data":{"version":3,"mappings":"kHACA,OAAS,oBAAuB,iBAChC,OAAS,qBAAsB,yBAA4B,0BAC3D,OAAS,aAAgB,mBACzB,OAAS,0BAA6B,yBACtC,OAAS,gBAAiB,wBAA2B,oCAYrD,MAAM,oBAAyC,CAC7C,gBACA,qBACA,qBACA,sBACA,SACA,mBACF,EAEA,IAAI,mBAAwC,CAAE,GAAG,mBAAoB,EAK9D,SAAS,wBAAwB,UAA8C,CACpF,GAAI,CAAC,UAAW,CACd,mBAAqB,CAAE,GAAG,mBAAoB,EAC9C,MACF,CACA,mBAAqB,CAAE,GAAG,mBAAoB,GAAG,SAAU,CAC7D,CANgB,0DAehB,SAAS,kBAAkB,QAA8C,CACvE,GAAI,CACF,KAAM,CAAE,IAAK,KAAM,MAAO,EAAI,mBAAmB,sBAAsB,QAAQ,IAAI,YAAY,EAE/F,MAAM,WAAa,QAAQ,IAAI,aAAa,IAAI,OAAO,EACvD,MAAM,MAAQ,WAAa,OAAO,SAAS,WAAY,EAAE,EAAI,OAC7D,GAAI,aAAe,OAAO,MAAM,KAAK,GAAM,OAAS,MAAQ,GAAK,CAC/D,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,kCAAmC,CAAC,EAC3F,OAAO,IACT,CAEA,MAAO,CAAE,IAAK,KAAM,OAAQ,KAAM,CACpC,OAAS,MAAgB,CACvB,MAAM,QAAU,iBAAiB,gBAAkB,MAAM,QAAU,mBAAmB,oBAAoB,MAAO,oBAAoB,EACrI,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,OAAQ,CAAC,EAChE,OAAO,IACT,CACF,CAjBS,8CAmBT,SAAS,sBAAsB,IAAqB,MAAsB,CACxE,MAAM,QAAU,mBAAmB,oBAAoB,MAAO,eAAe,EAC7E,GAAI,aAAa,KAAK,OAAO,EAAG,CAC9B,mBAAmB,SAAS,IAAK,IAAK,CAAE,MAAO,OAAQ,CAAC,EACxD,MACF,CACA,mBAAmB,SAAS,IAAK,IAAK,CAAE,MAAO,OAAQ,CAAC,CAC1D,CAPS,sDASF,SAAS,2BAA2B,QAAiB,CAC1D,eAAe,KAAK,QAAwC,CAC1D,MAAM,OAAS,kBAAkB,OAAO,EACxC,GAAI,CAAC,OAAQ,CACX,MACF,CAEA,GAAI,CACF,KAAM,CAAE,YAAa,EAAI,MAAM,mBAAmB,gBAAgB,QAAS,OAAO,IAAK,OAAO,KAAM,OAAO,MAAM,EACjH,MAAM,MAAQ,MAAM,mBAAmB,qBAAqB,CAC1D,aACA,OAAQ,OAAO,OACf,MAAO,OAAO,KAChB,CAAC,EACD,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,KAAM,KAAM,CAAC,CAC/D,OAAS,MAAgB,CACvB,sBAAsB,QAAQ,IAAK,KAAK,CAC1C,CACF,CAjBe,oBAmBf,eAAe,KAAK,QAAwC,CAC1D,MAAM,OAAS,kBAAkB,OAAO,EACxC,GAAI,CAAC,OAAQ,CACX,MACF,CAEA,MAAM,QAAU,QAAQ,IAAI,aAAa,IAAI,QAAQ,GAAK,IAAI,KAAK,EACnE,GAAI,CAAC,OAAQ,CACX,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,oBAAqB,CAAC,EAC7E,MACF,CAEA,GAAI,CACF,KAAM,CAAE,YAAa,EAAI,MAAM,mBAAmB,gBAAgB,QAAS,OAAO,IAAK,OAAO,KAAM,OAAO,MAAM,EACjH,MAAM,KAAO,MAAM,mBAAmB,qBAAqB,CACzD,aACA,OAAQ,OAAO,OACf,GAAI,MACN,CAAC,EACD,mBAAmB,SAAS,QAAQ,IAAK,IAAK,CAAE,KAAM,IAAK,CAAC,CAC9D,OAAS,MAAgB,CACvB,sBAAsB,QAAQ,IAAK,KAAK,CAC1C,CACF,CAvBe,oBAyBf,MAAO,CAAE,KAAM,IAAK,CACtB,CA9CgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/plans.ts"],"sourcesContent":["import type { ServerResponse } from 'node:http';\nimport { getWorktreePath } from '../core/git.js';\nimport { listPlansForWorktree, readPlanFromWorktree } from '../core/plan-storage.js';\nimport { sendJson } from '../utils/http.js';\nimport { extractWorktreeParams } from '../validation/index.js';\nimport { ValidationError, extractErrorMessage } from '../infrastructure/errors/index.js';\nimport type { RequestContext } from '../types/http.js';\n\ninterface PlansDependencies {\n  getWorktreePath: typeof getWorktreePath;\n  listPlansForWorktree: typeof listPlansForWorktree;\n  readPlanFromWorktree: typeof readPlanFromWorktree;\n  extractWorktreeParams: typeof extractWorktreeParams;\n  sendJson: typeof sendJson;\n  extractErrorMessage: typeof extractErrorMessage;\n}\n\nconst defaultDependencies: PlansDependencies = {\n  getWorktreePath,\n  listPlansForWorktree,\n  readPlanFromWorktree,\n  extractWorktreeParams,\n  sendJson,\n  extractErrorMessage,\n};\n\nlet activeDependencies: PlansDependencies = { ...defaultDependencies };\n\n/**\n * @internal Test hook to override plans dependencies\n */\nexport function __setPlansTestOverrides(overrides?: Partial<PlansDependencies>): void {\n  if (!overrides) {\n    activeDependencies = { ...defaultDependencies };\n    return;\n  }\n  activeDependencies = { ...activeDependencies, ...overrides } as PlansDependencies;\n}\n\ninterface ParsedParams {\n  org: string;\n  repo: string;\n  branch: string;\n  limit?: number;\n}\n\nfunction parseCommonParams(context: RequestContext): ParsedParams | null {\n  try {\n    const { org, repo, branch } = activeDependencies.extractWorktreeParams(context.url.searchParams);\n    \n    const limitParam = context.url.searchParams.get('limit');\n    const limit = limitParam ? Number.parseInt(limitParam, 10) : undefined;\n    if (limitParam && (Number.isNaN(limit) || (limit && limit < 1))) {\n      activeDependencies.sendJson(context.res, 400, { error: 'limit must be a positive integer' });\n      return null;\n    }\n\n    return { org, repo, branch, limit };\n  } catch (error: unknown) {\n    const message = error instanceof ValidationError ? error.message : activeDependencies.extractErrorMessage(error, 'Invalid parameters');\n    activeDependencies.sendJson(context.res, 400, { error: message });\n    return null;\n  }\n}\n\nfunction handleResolutionError(res: ServerResponse, error: unknown): void {\n  const message = activeDependencies.extractErrorMessage(error, 'Unknown error');\n  if (/not found/i.test(message)) {\n    activeDependencies.sendJson(res, 404, { error: message });\n    return;\n  }\n  activeDependencies.sendJson(res, 500, { error: message });\n}\n\nexport function createPlanArtifactHandlers(workdir: string) {\n  async function list(context: RequestContext): Promise<void> {\n    const parsed = parseCommonParams(context);\n    if (!parsed) {\n      return;\n    }\n\n    try {\n      const { worktreePath } = await activeDependencies.getWorktreePath(workdir, parsed.org, parsed.repo, parsed.branch);\n      const plans = await activeDependencies.listPlansForWorktree({\n        worktreePath,\n        branch: parsed.branch,\n        limit: parsed.limit,\n      });\n      activeDependencies.sendJson(context.res, 200, { data: plans });\n    } catch (error: unknown) {\n      handleResolutionError(context.res, error);\n    }\n  }\n\n  async function read(context: RequestContext): Promise<void> {\n    const parsed = parseCommonParams(context);\n    if (!parsed) {\n      return;\n    }\n\n    const planId = (context.url.searchParams.get('planId') || '').trim();\n    if (!planId) {\n      activeDependencies.sendJson(context.res, 400, { error: 'planId is required' });\n      return;\n    }\n\n    try {\n      const { worktreePath } = await activeDependencies.getWorktreePath(workdir, parsed.org, parsed.repo, parsed.branch);\n      const plan = await activeDependencies.readPlanFromWorktree({\n        worktreePath,\n        branch: parsed.branch,\n        id: planId,\n      });\n      activeDependencies.sendJson(context.res, 200, { data: plan });\n    } catch (error: unknown) {\n      handleResolutionError(context.res, error);\n    }\n  }\n\n  return { list, read };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/server/events.ts":{"lineLengths":[490,30,0,1643,0,955,86,0,136,0,10094],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/server/events.ts"],"sourcesContent":["import type { ServerResponse } from 'node:http';\nimport { discoverRepositories } from '../core/git.js';\nimport { listActiveSessions } from '../core/terminal-sessions.js';\nimport { getEventTypes, subscribeToEvents } from '../core/event-bus.js';\nimport { listTasks } from '../core/tasks.js';\nimport type { AuthManager } from '../types/auth.js';\nimport type { RequestContext } from '../types/http.js';\n\nconst HEARTBEAT_INTERVAL_MS = 15000;\n\ninterface EventData {\n  event: string;\n  data: unknown;\n}\n\nfunction writeEvent(res: ServerResponse, { event, data }: EventData): void {\n  const payload = typeof data === 'string' ? data : JSON.stringify(data);\n  res.write(`event: ${event}\\n`);\n  res.write(`data: ${payload}\\n\\n`);\n}\n\nasync function sendInitialSnapshots(res: ServerResponse, workdir: string): Promise<void> {\n  const [reposSnapshot, sessionsSnapshot, tasksSnapshot] = await Promise.all([\n    discoverRepositories(workdir).catch(() => ({})),\n    Promise.resolve(listActiveSessions()).then((sessions) =>\n      sessions.map((session) => {\n        const lastActivityAtMs =\n          typeof session.lastActivityAt === 'number'\n            ? session.lastActivityAt\n            : session.lastActivityAt instanceof Date\n              ? session.lastActivityAt.getTime()\n              : null;\n        return {\n          id: session.id,\n          org: session.org,\n          repo: session.repo,\n          branch: session.branch,\n          usingTmux: session.usingTmux,\n          idle: Boolean(session.idle),\n          lastActivityAt: lastActivityAtMs ? new Date(lastActivityAtMs).toISOString() : null,\n        };\n      })\n    ),\n    Promise.resolve(listTasks()).catch(() => []),\n  ]);\n\n  writeEvent(res, { event: getEventTypes().REPOS_UPDATE, data: { data: reposSnapshot } });\n  writeEvent(res, { event: getEventTypes().SESSIONS_UPDATE, data: { sessions: sessionsSnapshot } });\n  if (Array.isArray(tasksSnapshot) && tasksSnapshot.length > 0) {\n    writeEvent(res, { event: getEventTypes().TASKS_UPDATE, data: { tasks: tasksSnapshot } });\n  }\n}\n\nexport interface EventStreamConfig {\n  authManager: AuthManager;\n  workdir: string;\n}\n\nexport function createEventStreamHandler({ authManager, workdir }: EventStreamConfig) {\n  if (!authManager) {\n    throw new Error('authManager is required');\n  }\n  if (!workdir) {\n    throw new Error('workdir is required');\n  }\n\n  return async function handleEventStream(context: RequestContext): Promise<void> {\n    const { res, req } = context;\n\n    if (!authManager.isAuthenticated(req)) {\n      res.statusCode = 401;\n      res.end();\n      return;\n    }\n\n    res.writeHead(200, {\n      'Cache-Control': 'no-store',\n      Connection: 'keep-alive',\n      'Content-Type': 'text/event-stream',\n      'X-Accel-Buffering': 'no',\n    });\n\n    res.write(': connected\\n\\n');\n\n    const cleanupFunctions: Array<() => void> = [];\n\n    const heartbeatInterval = setInterval(() => {\n      try {\n        res.write(`: ping ${Date.now()}\\n\\n`);\n      } catch {\n        clearInterval(heartbeatInterval);\n      }\n    }, HEARTBEAT_INTERVAL_MS);\n    cleanupFunctions.push(() => clearInterval(heartbeatInterval));\n\n    const unsubscribeRepos = subscribeToEvents(getEventTypes().REPOS_UPDATE, (payload) => {\n      try {\n        writeEvent(res, { event: getEventTypes().REPOS_UPDATE, data: { data: payload } });\n      } catch {\n        res.end();\n      }\n    });\n    cleanupFunctions.push(unsubscribeRepos);\n\n    const unsubscribeSessions = subscribeToEvents(getEventTypes().SESSIONS_UPDATE, (payload) => {\n      try {\n        writeEvent(res, {\n          event: getEventTypes().SESSIONS_UPDATE,\n          data: { sessions: payload },\n        });\n      } catch {\n        res.end();\n      }\n    });\n    cleanupFunctions.push(unsubscribeSessions);\n\n    const unsubscribeTasks = subscribeToEvents(getEventTypes().TASKS_UPDATE, (payload) => {\n      try {\n        writeEvent(res, {\n          event: getEventTypes().TASKS_UPDATE,\n          data: payload,\n        });\n      } catch {\n        res.end();\n      }\n    });\n    cleanupFunctions.push(unsubscribeTasks);\n\n    req.on('close', () => {\n      cleanupFunctions.forEach((fn) => {\n        try {\n          fn();\n        } catch {\n          // ignore cleanup errors\n        }\n      });\n    });\n\n    try {\n      await sendInitialSnapshots(res, workdir);\n    } catch (error: unknown) {\n      const err = error as { message?: string };\n      try {\n        res.write(`event: error\\n`);\n        res.write(`data: ${JSON.stringify({ error: err?.message || 'Failed to stream events' })}\\n\\n`);\n      } catch {\n        // ignore secondary failures\n      }\n      res.end();\n    }\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/tasks.ts":{"lineLengths":[935,0,2674],"data":{"version":3,"mappings":"kHAAA,OAAS,YAAa,cAAiB,mBACvC,OAAS,aAAgB,mBACzB,OAAS,wBAA2B,oBAQ7B,SAAS,mBAAmB,UAAmC,CAAC,EAAG,CACxE,MAAM,aAAe,CACnB,UAAW,UAAU,WAAa,UAClC,YAAa,UAAU,aAAe,WACxC,EAEA,MAAM,KAAO,oBAAoB,UAAa,CAAE,MAAO,aAAa,UAAU,CAAE,EAAE,EAElF,eAAe,KAAK,QAAyB,OAA+B,CAC1E,MAAM,IAAM,QACZ,MAAM,GAAK,OAAO,SAAW,UAAY,OAAS,OAAS,KAAK,QAAQ,GACxE,GAAI,CAAC,GAAI,CACP,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,6BAA8B,CAAC,EACnE,MACF,CACA,MAAM,KAAO,aAAa,YAAY,EAAE,EACxC,GAAI,CAAC,KAAM,CACT,SAAS,QAAQ,IAAK,IAAK,CAAE,MAAO,gBAAiB,CAAC,EACtD,MACF,CACA,SAAS,QAAQ,IAAK,IAAK,CAAE,IAAK,CAAC,CACrC,CAbe,oBAef,MAAO,CAAE,KAAM,IAAK,CACtB,CAxBgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/tasks.ts"],"sourcesContent":["import { getTaskById, listTasks } from '../core/tasks.js';\nimport { sendJson } from '../utils/http.js';\nimport { createSimpleHandler } from './base-handler.js';\nimport type { RequestContext } from '../types/http.js';\n\nexport interface TaskHandlersOverrides {\n  listTasks?: typeof listTasks;\n  getTaskById?: typeof getTaskById;\n}\n\nexport function createTaskHandlers(overrides: TaskHandlersOverrides = {}) {\n  const dependencies = {\n    listTasks: overrides.listTasks ?? listTasks,\n    getTaskById: overrides.getTaskById ?? getTaskById,\n  };\n\n  const list = createSimpleHandler(async () => ({ tasks: dependencies.listTasks() }));\n\n  async function read(context: RequestContext, taskId: string): Promise<void> {\n    const ctx = context as RequestContext & { params?: { id?: string } };\n    const id = typeof taskId === 'string' && taskId ? taskId : ctx?.params?.id;\n    if (!id) {\n      sendJson(context.res, 400, { error: 'Task identifier is required' });\n      return;\n    }\n    const task = dependencies.getTaskById(id);\n    if (!task) {\n      sendJson(context.res, 404, { error: 'Task not found' });\n      return;\n    }\n    sendJson(context.res, 200, { task });\n  }\n\n  return { list, read };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/index.ts":{"lineLengths":[540,0,930],"data":{"version":3,"mappings":"AAAA,OAAS,UAAW,oBAAqB,wBAAyB,oBAAuB,kBACzF,OAAS,gBAAiB,kBAAmB,0BAA6B,wBAC1E,OAAS,kBAAqB,uBAC9B,OAAS,YAAa,aAAc,gBAAiB,wBAA2B","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/index.ts"],"sourcesContent":["export { HttpError, InternalServerError, ServiceUnavailableError, BadGatewayError } from './http-error.js';\nexport { ValidationError, UnauthorizedError, MethodNotAllowedError } from './validation-error.js';\nexport { NotFoundError } from './not-found-error.js';\nexport { handleError, asyncHandler, errorMiddleware, extractErrorMessage } from './error-handler.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/index.ts":{"lineLengths":[293,0,934],"data":{"version":3,"mappings":"AAAA,OACE,aACA,gBACA,UACA,gBACK,qBAGP,OAAS,0BAA6B,uBAGtC,OAAS,wBAA2B","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/index.ts"],"sourcesContent":["export {\n  parseCookies,\n  serializeCookie,\n  setCookie,\n  clearCookie,\n} from './cookie-parser.js';\nexport type { CookieOptions } from './cookie-parser.js';\n\nexport { determineSecureCookie } from './cookie-security.js';\nexport type { SecureCookieOptions } from './cookie-security.js';\n\nexport { createCookieManager } from './cookie-manager.js';\nexport type { CookieManagerOptions } from './cookie-manager.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/utils/cookies.ts":{"lineLengths":[158,0,714],"data":{"version":3,"mappings":"AAIA,OACE,aACA,gBACA,UACA,gBACK","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/utils/cookies.ts"],"sourcesContent":["/**\n * @deprecated Use infrastructure/cookies instead\n * This file re-exports for backward compatibility\n */\nexport {\n  parseCookies,\n  serializeCookie,\n  setCookie,\n  clearCookie,\n} from '../infrastructure/cookies/index.js';\nexport type { CookieOptions } from '../infrastructure/cookies/index.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/config/developer-messages.ts":{"lineLengths":[1162,0,3086],"data":{"version":3,"mappings":"kHAAA,OAAO,OAAQ,mBACf,OAAO,OAAQ,UACf,OAAO,SAAU,YAEjB,MAAM,gBAAkB,YACxB,MAAM,MAAQ,IAAI,IAElB,SAAS,wBAAwB,KAA6B,CAC5D,GAAI,CAAC,KAAM,CACT,OAAO,IACT,CACA,MAAM,QAAU,GAAG,QAAQ,EAC3B,GAAI,CAAC,QAAS,CACZ,OAAO,IACT,CACA,OAAO,KAAK,KAAK,QAAS,gBAAiB,GAAG,IAAI,KAAK,CACzD,CATS,0DAWT,eAAsB,qBAAqB,KAAc,SAAmB,GAAqB,CAC/F,GAAI,MAAM,IAAI,IAAI,EAAG,CACnB,OAAO,MAAM,IAAI,IAAI,CACvB,CAEA,MAAM,eAAiB,OAAO,WAAa,SAAW,SAAW,GACjE,MAAM,SAAW,wBAAwB,IAAI,EAC7C,GAAI,CAAC,SAAU,CACb,MAAM,IAAI,KAAM,cAAc,EAC9B,OAAO,cACT,CAEA,IAAI,QAAU,eACd,GAAI,CACF,MAAM,IAAM,MAAM,GAAG,SAAS,SAAU,MAAM,EAC9C,MAAM,QAAU,IAAI,KAAK,EACzB,GAAI,QAAS,CACX,QAAU,OACZ,CACF,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,GAAI,KAAO,IAAI,OAAS,SAAU,CAChC,QAAQ,KACN,2DAA2D,QAAQ,IACnE,KAAK,SAAW,KAClB,CACF,CACF,CAEA,MAAM,IAAI,KAAM,OAAO,EACvB,OAAO,OACT,CA/BsB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/config/developer-messages.ts"],"sourcesContent":["import fs from 'node:fs/promises';\nimport os from 'node:os';\nimport path from 'node:path';\n\nconst CONFIG_DIR_NAME = '.agentrix';\nconst CACHE = new Map<string, string>();\n\nfunction getDeveloperMessagePath(slug: string): string | null {\n  if (!slug) {\n    return null;\n  }\n  const homeDir = os.homedir();\n  if (!homeDir) {\n    return null;\n  }\n  return path.join(homeDir, CONFIG_DIR_NAME, `${slug}.md`);\n}\n\nexport async function loadDeveloperMessage(slug: string, fallback: string = ''): Promise<string> {\n  if (CACHE.has(slug)) {\n    return CACHE.get(slug)!;\n  }\n\n  const defaultMessage = typeof fallback === 'string' ? fallback : '';\n  const filePath = getDeveloperMessagePath(slug);\n  if (!filePath) {\n    CACHE.set(slug, defaultMessage);\n    return defaultMessage;\n  }\n\n  let message = defaultMessage;\n  try {\n    const raw = await fs.readFile(filePath, 'utf8');\n    const trimmed = raw.trim();\n    if (trimmed) {\n      message = trimmed;\n    }\n  } catch (error: unknown) {\n    const err = error as { code?: string; message?: string };\n    if (err && err.code !== 'ENOENT') {\n      console.warn(\n        `[agentrix] Failed to read developer message override at ${filePath}:`,\n        err?.message || error\n      );\n    }\n  }\n\n  CACHE.set(slug, message);\n  return message;\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/services/index.ts":{"lineLengths":[548,0,1434],"data":{"version":3,"mappings":"AAAA,OAAS,kBAAmB,4BAA+B,0BAG3D,OAAS,gBAAiB,0BAA6B,wBAGvD,OAAS,gBAAiB,0BAA6B,wBAGvD,OAAS,YAAa,sBAAyB,oBAG/C,OAAS,eAAgB,yBAA4B","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/services/index.ts"],"sourcesContent":["export { RepositoryService, createRepositoryService } from './repository-service.js';\nexport type { RepositoriesData, AddRepositoryResult } from './repository-service.js';\n\nexport { WorktreeService, createWorktreeService } from './worktree-service.js';\nexport type { CreateWorktreeResult } from './worktree-service.js';\n\nexport { TerminalService, createTerminalService } from './terminal-service.js';\nexport type { TerminalOpenResult, TerminalSendResult } from './terminal-service.js';\n\nexport { AuthService, createAuthService } from './auth-service.js';\nexport type { AuthResult } from './auth-service.js';\n\nexport { SessionService, createSessionService } from './session-service.js';\nexport type { SessionInfo } from './session-service.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/api/base-handler.ts":{"lineLengths":[1683,0,6878],"data":{"version":3,"mappings":"kHAAA,OAAS,aAAgB,mBACzB,OAAS,iBAAoB,oCA8D7B,MAAM,oBAA2C,CAC/C,QACF,EAEA,IAAI,mBAA0C,CAAE,GAAG,mBAAoB,EAKhE,SAAS,8BAA8B,UAAgD,CAC5F,GAAI,CAAC,UAAW,CACd,mBAAqB,CAAE,GAAG,mBAAoB,EAC9C,MACF,CACA,mBAAqB,CAAE,GAAG,mBAAoB,GAAG,SAAU,CAC7D,CANgB,sEAQT,SAAS,cACd,QAC4C,CAC5C,KAAM,CACJ,QACA,UACA,YAAc,IACd,SAAW,QAAQ,SAAS,EAC5B,mBACF,EAAI,QAEJ,OAAO,aAAa,MAAO,SAA4B,CACrD,IAAI,MAEJ,GAAI,SAAU,CACZ,MAAM,QAAU,MAAM,QAAQ,aAAa,EAC3C,MAAQ,UAAY,UAAU,OAAO,EAAK,OAC5C,KAAO,CACL,MAAQ,MACV,CAEA,MAAM,OAAS,MAAM,QAAQ,MAAO,OAAO,EAE3C,MAAM,SAAW,oBACb,oBAAoB,MAAM,EAC1B,OAEJ,mBAAmB,SAAS,QAAQ,IAAK,YAAa,QAAQ,CAChE,CAAC,CACH,CA7BgB,sCAkCT,SAAS,oBACd,QACA,QAAwF,CAAC,EAC7C,CAC5C,OAAO,cAAc,CACnB,QAAS,aAAO,OAAc,UAA4B,QAAQ,OAAO,EAAhE,WACT,SAAU,MACV,GAAG,OACL,CAAC,CACH,CATgB,kDAcT,SAAS,mBACd,QACA,QAAwF,CAAC,EAC7C,CAC5C,OAAO,aAAa,MAAO,SAA4B,CACrD,MAAM,OAAS,MAAM,QAAQ,OAAO,EACpC,MAAM,SAAW,QAAQ,oBACrB,QAAQ,oBAAoB,MAAM,EAClC,OACJ,mBAAmB,SAAS,QAAQ,IAAK,QAAQ,aAAe,IAAK,QAAQ,CAC/E,CAAC,CACH,CAXgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/api/base-handler.ts"],"sourcesContent":["import { sendJson } from '../utils/http.js';\nimport { asyncHandler } from '../infrastructure/errors/index.js';\nimport type { RequestContext } from '../types/http.js';\n\n/**\n * Generic handler function type\n */\nexport type HandlerFunction<TInput = unknown, TOutput = unknown> = (\n  input: TInput,\n  context: RequestContext\n) => Promise<TOutput>;\n\n/**\n * Validation function type\n */\nexport type ValidationFunction<TInput = unknown> = (payload: unknown) => TInput;\n\n/**\n * Options for creating a handler\n */\nexport interface HandlerOptions<TInput, TOutput> {\n  /**\n   * The service method to call\n   */\n  handler: HandlerFunction<TInput, TOutput>;\n  \n  /**\n   * Optional validation function for request body\n   */\n  validator?: ValidationFunction<TInput>;\n  \n  /**\n   * HTTP status code for successful response (default: 200)\n   */\n  successCode?: number;\n  \n  /**\n   * Whether to read JSON body from request (default: true if validator is provided)\n   */\n  readBody?: boolean;\n  \n  /**\n   * Custom response transformer (default: wraps result in { data: result })\n   */\n  responseTransformer?: (result: TOutput) => unknown;\n}\n\n/**\n * Creates a standardized API handler with validation and error handling\n * \n * @example\n * ```typescript\n * const createUser = createHandler({\n *   handler: async (input, context) => userService.create(input),\n *   validator: validateUserCreate,\n *   successCode: 201\n * });\n * ```\n */\ninterface HandlerDependencies {\n  sendJson: typeof sendJson;\n}\n\nconst defaultDependencies: HandlerDependencies = {\n  sendJson,\n};\n\nlet activeDependencies: HandlerDependencies = { ...defaultDependencies };\n\n/**\n * @internal Test hook to override handler dependencies\n */\nexport function __setBaseHandlerTestOverrides(overrides?: Partial<HandlerDependencies>): void {\n  if (!overrides) {\n    activeDependencies = { ...defaultDependencies };\n    return;\n  }\n  activeDependencies = { ...activeDependencies, ...overrides } as HandlerDependencies;\n}\n\nexport function createHandler<TInput = void, TOutput = unknown>(\n  options: HandlerOptions<TInput, TOutput>\n): (context: RequestContext) => Promise<void> {\n  const {\n    handler,\n    validator,\n    successCode = 200,\n    readBody = Boolean(validator),\n    responseTransformer,\n  } = options;\n\n  return asyncHandler(async (context: RequestContext) => {\n    let input: TInput;\n\n    if (readBody) {\n      const payload = await context.readJsonBody();\n      input = validator ? validator(payload) : (payload as TInput);\n    } else {\n      input = undefined as TInput;\n    }\n\n    const result = await handler(input, context);\n    \n    const response = responseTransformer \n      ? responseTransformer(result)\n      : result;\n\n    activeDependencies.sendJson(context.res, successCode, response);\n  });\n}\n\n/**\n * Creates a simple handler that doesn't require input validation\n */\nexport function createSimpleHandler<TOutput = unknown>(\n  handler: (context: RequestContext) => Promise<TOutput>,\n  options: { successCode?: number; responseTransformer?: (result: TOutput) => unknown } = {}\n): (context: RequestContext) => Promise<void> {\n  return createHandler({\n    handler: async (_input: void, context: RequestContext) => handler(context),\n    readBody: false,\n    ...options,\n  });\n}\n\n/**\n * Creates a handler for query parameter-based requests\n */\nexport function createQueryHandler<TOutput = unknown>(\n  handler: (context: RequestContext) => Promise<TOutput>,\n  options: { successCode?: number; responseTransformer?: (result: TOutput) => unknown } = {}\n): (context: RequestContext) => Promise<void> {\n  return asyncHandler(async (context: RequestContext) => {\n    const result = await handler(context);\n    const response = options.responseTransformer \n      ? options.responseTransformer(result)\n      : result;\n    activeDependencies.sendJson(context.res, options.successCode || 200, response);\n  });\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/validation/index.ts":{"lineLengths":[1059,0,1878],"data":{"version":3,"mappings":"AAAA,OACE,iBACA,iBACA,gBACA,wBACA,oBACA,4BACA,gBACA,6BACA,2BACA,wBACA,0BACK,yBAEP,OAAS,yBAA0B,yBAA0B,8BAAiC,iCAG9F,OAAS,uBAAwB,2BAA8B,+BAG/D,OAAS,qBAAsB,yBAA4B,+BAG3D,OAAS,oBAAuB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/validation/index.ts"],"sourcesContent":["export {\n  validateRequired,\n  validateOptional,\n  validateBoolean,\n  validatePositiveInteger,\n  validateQueryParams,\n  validateOptionalQueryParams,\n  requireNonEmpty,\n  validateRepositoryIdentifier,\n  validateWorktreeIdentifier,\n  extractRepositoryParams,\n  extractWorktreeParams,\n} from './request-validator.js';\n\nexport { validateRepositoryCreate, validateRepositoryDelete, validateInitCommandUpdate } from './schemas/repository-schema.js';\nexport type { RepositoryCreateInput, RepositoryDeleteInput, InitCommandUpdateInput } from './schemas/repository-schema.js';\n\nexport { validateWorktreeCreate, validateWorktreeDelete } from './schemas/worktree-schema.js';\nexport type { WorktreeCreateInput, WorktreeDeleteInput } from './schemas/worktree-schema.js';\n\nexport { validateTerminalOpen, validateTerminalSend } from './schemas/terminal-schema.js';\nexport type { TerminalOpenInput, TerminalSendInput } from './schemas/terminal-schema.js';\n\nexport { ValidationError } from '../infrastructure/errors/index.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/domain/index.ts":{"lineLengths":[476,0,1094],"data":{"version":3,"mappings":"AAAA,OAAS,mBAAoB,WAAc,sBAG3C,OACE,oBACA,mBACA,yBACA,mBACA,eACK,wBAEP,OAAS,SAAU,mBAAsB,gBAGzC,OAAS,WAAY,qBAAwB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/domain/index.ts"],"sourcesContent":["export { parseRepositoryUrl, GitUrl } from './git-url-parser.js';\nexport type { GitUrlParts } from './git-url-parser.js';\n\nexport {\n  normalizeBranchName,\n  sanitizeBranchName,\n  deriveWorktreeFolderName,\n  validateBranchName,\n  BranchName,\n} from './branch-validator.js';\n\nexport { Worktree, createWorktree } from './worktree.js';\nexport type { WorktreeData } from './worktree.js';\n\nexport { Repository, createRepository } from './repository.js';\nexport type { RepositoryData } from './repository.js';\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/repositories/worktree-repository.ts":{"lineLengths":[9021,0,26178],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/repositories/worktree-repository.ts"],"sourcesContent":["import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport {\n  executeGitCommandInRepo,\n  extractGitErrorMessage,\n  GIT_BUFFER_SIZES,\n} from './git-repository.js';\nimport { normalizeBranchName, deriveWorktreeFolderName } from '../domain/index.js';\nimport { resolveDefaultBranch } from '../core/default-branch.js';\nimport {\n  getRepositoryInitCommand,\n} from '../core/repository-config.js';\n\n/**\n * Custom error for worktree operations\n */\nexport class GitWorktreeError extends Error {\n  public readonly repositoryPath: string;\n\n  constructor(repositoryPath: string, message: string, cause?: Error | unknown) {\n    super(`Failed to list worktrees for ${repositoryPath}: ${message}`);\n    this.name = 'GitWorktreeError';\n    this.repositoryPath = repositoryPath;\n    if (cause) {\n      this.cause = cause;\n    }\n  }\n}\n\nexport interface WorktreeEntry {\n  path: string | null;\n  branch: string | null;\n}\n\n/**\n * Lists all worktrees for a repository\n * @param repositoryPath - Path to the repository\n * @returns Array of {path, branch} objects\n * @throws {GitWorktreeError}\n */\nexport async function listWorktrees(repositoryPath: string): Promise<WorktreeEntry[]> {\n  try {\n    const { stdout } = await executeGitCommandInRepo(\n      repositoryPath,\n      ['worktree', 'list', '--porcelain'],\n      { maxBuffer: GIT_BUFFER_SIZES.MEDIUM }\n    );\n\n    if (!stdout.trim()) {\n      return [];\n    }\n\n    const worktrees: WorktreeEntry[] = [];\n    const blocks = stdout.trim().split(/\\n\\n+/);\n    \n    blocks.forEach((block) => {\n      let worktreePath = null;\n      let branchName = null;\n\n      block.split('\\n').forEach((line) => {\n        if (line.startsWith('worktree ')) {\n          worktreePath = line.slice('worktree '.length).trim();\n        } else if (line.startsWith('branch ')) {\n          const ref = line.slice('branch '.length).trim();\n          branchName = ref.replace(/^refs\\/heads\\//, '');\n        }\n      });\n\n      worktrees.push({ path: worktreePath, branch: branchName });\n    });\n\n    return worktrees;\n  } catch (error) {\n    const message = extractGitErrorMessage(error);\n    console.error(\n      `[agentrix] Failed to list worktrees for ${repositoryPath}: ${message}`\n    );\n    throw new GitWorktreeError(repositoryPath, message, error);\n  }\n}\n\n/**\n * Counts local worktrees (optionally excluding main)\n * @param repositoryPath - Path to the repository\n * @param options - Options\n * @returns Count of worktrees\n */\nexport async function countLocalWorktrees(\n  repositoryPath: string,\n  { includeMain = false }: { includeMain?: boolean } = {}\n): Promise<number> {\n  const worktrees = await listWorktrees(repositoryPath);\n  return worktrees.reduce((total, entry) => {\n    if (!entry || typeof entry.branch !== 'string') {\n      return total;\n    }\n    if (!includeMain && entry.branch === 'main') {\n      return total;\n    }\n    return total + 1;\n  }, 0);\n}\n\n/**\n * Checks if a branch exists in the repository\n * @param repositoryPath - Path to the repository\n * @param branch - Branch name\n * @returns True if branch exists\n */\nasync function branchExists(repositoryPath: string, branch: string): Promise<boolean> {\n  try {\n    await executeGitCommandInRepo(\n      repositoryPath,\n      ['rev-parse', '--verify', `refs/heads/${branch}`],\n      { maxBuffer: GIT_BUFFER_SIZES.MEDIUM }\n    );\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport interface InitCommandResult {\n  ran: boolean;\n  command: string;\n}\n\n/**\n * Runs the repository init command in a worktree\n * @param repoRoot - Repository root directory\n * @param worktreePath - Path to the worktree\n * @returns Init command result\n */\nasync function internalRunRepositoryInitCommand(repoRoot: string, worktreePath: string): Promise<InitCommandResult> {\n  let initCommand = '';\n  try {\n    initCommand = await getRepositoryInitCommand(repoRoot);\n  } catch (error: unknown) {\n    const err = error as { message?: string };\n    console.warn(\n      `[agentrix] Failed to read repository config for ${repoRoot}:`,\n      err?.message || error\n    );\n    initCommand = '';\n  }\n\n  if (!initCommand) {\n    return { ran: false, command: '' };\n  }\n\n  const candidateShell = typeof process.env['SHELL'] === 'string' ? process.env['SHELL'].trim() : '';\n  const shell = candidateShell || '/bin/sh';\n  const shellName = path.basename(shell);\n  const shellArgs = ['-l', '-c', initCommand];\n\n  if (['bash', 'zsh', 'fish'].includes(shellName)) {\n    shellArgs.splice(1, 0, '-i');\n  }\n\n  try {\n    const { execFile } = await import('node:child_process');\n    const { promisify } = await import('node:util');\n    const execFileAsync = promisify(execFile);\n\n    await execFileAsync(shell, shellArgs, {\n      cwd: worktreePath,\n      maxBuffer: GIT_BUFFER_SIZES.XLARGE,\n      env: { ...process.env },\n    });\n    return { ran: true, command: initCommand };\n  } catch (error: unknown) {\n    const err = error as { stderr?: Buffer | string; stdout?: Buffer | string; message?: string };\n    const stderr = err?.stderr ? err.stderr.toString() : '';\n    const stdout = err?.stdout ? err.stdout.toString() : '';\n    const details = stderr || stdout || err?.message || 'Unknown repository init error';\n    throw new Error(`Repository init command failed: ${details.trim()}`);\n  }\n}\n\nlet runRepositoryInitCommandImpl: typeof internalRunRepositoryInitCommand = internalRunRepositoryInitCommand;\n\nasync function runRepositoryInitCommand(\n  repoRoot: string,\n  worktreePath: string\n): Promise<InitCommandResult> {\n  return await runRepositoryInitCommandImpl(repoRoot, worktreePath);\n}\n\nexport function __setWorktreeRepositoryTestOverrides(overrides?: {\n  runRepositoryInitCommand?: typeof internalRunRepositoryInitCommand;\n}): void {\n  runRepositoryInitCommandImpl = overrides?.runRepositoryInitCommand ?? internalRunRepositoryInitCommand;\n}\n\nexport interface CreateWorktreeOptions {\n  defaultBranchOverride?: string;\n  progress?: unknown;\n}\n\n/**\n * Creates a new worktree\n * @param workdir - Work directory root\n * @param org - Organization name\n * @param repo - Repository name\n * @param branch - Branch name\n * @param options - Options\n */\nexport async function createWorktree(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string,\n  options: CreateWorktreeOptions = {}\n): Promise<void> {\n  const { defaultBranchOverride, progress } = options || {};\n  const branchName = normalizeBranchName(branch);\n  \n  if (!branchName) {\n    throw new Error('Branch name cannot be empty');\n  }\n\n  // We need to import ensureRepository from repository-repository\n  // For now, construct paths directly\n  const repoRoot = path.join(workdir, org, repo);\n  const repositoryPath = path.join(repoRoot, 'repository');\n  \n  const folderName = deriveWorktreeFolderName(branchName);\n  const targetPath = path.join(repoRoot, folderName);\n\n  try {\n    await fs.access(targetPath);\n    throw new Error(`Worktree directory already exists at ${targetPath}`);\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (!err || err.code !== 'ENOENT') {\n      throw error;\n    }\n  }\n\n  const describeError = (error: unknown, fallback: string = 'Unknown git error'): string => {\n    return extractGitErrorMessage(error, fallback);\n  };\n\n  const prog = progress as {\n    ensureStep?: (id: string, label: string) => void;\n    startStep?: (id: string, options: { label: string; message: string }) => void;\n    completeStep?: (id: string, options: { label: string; message: string }) => void;\n    failStep?: (id: string, options: { label: string; message: string }) => void;\n    skipStep?: (id: string, options: { label: string; message: string }) => void;\n    logStep?: (id: string, message: string) => void;\n  } | undefined;\n  \n  prog?.ensureStep?.('sync-default-branch', 'Sync default branch');\n  prog?.ensureStep?.('create-worktree', 'Create worktree');\n  prog?.ensureStep?.('run-init-script', 'Run init script');\n\n  prog?.startStep?.('sync-default-branch', {\n    label: 'Sync default branch',\n    message: 'Preparing repository and syncing default branch.',\n  });\n\n  let defaultBranch = '';\n  try {\n    defaultBranch = await resolveDefaultBranch(repositoryPath, {\n      override: defaultBranchOverride,\n    });\n    if (defaultBranch) {\n      prog?.logStep?.('sync-default-branch', `Resolved default branch: ${defaultBranch}`);\n    }\n    await executeGitCommandInRepo(repositoryPath, ['checkout', defaultBranch]);\n    prog?.logStep?.('sync-default-branch', `Checked out default branch ${defaultBranch}.`);\n    \n    await executeGitCommandInRepo(repositoryPath, [\n      'pull',\n      '--ff-only',\n      'origin',\n      defaultBranch,\n    ]);\n    \n    prog?.completeStep?.('sync-default-branch', {\n      label: 'Sync default branch',\n      message: `Default branch ${defaultBranch} is up to date.`,\n    });\n  } catch (error) {\n    const message = describeError(error);\n    prog?.failStep?.('sync-default-branch', {\n      label: 'Sync default branch',\n      message,\n    });\n    throw new Error(`Failed to create worktree: ${message}`);\n  }\n\n  prog?.startStep?.('create-worktree', {\n    label: 'Create worktree',\n    message: `Adding worktree at ${targetPath}`,\n  });\n\n  let worktreeAdded = false;\n  try {\n    const exists = await branchExists(repositoryPath, branchName);\n    const args = ['worktree', 'add'];\n    if (!exists) {\n      args.push('-b', branchName);\n    }\n    args.push(targetPath);\n    if (exists) {\n      args.push(branchName);\n    }\n    await executeGitCommandInRepo(repositoryPath, args);\n    worktreeAdded = true;\n    prog?.completeStep?.('create-worktree', {\n      label: 'Create worktree',\n      message: exists\n        ? `Attached existing branch ${branchName} to ${targetPath}.`\n        : `Created new branch ${branchName} at ${targetPath}.`,\n    });\n  } catch (error) {\n    const message = describeError(error);\n    prog?.failStep?.('create-worktree', {\n      label: 'Create worktree',\n      message,\n    });\n    throw new Error(`Failed to create worktree: ${message}`);\n  }\n\n  prog?.startStep?.('run-init-script', {\n    label: 'Run init script',\n    message: 'Checking for repository init command.',\n  });\n\n  try {\n    const initResult = await runRepositoryInitCommand(repoRoot, targetPath);\n    if (!initResult?.ran) {\n      prog?.skipStep?.('run-init-script', {\n        label: 'Run init script',\n        message: 'No init command configured for this repository.',\n      });\n    } else {\n      prog?.completeStep?.('run-init-script', {\n        label: 'Run init script',\n        message: 'Init command completed successfully.',\n      });\n    }\n  } catch (error) {\n    const message = describeError(error, 'Repository init command failed');\n    prog?.failStep?.('run-init-script', {\n      label: 'Run init script',\n      message,\n    });\n    if (worktreeAdded) {\n      try {\n        await executeGitCommandInRepo(repositoryPath, [\n          'worktree',\n          'remove',\n          '--force',\n          targetPath,\n        ]);\n      } catch (cleanupError: unknown) {\n        const cleanupErr = cleanupError as { message?: string };\n        console.warn(\n          `[agentrix] Failed to clean up worktree at ${targetPath} after init command failure:`,\n          cleanupErr?.message || cleanupError\n        );\n      }\n    }\n    throw new Error(`Failed to create worktree: ${message}`);\n  }\n}\n\nexport interface WorktreePathResult {\n  repositoryPath: string;\n  worktreePath: string;\n}\n\n/**\n * Gets the path to a worktree for a specific branch\n * @param workdir - Work directory root\n * @param org - Organization name\n * @param repo - Repository name\n * @param branch - Branch name\n * @returns Worktree paths\n */\nexport async function getWorktreePath(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string\n): Promise<WorktreePathResult> {\n  const repositoryPath = path.join(workdir, org, repo, 'repository');\n  const worktrees = await listWorktrees(repositoryPath);\n  const match = worktrees.find((item) => item.branch === branch);\n  \n  if (!match || !match.path) {\n    throw new Error(`Worktree for ${org}/${repo} branch ${branch} not found`);\n  }\n  \n  return { repositoryPath, worktreePath: match.path };\n}\n\n/**\n * Removes a worktree\n * @param workdir - Work directory root\n * @param org - Organization name\n * @param repo - Repository name\n * @param branch - Branch name\n */\nexport async function removeWorktree(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string\n): Promise<void> {\n  const branchName = normalizeBranchName(branch);\n  \n  if (!branchName) {\n    throw new Error('Branch name cannot be empty');\n  }\n  \n  if (branchName.toLowerCase() === 'main') {\n    throw new Error('Cannot remove the main worktree');\n  }\n\n  const repositoryPath = path.join(workdir, org, repo, 'repository');\n  const worktrees = await listWorktrees(repositoryPath);\n  const entry = worktrees.find((item) => item.branch === branchName);\n\n  if (!entry || !entry.path) {\n    return;\n  }\n\n  try {\n    await executeGitCommandInRepo(repositoryPath, [\n      'worktree',\n      'remove',\n      '--force',\n      entry.path,\n    ]);\n  } catch (error) {\n    const message = extractGitErrorMessage(error);\n    throw new Error(`Failed to remove worktree: ${message}`);\n  }\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/repositories/repository-repository.ts":{"lineLengths":[4711,0,14430],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/repositories/repository-repository.ts"],"sourcesContent":["import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport { executeGitCommand, extractGitErrorMessage, GIT_BUFFER_SIZES } from './git-repository.js';\nimport { listWorktrees } from './worktree-repository.js';\nimport { parseRepositoryUrl } from '../domain/index.js';\nimport { getRepositoryInitCommand } from '../core/repository-config.js';\nimport { normaliseInitCommand, setRepositoryInitCommand } from '../core/repository-config.js';\n\nexport interface RepositoryPaths {\n  repoRoot: string;\n  repositoryPath: string;\n}\n\nexport interface CloneResult {\n  org: string;\n  repo: string;\n}\n\nexport interface CloneOptions {\n  initCommand?: string;\n}\n\nexport interface RepositoriesMap {\n  [org: string]: {\n    [repo: string]: {\n      branches: string[];\n      initCommand: string;\n    };\n  };\n}\n\ntype RepositoryRepositoryDependencyOverrides = Partial<{\n  executeGitCommand: typeof executeGitCommand;\n  listWorktrees: typeof listWorktrees;\n  getRepositoryInitCommand: typeof getRepositoryInitCommand;\n  normaliseInitCommand: typeof normaliseInitCommand;\n  setRepositoryInitCommand: typeof setRepositoryInitCommand;\n}>;\n\nconst repositoryRepositoryDependencies = {\n  executeGitCommand,\n  listWorktrees,\n  getRepositoryInitCommand,\n  normaliseInitCommand,\n  setRepositoryInitCommand,\n} as const;\n\nlet repositoryRepositoryTestOverrides: RepositoryRepositoryDependencyOverrides | null = null;\n\nfunction resolveRepositoryRepositoryDependency<K extends keyof typeof repositoryRepositoryDependencies>(\n  key: K\n): (typeof repositoryRepositoryDependencies)[K] {\n  const overrides = repositoryRepositoryTestOverrides || {};\n  const override = overrides[key];\n  if (override) {\n    return override as (typeof repositoryRepositoryDependencies)[K];\n  }\n  return repositoryRepositoryDependencies[key];\n}\n\nexport function __setRepositoryRepositoryTestOverrides(\n  overrides?: RepositoryRepositoryDependencyOverrides\n): void {\n  repositoryRepositoryTestOverrides = overrides ?? null;\n}\n\n/**\n * Ensures a repository exists and returns its paths\n * @param workdir - Work directory root\n * @param org - Organization name\n * @param repo - Repository name\n * @returns Repository paths\n * @throws {Error} If repository doesn't exist or is invalid\n */\nexport async function ensureRepository(workdir: string, org: string, repo: string): Promise<RepositoryPaths> {\n  if (!org || !repo) {\n    throw new Error('Repository identifier is incomplete');\n  }\n\n  const repoRoot = path.join(workdir, org, repo);\n  const repositoryPath = path.join(repoRoot, 'repository');\n\n  let stats;\n  try {\n    stats = await fs.stat(repositoryPath);\n  } catch (error: unknown) {\n    const err = error as { code?: string; message?: string };\n    if (err && err.code === 'ENOENT') {\n      throw new Error(`Repository not found for ${org}/${repo}`);\n    }\n    throw new Error(`Unable to access repository ${org}/${repo}: ${err.message}`);\n  }\n\n  if (!stats.isDirectory()) {\n    throw new Error(`Repository path is not a directory: ${repositoryPath}`);\n  }\n\n  return { repoRoot, repositoryPath };\n}\n\n/**\n * Clones a repository\n * @param workdir - Work directory root\n * @param repositoryUrl - Git repository URL\n * @param options - Options\n * @returns Clone result with org and repo\n * @throws {Error} If clone fails or repository already exists\n */\nexport async function cloneRepository(\n  workdir: string,\n  repositoryUrl: string,\n  options: CloneOptions = {}\n): Promise<CloneResult> {\n  const { org, repo, url } = parseRepositoryUrl(repositoryUrl);\n  const repoRoot = path.join(workdir, org, repo);\n  const repositoryPath = path.join(repoRoot, 'repository');\n\n  await fs.mkdir(repoRoot, { recursive: true });\n\n  try {\n    const stats = await fs.stat(repositoryPath);\n    if (stats.isDirectory()) {\n      throw new Error(`Repository already exists for ${org}/${repo}`);\n    }\n    throw new Error(`Cannot create repository at ${repositoryPath}`);\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (!err || err.code !== 'ENOENT') {\n      throw error;\n    }\n  }\n\n  try {\n    const execGit = resolveRepositoryRepositoryDependency('executeGitCommand');\n    await execGit(['clone', url, repositoryPath], {\n      maxBuffer: GIT_BUFFER_SIZES.MEDIUM,\n    });\n  } catch (error: unknown) {\n    const message = extractGitErrorMessage(error);\n    throw new Error(`Failed to clone repository: ${message}`);\n  }\n\n  if (options && Object.prototype.hasOwnProperty.call(options, 'initCommand')) {\n    const normalise = resolveRepositoryRepositoryDependency('normaliseInitCommand');\n    const initCommand = normalise(options.initCommand);\n    try {\n      const setInit = resolveRepositoryRepositoryDependency('setRepositoryInitCommand');\n      await setInit(repoRoot, initCommand);\n    } catch (error: unknown) {\n      const err = error as { message?: string };\n      throw new Error(`Failed to persist repository settings: ${err?.message || error}`);\n    }\n  }\n\n  return { org, repo };\n}\n\n/**\n * Discovers all repositories in the work directory\n * @param workdir - Work directory root\n * @returns Nested object: {org: {repo: {branches, initCommand}}}\n */\nexport async function discoverRepositories(workdir: string): Promise<RepositoriesMap> {\n  const result: RepositoriesMap = {};\n  const listWorktreesFn = resolveRepositoryRepositoryDependency('listWorktrees');\n  const getInitCommand = resolveRepositoryRepositoryDependency('getRepositoryInitCommand');\n\n  let organisations;\n  try {\n    organisations = await fs.readdir(workdir, { withFileTypes: true });\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err.code === 'ENOENT') {\n      return result;\n    }\n    throw error;\n  }\n\n  for (const orgEntry of organisations) {\n    if (!orgEntry.isDirectory()) {\n      continue;\n    }\n\n    const orgName = orgEntry.name;\n    const orgPath = path.join(workdir, orgName);\n    let repoEntries;\n\n    try {\n      repoEntries = await fs.readdir(orgPath, { withFileTypes: true });\n    } catch {\n      continue;\n    }\n\n    for (const repoEntry of repoEntries) {\n      if (!repoEntry.isDirectory()) {\n        continue;\n      }\n\n      const repoName = repoEntry.name;\n      const repoRoot = path.join(orgPath, repoName);\n      const repositoryPath = path.join(repoRoot, 'repository');\n\n      try {\n        const stats = await fs.stat(repositoryPath);\n        if (!stats.isDirectory()) {\n          continue;\n        }\n      } catch {\n        continue;\n      }\n\n      const worktrees = await listWorktreesFn(repositoryPath);\n      const branches = Array.from(\n        new Set(\n          worktrees\n            .map((entry) => entry.branch)\n            .filter((branch): branch is string => typeof branch === 'string' && branch.length > 0)\n        )\n      );\n\n      let initCommand = '';\n      try {\n        initCommand = await getInitCommand(repoRoot);\n      } catch (error: unknown) {\n        const err = error as { message?: string };\n        console.warn(\n          `[agentrix] Failed to load repository config for ${orgName}/${repoName}:`,\n          err?.message || error\n        );\n        initCommand = '';\n      }\n\n      if (!result[orgName]) {\n        result[orgName] = {};\n      }\n      result[orgName]![repoName] = { branches, initCommand };\n    }\n  }\n\n  return result;\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/agents.ts":{"lineLengths":[3227,0,9438],"data":{"version":3,"mappings":"kHAAA,OAAS,8BAA+B,sBAAyB,yBAEjE,OAAS,YAAe,YACxB,OAAS,uBAA0B,oBASnC,MAAM,iBAAsC,CAC1C,8BACA,kBACA,QACA,kBACF,EAEA,IAAI,mBAAwD,KAE5D,SAAS,qBAAyC,CAChD,OAAO,mBAAqB,CAAE,GAAG,iBAAkB,GAAG,kBAAmB,EAAI,gBAC/E,CAFS,kDAIF,SAAS,yBAAyB,UAA8C,CACrF,mBAAqB,WAAa,IACpC,CAFgB,4DAIhB,SAAS,uBAAuB,MAAwB,CACtD,GAAI,CAAC,MAAO,CACV,MAAO,EACT,CACA,MAAM,WAAa,OAAO,KAAK,EAAE,QAAQ,QAAS,IAAI,EAAE,QAAQ,MAAO,IAAI,EAAE,QAAQ,MAAO,IAAI,EAChG,MAAO,MAAM,KAAK,UAAU,EAAI,WAAa,GAAG,UAAU,IAC5D,CANS,wDAQT,SAAS,WAAW,MAAwB,CAC1C,GAAI,QAAU,QAAa,QAAU,KAAM,CACzC,MAAO,IACT,CACA,MAAM,KAAO,OAAO,KAAK,EACzB,GAAI,OAAS,GAAI,CACf,MAAO,IACT,CACA,MAAO,IAAI,KAAK,QAAQ,KAAM,OAAO,CAAC,GACxC,CATS,gCAWT,eAAe,yBACb,QACA,OACA,KACwB,CACxB,MAAM,MAAQ,OAAO,SAAW,SAAW,OAAS,GACpD,GAAI,SAAS,WAAa,QAAQ,gBAAiB,CACjD,MAAM,OAAS,IAAI,QAAQ,eAAe,GAC1C,GAAI,CACF,GAAI,MAAO,CACT,MAAM,KAAK,QAAQ,CAAC,kBAAmB,KAAM,OAAQ,kBAAmB,KAAK,CAAC,CAChF,KAAO,CACL,MAAM,KAAK,QAAQ,CAAC,kBAAmB,KAAM,KAAM,OAAQ,iBAAiB,CAAC,CAC/E,CACA,OAAO,IACT,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,QAAQ,KACN,sDACA,KAAK,SAAW,KAClB,CACF,CACF,CAEA,GAAI,CAAC,MAAO,CACV,MAAO,uBACT,CACA,MAAO,0BAA0B,WAAW,KAAK,CAAC,EACpD,CA5Be,4DAqDf,eAAsB,mBAAmB,CACvC,QACA,QACA,IACA,KACA,OACA,MACF,EAAkD,CAChD,MAAM,KAAO,oBAAoB,EACjC,GAAI,CAAC,SAAW,OAAO,UAAY,UAAY,CAAC,QAAQ,KAAK,EAAG,CAC9D,MAAM,IAAI,MAAM,2BAA2B,CAC7C,CACA,GAAI,CAAC,SAAW,CAAC,KAAO,CAAC,MAAQ,CAAC,OAAQ,CACxC,MAAM,IAAI,MAAM,gEAAgE,CAClF,CAEA,MAAM,WAAa,QAAQ,KAAK,EAChC,MAAM,YAAc,OAAO,SAAW,SAAW,OAAS,GAC1D,MAAM,QAAU,MAAM,KAAK,8BAA8B,QAAS,IAAK,KAAM,MAAM,EAEnF,GAAI,QAAQ,aAAc,CACxB,GAAI,CACF,MAAM,KAAK,mBAAmB,CAC5B,aAAc,QAAQ,aACtB,OACA,SAAU,WACZ,CAAC,CACH,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,QAAQ,KACN,gDACA,KAAK,SAAW,KAClB,CACF,CACF,CAEA,MAAM,eAAiB,MAAM,yBAAyB,QAAS,YAAa,IAAI,EAChF,GAAI,eAAgB,CAClB,MAAM,SAAW,uBAAuB,cAAc,EACtD,GAAI,SAAU,CACZ,KAAK,kBAAkB,QAAS,QAAQ,CAC1C,CACF,CAEA,MAAM,kBACJ,YAAY,OAAS,EAAI,GAAG,UAAU,IAAI,WAAW,WAAW,CAAC,GAAK,WAExE,KAAK,kBAAkB,QAAS,uBAAuB,iBAAiB,CAAC,EAEzE,MAAM,IAAM,SAAS,SAAS,KAAO,KACrC,MAAO,CACL,IACA,QAAS,WACT,UAAW,QAAQ,GACnB,gBAAiB,QAAQ,iBAAmB,KAC5C,UAAW,QAAQ,QAAQ,SAAS,EACpC,eAAgB,IAClB,CACF,CA1DsB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/agents.ts"],"sourcesContent":["import { createIsolatedTerminalSession, queueSessionInput } from './terminal-sessions.js';\nimport type { TerminalSession } from '../types/terminal.js';\nimport { runTmux } from './tmux.js';\nimport { savePlanToWorktree } from './plan-storage.js';\n\ntype AgentDependencies = {\n  createIsolatedTerminalSession: typeof createIsolatedTerminalSession;\n  queueSessionInput: typeof queueSessionInput;\n  runTmux: typeof runTmux;\n  savePlanToWorktree: typeof savePlanToWorktree;\n};\n\nconst baseDependencies: AgentDependencies = {\n  createIsolatedTerminalSession,\n  queueSessionInput,\n  runTmux,\n  savePlanToWorktree,\n};\n\nlet agentTestOverrides: Partial<AgentDependencies> | null = null;\n\nfunction resolveDependencies(): AgentDependencies {\n  return agentTestOverrides ? { ...baseDependencies, ...agentTestOverrides } : baseDependencies;\n}\n\nexport function __setAgentsTestOverrides(overrides?: Partial<AgentDependencies>): void {\n  agentTestOverrides = overrides ?? null;\n}\n\nfunction normaliseTerminalInput(value: unknown): string {\n  if (!value) {\n    return '';\n  }\n  const normalised = String(value).replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n').replace(/\\n/g, '\\r');\n  return /\\r$/.test(normalised) ? normalised : `${normalised}\\r`;\n}\n\nfunction shellQuote(value: unknown): string {\n  if (value === undefined || value === null) {\n    return \"''\";\n  }\n  const text = String(value);\n  if (text === '') {\n    return \"''\";\n  }\n  return `'${text.replace(/'/g, `'\\\\''`)}'`;\n}\n\nasync function preparePromptEnvironment(\n  session: TerminalSession,\n  prompt: string,\n  deps: AgentDependencies,\n): Promise<string | null> {\n  const value = typeof prompt === 'string' ? prompt : '';\n  if (session?.usingTmux && session.tmuxSessionName) {\n    const target = `=${session.tmuxSessionName}`;\n    try {\n      if (value) {\n        await deps.runTmux(['set-environment', '-t', target, 'AGENTRIX_PROMPT', value]);\n      } else {\n        await deps.runTmux(['set-environment', '-u', '-t', target, 'AGENTRIX_PROMPT']);\n      }\n      return null;\n    } catch (error: unknown) {\n      const err = error as { message?: string };\n      console.warn(\n        '[agentrix] Failed to set tmux environment variable:',\n        err?.message || error\n      );\n    }\n  }\n\n  if (!value) {\n    return 'unset AGENTRIX_PROMPT';\n  }\n  return `export AGENTRIX_PROMPT=${shellQuote(value)}`;\n}\n\nexport interface LaunchAgentParams {\n  command: string;\n  workdir: string;\n  org: string;\n  repo: string;\n  branch: string;\n  prompt: string;\n}\n\nexport interface LaunchAgentResult {\n  pid: number | null;\n  command: string;\n  sessionId: string;\n  tmuxSessionName: string | null;\n  usingTmux: boolean;\n  createdSession: boolean;\n}\n\n/**\n * Launches an automation agent command inside the managed terminal session for a worktree.\n * Commands run inside the same tmux-backed terminal infrastructure used by the UI so that\n * automation launches remain observable and attachable from the frontend.\n */\nexport async function launchAgentProcess({\n  command,\n  workdir,\n  org,\n  repo,\n  branch,\n  prompt,\n}: LaunchAgentParams): Promise<LaunchAgentResult> {\n  const deps = resolveDependencies();\n  if (!command || typeof command !== 'string' || !command.trim()) {\n    throw new Error('Agent command is required');\n  }\n  if (!workdir || !org || !repo || !branch) {\n    throw new Error('workdir, org, repo, and branch are required to launch an agent');\n  }\n\n  const executable = command.trim();\n  const promptValue = typeof prompt === 'string' ? prompt : '';\n  const session = await deps.createIsolatedTerminalSession(workdir, org, repo, branch);\n\n  if (session.worktreePath) {\n    try {\n      await deps.savePlanToWorktree({\n        worktreePath: session.worktreePath,\n        branch,\n        planText: promptValue,\n      });\n    } catch (error: unknown) {\n      const err = error as { message?: string };\n      console.warn(\n        '[agentrix] Failed to persist automation plan:',\n        err?.message || error\n      );\n    }\n  }\n\n  const envPreparation = await preparePromptEnvironment(session, promptValue, deps);\n  if (envPreparation) {\n    const envInput = normaliseTerminalInput(envPreparation);\n    if (envInput) {\n      deps.queueSessionInput(session, envInput);\n    }\n  }\n\n  const commandWithPrompt =\n    promptValue.length > 0 ? `${executable} ${shellQuote(promptValue)}` : executable;\n\n  deps.queueSessionInput(session, normaliseTerminalInput(commandWithPrompt));\n\n  const pid = session?.process?.pid ?? null;\n  return {\n    pid,\n    command: executable,\n    sessionId: session.id,\n    tmuxSessionName: session.tmuxSessionName ?? null,\n    usingTmux: Boolean(session.usingTmux),\n    createdSession: true,\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/repositories/git-status-repository.ts":{"lineLengths":[14053,21,36,396,0,43550],"data":{"version":3,"mappings":"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","names":["filePath"],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/repositories/git-status-repository.ts"],"sourcesContent":["import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport { executeGitCommandInRepo, GIT_BUFFER_SIZES } from './git-repository.js';\nimport { getWorktreePath } from './worktree-repository.js';\nimport { normalizeBranchName } from '../domain/index.js';\nimport type {\n  BranchSummary,\n  FileStatusEntry,\n  FileStatusCollection,\n  GitOperationState,\n  CommitCollection,\n  WorktreeStatus,\n  FileDiff,\n  GetWorktreeStatusOptions,\n  GetFileDiffOptions,\n} from '../types/git.js';\n\nconst CONFLICT_CODES = new Set(['DD', 'AU', 'UD', 'UA', 'DU', 'AA', 'UU']);\n\nconst STATUS_LABELS = new Map([\n  ['M', 'Modified'],\n  ['A', 'Added'],\n  ['D', 'Deleted'],\n  ['R', 'Renamed'],\n  ['C', 'Copied'],\n  ['T', 'Type Changed'],\n  ['U', 'Unmerged'],\n  ['?', 'Untracked'],\n]);\n\nconst DEFAULT_ENTRY_LIMIT = 200;\nconst DEFAULT_COMMIT_LIMIT = 10;\nconst DEFAULT_DIFF_LIMIT = GIT_BUFFER_SIZES.LARGE;\n\nconst POSIX_SEPARATOR = '/';\n\n/**\n * Checks if a path exists\n */\nasync function pathExists(targetPath: string): Promise<boolean> {\n  try {\n    await fs.access(targetPath);\n    return true;\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err && err.code === 'ENOENT') {\n      return false;\n    }\n    throw error;\n  }\n}\n\n/**\n * Reads a text file, returning null if it doesn't exist\n */\nasync function readTextFile(targetPath: string): Promise<string | null> {\n  try {\n    const data = await fs.readFile(targetPath, 'utf8');\n    return data.trim();\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err && err.code === 'ENOENT') {\n      return null;\n    }\n    throw error;\n  }\n}\n\n/**\n * Describes a status symbol\n */\nfunction describeStatusSymbol(symbol: string | undefined): string {\n  if (!symbol || symbol === ' ') {\n    return 'Updated';\n  }\n  return STATUS_LABELS.get(symbol) || 'Updated';\n}\n\n/**\n * Parses branch summary from git status --porcelain=2 --branch output\n */\nfunction parseBranchSummary(output: string): BranchSummary {\n  const summary: BranchSummary = {\n    oid: null,\n    head: null,\n    upstream: null,\n    ahead: 0,\n    behind: 0,\n    detached: false,\n    unborn: false,\n    mergeTarget: null,\n  };\n\n  if (!output) {\n    return summary;\n  }\n\n  output\n    .split(/\\n+/)\n    .map((line) => line.trim())\n    .filter(Boolean)\n    .forEach((line) => {\n      if (!line.startsWith('# ')) {\n        return;\n      }\n\n      const body = line.slice(2);\n\n      if (body.startsWith('branch.oid ')) {\n        summary.oid = body.slice('branch.oid '.length).trim() || null;\n        return;\n      }\n\n      if (body.startsWith('branch.head ')) {\n        const head = body.slice('branch.head '.length).trim();\n        summary.head = head === '(detached)' ? null : head;\n        summary.detached = head === '(detached)';\n        summary.unborn = head === '(unborn)';\n        return;\n      }\n\n      if (body.startsWith('branch.upstream ')) {\n        summary.upstream = body.slice('branch.upstream '.length).trim() || null;\n        return;\n      }\n\n      if (body.startsWith('branch.ab ')) {\n        const parts = body.slice('branch.ab '.length).trim().split(/\\s+/);\n        const aheadPart = parts.find((item) => item.startsWith('+'));\n        const behindPart = parts.find((item) => item.startsWith('-'));\n        if (aheadPart) {\n          const value = Number.parseInt(aheadPart.slice(1), 10);\n          summary.ahead = Number.isFinite(value) ? value : 0;\n        }\n        if (behindPart) {\n          const value = Number.parseInt(behindPart.slice(1), 10);\n          summary.behind = Number.isFinite(value) ? value : 0;\n        }\n        return;\n      }\n\n      if (body.startsWith('branch.merge ')) {\n        summary.mergeTarget = body.slice('branch.merge '.length).trim() || null;\n      }\n    });\n\n  return summary;\n}\n\n/**\n * Parses file statuses from git status --porcelain -z output\n */\nfunction parseFileStatuses(raw: string, entryLimit: number = DEFAULT_ENTRY_LIMIT): {\n  staged: FileStatusCollection;\n  unstaged: FileStatusCollection;\n  untracked: FileStatusCollection;\n  conflicts: FileStatusCollection;\n} {\n  const staged: FileStatusEntry[] = [];\n  const unstaged: FileStatusEntry[] = [];\n  const untracked: FileStatusEntry[] = [];\n  const conflicts: FileStatusEntry[] = [];\n\n  if (!raw) {\n    return {\n      staged: { items: [], total: 0, truncated: false },\n      unstaged: { items: [], total: 0, truncated: false },\n      untracked: { items: [], total: 0, truncated: false },\n      conflicts: { items: [], total: 0, truncated: false },\n    };\n  }\n\n  const entries = raw.split('\\0');\n  for (let index = 0; index < entries.length; index += 1) {\n    const entry = entries[index];\n    if (!entry) {\n      continue;\n    }\n\n    const code = entry.slice(0, 2);\n    if (code === '??') {\n      const filePath = entry.slice(3);\n      if (filePath) {\n        untracked.push({\n          path: filePath,\n          status: code,\n          kind: 'untracked',\n          description: 'Untracked',\n        });\n      }\n      continue;\n    }\n\n    if (code === '!!') {\n      // Ignored files are omitted from the summary.\n      continue;\n    }\n\n    const filePath = entry.slice(3);\n    const originalPath = code[0] === 'R' || code[0] === 'C' ? entries[index + 1] || null : null;\n    if (originalPath && (code[0] === 'R' || code[0] === 'C')) {\n      index += 1;\n    }\n\n    const baseRecord = {\n      path: filePath,\n      previousPath: originalPath,\n      status: code,\n      indexStatus: code[0],\n      worktreeStatus: code[1],\n    };\n\n    if (CONFLICT_CODES.has(code)) {\n      conflicts.push({\n        ...baseRecord,\n        kind: 'conflict',\n        description: 'Conflict',\n      });\n      continue;\n    }\n\n    if (baseRecord.indexStatus && baseRecord.indexStatus !== ' ') {\n      staged.push({\n        ...baseRecord,\n        kind: 'staged',\n        description: describeStatusSymbol(baseRecord.indexStatus),\n      });\n    }\n\n    if (baseRecord.worktreeStatus && baseRecord.worktreeStatus !== ' ') {\n      unstaged.push({\n        ...baseRecord,\n        kind: 'unstaged',\n        description: describeStatusSymbol(baseRecord.worktreeStatus),\n      });\n    }\n  }\n\n  const clamp = (list: FileStatusEntry[]) => ({\n    items: list.slice(0, entryLimit),\n    total: list.length,\n    truncated: list.length > entryLimit,\n  });\n\n  return {\n    staged: clamp(staged),\n    unstaged: clamp(unstaged),\n    untracked: clamp(untracked),\n    conflicts: clamp(conflicts),\n  };\n}\n\n/**\n * Resolves the remote default HEAD\n */\nasync function resolveRemoteDefaultHead(worktreePath: string): Promise<string | null> {\n  try {\n    const { stdout } = await executeGitCommandInRepo(\n      worktreePath,\n      ['symbolic-ref', 'refs/remotes/origin/HEAD'],\n      { maxBuffer: GIT_BUFFER_SIZES.SMALL }\n    );\n    const value = stdout.trim();\n    return value || null;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Checks if a ref exists\n */\nasync function refExists(worktreePath: string, ref: string | null): Promise<boolean> {\n  if (!ref) {\n    return false;\n  }\n  try {\n    await executeGitCommandInRepo(\n      worktreePath,\n      ['rev-parse', '--verify', `${ref}^{commit}`],\n      { maxBuffer: GIT_BUFFER_SIZES.SMALL }\n    );\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Resolves the baseline ref for comparing commits\n */\nasync function resolveBaselineRef(worktreePath: string, branchSummary: BranchSummary): Promise<string | null> {\n  const seen = new Set<string>();\n  const candidates: (string | null)[] = [];\n\n  if (branchSummary.mergeTarget) {\n    candidates.push(branchSummary.mergeTarget);\n  }\n\n  const remoteHead = await resolveRemoteDefaultHead(worktreePath);\n  if (remoteHead) {\n    candidates.push(remoteHead);\n  }\n\n  candidates.push('origin/main', 'origin/master', 'main', 'master');\n\n  for (const candidate of candidates) {\n    if (!candidate || seen.has(candidate)) {\n      continue;\n    }\n    seen.add(candidate);\n    if (branchSummary.head && candidate.replace(/^refs\\/heads\\//, '') === branchSummary.head) {\n      continue;\n    }\n    // eslint-disable-next-line no-await-in-loop\n    if (await refExists(worktreePath, candidate)) {\n      return candidate;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Detects in-progress git operations (merge, rebase, cherry-pick, etc.)\n */\nasync function detectInProgressOperations(gitDir: string): Promise<GitOperationState> {\n  if (!gitDir) {\n    return {\n      merge: { inProgress: false, message: null },\n      rebase: { inProgress: false, onto: null, headName: null, type: null, step: null, total: null },\n      cherryPick: { inProgress: false, head: null },\n      revert: { inProgress: false, head: null },\n      bisect: { inProgress: false },\n    };\n  }\n\n  const state: GitOperationState = {\n    merge: { inProgress: false, message: null },\n    rebase: { inProgress: false, onto: null, headName: null, type: null, step: null, total: null },\n    cherryPick: { inProgress: false, head: null },\n    revert: { inProgress: false, head: null },\n    bisect: { inProgress: false },\n  };\n\n  const mergeHeadPath = path.join(gitDir, 'MERGE_HEAD');\n  if (await pathExists(mergeHeadPath)) {\n    state.merge.inProgress = true;\n    state.merge.message = await readTextFile(path.join(gitDir, 'MERGE_MSG'));\n  }\n\n  const cherryPickHead = path.join(gitDir, 'CHERRY_PICK_HEAD');\n  if (await pathExists(cherryPickHead)) {\n    state.cherryPick.inProgress = true;\n    state.cherryPick.head = await readTextFile(cherryPickHead);\n  }\n\n  const revertHead = path.join(gitDir, 'REVERT_HEAD');\n  if (await pathExists(revertHead)) {\n    state.revert.inProgress = true;\n    state.revert.head = await readTextFile(revertHead);\n  }\n\n  const bisectLog = path.join(gitDir, 'BISECT_LOG');\n  if (await pathExists(bisectLog)) {\n    state.bisect.inProgress = true;\n  }\n\n  const rebaseMergeDir = path.join(gitDir, 'rebase-merge');\n  const rebaseApplyDir = path.join(gitDir, 'rebase-apply');\n\n  if (await pathExists(rebaseMergeDir)) {\n    state.rebase.inProgress = true;\n    state.rebase.type = 'merge' as const;\n    state.rebase.headName = await readTextFile(path.join(rebaseMergeDir, 'head-name'));\n    state.rebase.onto = await readTextFile(path.join(rebaseMergeDir, 'onto'));\n    const msg = await readTextFile(path.join(rebaseMergeDir, 'msgnum'));\n    const total = await readTextFile(path.join(rebaseMergeDir, 'end'));\n    state.rebase.step = msg ? Number.parseInt(msg, 10) || null : null;\n    state.rebase.total = total ? Number.parseInt(total, 10) || null : null;\n  } else if (await pathExists(rebaseApplyDir)) {\n    state.rebase.inProgress = true;\n    state.rebase.type = 'apply' as const;\n    state.rebase.headName = await readTextFile(path.join(rebaseApplyDir, 'head-name'));\n    state.rebase.onto = await readTextFile(path.join(rebaseApplyDir, 'onto'));\n    const msg = await readTextFile(path.join(rebaseApplyDir, 'msgnum'));\n    const total = await readTextFile(path.join(rebaseApplyDir, 'end'));\n    state.rebase.step = msg ? Number.parseInt(msg, 10) || null : null;\n    state.rebase.total = total ? Number.parseInt(total, 10) || null : null;\n  }\n\n  return state;\n}\n\n/**\n * Parses recent commits from git log output\n */\nfunction parseRecentCommits(raw: string, limit: number = DEFAULT_COMMIT_LIMIT): CommitCollection {\n  if (!raw) {\n    return { items: [], total: 0, truncated: false };\n  }\n\n  const lines = raw\n    .split('\\n')\n    .map((line) => line.trim())\n    .filter(Boolean);\n\n  const items = lines.map((line) => {\n    const [hash, author, relativeTime, subject] = line.split('\\x1f');\n    return {\n      hash: hash || '',\n      author: author || '',\n      relativeTime: relativeTime || '',\n      subject: subject || '',\n    };\n  });\n\n  return {\n    items: items.slice(0, limit),\n    total: items.length,\n    truncated: items.length > limit,\n  };\n}\n\n/**\n * Gets the status of a worktree\n * @param workdir - Work directory root\n * @param org - Organization name\n * @param repo - Repository name\n * @param branch - Branch name\n * @param options - Options\n * @returns Status object\n */\nexport async function getWorktreeStatus(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string,\n  { entryLimit = DEFAULT_ENTRY_LIMIT, commitLimit = DEFAULT_COMMIT_LIMIT }: GetWorktreeStatusOptions = {}\n): Promise<WorktreeStatus> {\n  const branchName = normalizeBranchName(branch);\n  if (!branchName) {\n    throw new Error('branch is required');\n  }\n\n  const { repositoryPath, worktreePath } = await getWorktreePath(workdir, org, repo, branchName);\n\n  let branchOutput;\n  let statusOutput;\n  let gitDirOutput;\n  let commitsOutput = '';\n\n  try {\n    const results = await Promise.allSettled([\n      executeGitCommandInRepo(worktreePath, ['status', '--porcelain=2', '--branch']),\n      executeGitCommandInRepo(worktreePath, ['status', '--porcelain', '-z']),\n      executeGitCommandInRepo(worktreePath, ['rev-parse', '--git-dir'], {\n        maxBuffer: GIT_BUFFER_SIZES.SMALL,\n      }),\n    ]);\n\n    const [branchResult, statusResult, gitDirResult] = results;\n\n    if (branchResult.status === 'fulfilled') {\n      branchOutput = branchResult.value.stdout;\n    } else {\n      throw branchResult.reason;\n    }\n\n    if (statusResult.status === 'fulfilled') {\n      statusOutput = statusResult.value.stdout;\n    } else {\n      throw statusResult.reason;\n    }\n\n    if (gitDirResult.status === 'fulfilled') {\n      gitDirOutput = gitDirResult.value.stdout.trim();\n    } else {\n      gitDirOutput = null;\n    }\n  } catch (error: unknown) {\n    const err = error as { message?: string };\n    const message = err && err.message ? err.message : 'Failed to read git status';\n    throw new Error(message);\n  }\n\n  const branchSummary = parseBranchSummary(branchOutput);\n  const fileStatuses = parseFileStatuses(statusOutput, entryLimit);\n\n  let resolvedGitDir = null;\n  if (gitDirOutput) {\n    resolvedGitDir = path.isAbsolute(gitDirOutput)\n      ? gitDirOutput\n      : path.resolve(worktreePath, gitDirOutput);\n  }\n\n  const operations = await detectInProgressOperations(resolvedGitDir || '');\n\n  if (commitLimit > 0) {\n    const fetchLimit = Math.max(commitLimit * 2, commitLimit);\n    const includeRefs = ['HEAD'];\n    const excludeRefs = [];\n\n    if (branchSummary.upstream) {\n      excludeRefs.push(branchSummary.upstream);\n    } else if (\n      branchSummary.head &&\n      branchSummary.head.toLowerCase() !== 'main' &&\n      !branchSummary.detached\n    ) {\n      const baseline = await resolveBaselineRef(worktreePath, branchSummary);\n      if (baseline) {\n        excludeRefs.push(baseline);\n      }\n    }\n\n    const logArgs = [\n      'log',\n      '--pretty=format:%H%x1f%an%x1f%ar%x1f%s',\n      '--max-count',\n      String(fetchLimit),\n      ...includeRefs,\n    ];\n\n    excludeRefs.forEach((ref) => {\n      logArgs.push('--not', ref);\n    });\n\n    try {\n      const { stdout } = await executeGitCommandInRepo(worktreePath, logArgs);\n      commitsOutput = stdout;\n    } catch {\n      commitsOutput = '';\n    }\n  }\n\n  const recentCommits = parseRecentCommits(commitsOutput, commitLimit);\n\n  return {\n    fetchedAt: new Date().toISOString(),\n    org,\n    repo,\n    branch: branchName,\n    repositoryPath,\n    worktreePath,\n    branchSummary,\n    files: fileStatuses,\n    operations,\n    commits: recentCommits,\n    totals: {\n      staged: fileStatuses.staged.total,\n      unstaged: fileStatuses.unstaged.total,\n      untracked: fileStatuses.untracked.total,\n      conflicts: fileStatuses.conflicts.total,\n    },\n  };\n}\n\n/**\n * Normalizes a git path (relative to worktree)\n */\nfunction normaliseGitPath(input: string): string {\n  if (typeof input !== 'string') {\n    throw new Error('path is required');\n  }\n\n  const trimmed = input.trim();\n  if (!trimmed) {\n    throw new Error('path is required');\n  }\n\n  if (path.isAbsolute(trimmed)) {\n    throw new Error('path must be relative to the worktree');\n  }\n\n  const sanitised = trimmed.split(/\\\\+/).join(POSIX_SEPARATOR);\n  const normalised = path.posix.normalize(sanitised);\n\n  if (\n    !normalised ||\n    normalised === '.' ||\n    normalised.startsWith('../') ||\n    normalised.includes('/../')\n  ) {\n    throw new Error('Invalid path');\n  }\n\n  return normalised;\n}\n\n/**\n * Resolves the diff mode from file metadata\n */\nfunction resolveDiffMode({ mode, kind, status }: { mode?: string; kind?: string; status?: string }): 'staged' | 'unstaged' | 'untracked' | 'conflict' {\n  if (mode === 'staged') {\n    return 'staged';\n  }\n  if (mode === 'untracked' || kind === 'untracked') {\n    return 'untracked';\n  }\n  if (mode === 'conflict' || kind === 'conflict') {\n    return 'conflict';\n  }\n  if (mode === 'staged' || kind === 'staged' || (status && status[0] && status[0] !== ' ')) {\n    return 'staged';\n  }\n  return 'unstaged';\n}\n\n/**\n * Gets the diff for a file in a worktree\n * @param workdir - Work directory root\n * @param org - Organization name\n * @param repo - Repository name\n * @param branch - Branch name\n * @param options - Options\n * @returns Diff object\n */\nexport async function getWorktreeFileDiff(\n  workdir: string,\n  org: string,\n  repo: string,\n  branch: string,\n  { path: targetPath, previousPath, mode, status }: GetFileDiffOptions = {}\n): Promise<FileDiff> {\n  const branchName = normalizeBranchName(branch);\n  if (!branchName) {\n    throw new Error('branch is required');\n  }\n\n  const relativePath = normaliseGitPath(targetPath || '');\n  const previousRelativePath = previousPath ? normaliseGitPath(previousPath) : null;\n\n  const { worktreePath } = await getWorktreePath(workdir, org, repo, branchName);\n  const diffMode = resolveDiffMode({ mode, kind: mode, status });\n\n  let stdout = '';\n  let stderr = '';\n\n  try {\n    if (diffMode === 'staged') {\n      const { stdout: out } = await executeGitCommandInRepo(worktreePath, [\n        'diff',\n        '--no-color',\n        '--cached',\n        '--',\n        relativePath,\n      ], {\n        maxBuffer: DEFAULT_DIFF_LIMIT,\n      });\n      stdout = out;\n    } else if (diffMode === 'untracked') {\n      const { execFile } = await import('node:child_process');\n      const { promisify } = await import('node:util');\n      const execFileAsync = promisify(execFile);\n      const absolutePath = path.join(worktreePath, relativePath);\n      const nullDevice = process.platform === 'win32' ? 'NUL' : '/dev/null';\n      const { stdout: out } = await execFileAsync('git', [\n        'diff',\n        '--no-color',\n        '--no-index',\n        '--',\n        nullDevice,\n        absolutePath,\n      ], { maxBuffer: DEFAULT_DIFF_LIMIT });\n      stdout = out;\n    } else {\n      const { stdout: out } = await executeGitCommandInRepo(worktreePath, [\n        'diff',\n        '--no-color',\n        '--',\n        relativePath,\n      ], {\n        maxBuffer: DEFAULT_DIFF_LIMIT,\n      });\n      stdout = out;\n    }\n  } catch (error: unknown) {\n    const err = error as { stderr?: Buffer | string; stdout?: Buffer | string; message?: string };\n    stderr = err && err.stderr ? err.stderr.toString() : '';\n    stdout = err && err.stdout ? err.stdout.toString() : '';\n    if (!stdout.trim()) {\n      const message = stderr || err.message || 'Failed to render diff';\n      throw new Error(message.trim());\n    }\n  }\n\n  if (diffMode === 'untracked' && stdout.trim()) {\n    stdout = stdout\n      .replace(/^---\\s+.*$/m, '--- /dev/null')\n      .replace(/^\\+\\+\\+\\s+.*$/m, `+++ b/${relativePath}`);\n  }\n\n  if (!stdout.trim()) {\n    if (diffMode === 'untracked') {\n      try {\n        const absolutePath = path.join(worktreePath, relativePath);\n        const data = await fs.readFile(absolutePath, 'utf8');\n        const lines = data.split('\\n');\n        const diffLines = lines.map((line) => `+${line}`).join('\\n');\n        const totalLines = lines.length;\n        return {\n          path: relativePath,\n          previousPath: previousRelativePath,\n          mode: diffMode,\n          diff: `--- /dev/null\\n+++ b/${relativePath}\\n@@ -0,0 +1,${Math.max(totalLines, 1)}\\n${diffLines}`,\n        };\n      } catch (error: unknown) {\n        const err = error as { message?: string };\n        throw new Error(err.message || 'Failed to read file contents');\n      }\n    }\n\n    return {\n      path: relativePath,\n      previousPath: previousRelativePath,\n      mode: diffMode,\n      diff: 'No differences to display.',\n    };\n  }\n\n  return {\n    path: relativePath,\n    previousPath: previousRelativePath,\n    mode: diffMode,\n    diff: stdout,\n  };\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/automation/git-orchestration.ts":{"lineLengths":[1493,0,5238],"data":{"version":3,"mappings":"kHAGA,OAAS,2BAA8B,kCA6BvC,eAAsB,sBAAsB,CAC1C,uBACA,QACA,IACA,IACF,EAAgG,CAC9F,KAAM,CAAE,eAAgB,MAAO,EAAI,MAAM,uBAAuB,QAAS,IAAK,IAAI,EAClF,MAAO,CAAE,eAAgB,iBAAkB,MAAO,CACpD,CARsB,sDAUtB,eAAsB,oBAAoB,CACxC,qBACA,QACA,IACA,KACA,OACA,qBACF,EAA2F,CACzF,KAAM,CAAE,aAAc,OAAQ,EAAI,MAAM,qBAAqB,QAAS,IAAK,KAAM,OAAQ,CACvF,qBACF,CAAC,EAED,MAAO,CAAE,aAAc,gBAAiB,OAAQ,CAClD,CAbsB,kDAetB,eAAsB,uBAAuB,CAC3C,aACA,OACF,EAAgD,CAC9C,MAAM,aAAa,OAAO,CAC5B,CALsB,wDAaf,SAAS,sBAAsB,CACpC,uBACA,qBACA,aAAe,sBACjB,EAA2C,CACzC,MAAO,CACL,sBAAuB,OAAC,MACtB,sBAAsB,CAAE,uBAAwB,GAAG,IAAK,CAAC,EADpC,yBAEvB,oBAAqB,OAAC,MACpB,oBAAoB,CAAE,qBAAsB,GAAG,IAAK,CAAC,EADlC,uBAErB,uBAAwB,OAAC,MACvB,uBAAuB,CAAE,aAAc,GAAG,IAAK,CAAC,EAD1B,yBAE1B,CACF,CAbgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/automation/git-orchestration.ts"],"sourcesContent":["/**\n * Git/worktree orchestration helpers used by the automation task runner.\n */\nimport { refreshRepositoryCache } from '../../utils/repository-cache.js';\n\nexport interface EnsureRepositoryReadyParams {\n  ensureRepositoryExists: (workdir: string, org: string, repo: string) => Promise<{ repositoryPath: string; cloned: boolean }>;\n  workdir: string;\n  org: string;\n  repo: string;\n}\n\nexport interface EnsureWorktreeReadyParams {\n  ensureWorktreeExists: (workdir: string, org: string, repo: string, branch: string, options?: unknown) => Promise<{ worktreePath: string; created: boolean }>;\n  workdir: string;\n  org: string;\n  repo: string;\n  branch: string;\n  defaultBranchOverride?: string;\n}\n\nexport interface RefreshRepositoryViewsParams {\n  refreshCache: (workdir: string) => Promise<unknown>;\n  workdir: string;\n}\n\nexport interface GitOrchestrator {\n  ensureRepositoryReady(args: Omit<EnsureRepositoryReadyParams, 'ensureRepositoryExists'>): Promise<{ repositoryPath: string; clonedRepository: boolean }>;\n  ensureWorktreeReady(args: Omit<EnsureWorktreeReadyParams, 'ensureWorktreeExists'>): Promise<{ worktreePath: string; createdWorktree: boolean }>;\n  refreshRepositoryViews(args: Omit<RefreshRepositoryViewsParams, 'refreshCache'>): Promise<void>;\n}\n\nexport async function ensureRepositoryReady({\n  ensureRepositoryExists,\n  workdir,\n  org,\n  repo,\n}: EnsureRepositoryReadyParams): Promise<{ repositoryPath: string; clonedRepository: boolean }> {\n  const { repositoryPath, cloned } = await ensureRepositoryExists(workdir, org, repo);\n  return { repositoryPath, clonedRepository: cloned };\n}\n\nexport async function ensureWorktreeReady({\n  ensureWorktreeExists,\n  workdir,\n  org,\n  repo,\n  branch,\n  defaultBranchOverride,\n}: EnsureWorktreeReadyParams): Promise<{ worktreePath: string; createdWorktree: boolean }> {\n  const { worktreePath, created } = await ensureWorktreeExists(workdir, org, repo, branch, {\n    defaultBranchOverride,\n  });\n\n  return { worktreePath, createdWorktree: created };\n}\n\nexport async function refreshRepositoryViews({\n  refreshCache,\n  workdir,\n}: RefreshRepositoryViewsParams): Promise<void> {\n  await refreshCache(workdir);\n}\n\nexport interface GitOrchestratorConfig {\n  ensureRepositoryExists: EnsureRepositoryReadyParams['ensureRepositoryExists'];\n  ensureWorktreeExists: EnsureWorktreeReadyParams['ensureWorktreeExists'];\n  refreshCache?: RefreshRepositoryViewsParams['refreshCache'];\n}\n\nexport function createGitOrchestrator({\n  ensureRepositoryExists,\n  ensureWorktreeExists,\n  refreshCache = refreshRepositoryCache,\n}: GitOrchestratorConfig): GitOrchestrator {\n  return {\n    ensureRepositoryReady: (args) =>\n      ensureRepositoryReady({ ensureRepositoryExists, ...args }),\n    ensureWorktreeReady: (args) =>\n      ensureWorktreeReady({ ensureWorktreeExists, ...args }),\n    refreshRepositoryViews: (args) =>\n      refreshRepositoryViews({ refreshCache, ...args }),\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/automation/task-runner.ts":{"lineLengths":[6482,0,21214],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/automation/task-runner.ts"],"sourcesContent":["/**\n * Coordinates the asynchronous automation launch task, updating task progress and metadata.\n */\n\nexport const TASK_TYPE_AUTOMATION = 'automation:launch';\n\nexport const STEP_IDS = Object.freeze({\n  ENSURE_REPO: 'ensure-repository',\n  GENERATE_PLAN: 'generate-plan',\n  ENSURE_WORKTREE: 'ensure-worktree',\n  LAUNCH_AGENT: 'launch-agent',\n  REFRESH_REPOS: 'refresh-repositories',\n});\n\nexport const STEP_LABELS = Object.freeze({\n  [STEP_IDS.ENSURE_REPO]: 'Ensure repository',\n  [STEP_IDS.GENERATE_PLAN]: 'Generate plan',\n  [STEP_IDS.ENSURE_WORKTREE]: 'Ensure worktree',\n  [STEP_IDS.LAUNCH_AGENT]: 'Launch agent',\n  [STEP_IDS.REFRESH_REPOS]: 'Refresh repositories',\n});\n\nexport interface RunAutomationTaskParams {\n  runTaskImpl: (config: unknown, executor: (context: unknown) => Promise<unknown>) => Promise<unknown>;\n  resolveBranchName: (params: unknown) => Promise<unknown>;\n  generatePlanText: (params: unknown) => Promise<unknown>;\n  gitOrchestrator: unknown;\n  launchAgent: (params: unknown) => Promise<void>;\n  workdir: string;\n  planEnabled: boolean;\n  routeLabel: string;\n  prompt: string;\n  org: string;\n  repo: string;\n  agent: string;\n  requestId: string;\n  worktreeInput?: string;\n  branchNameGenerator: unknown;\n  defaultBranches: unknown;\n  planService: unknown;\n  finishSuccess: (response: unknown) => void;\n  finishFailure: (error: unknown) => void;\n  onBranchResolved?: (branch: string) => void;\n}\n\nexport async function runAutomationTask({\n  runTaskImpl,\n  resolveBranchName,\n  generatePlanText,\n  gitOrchestrator,\n  launchAgent,\n  workdir,\n  planEnabled,\n  routeLabel,\n  prompt,\n  org,\n  repo,\n  agent,\n  requestId,\n  worktreeInput,\n  branchNameGenerator,\n  defaultBranches,\n  planService,\n  finishSuccess,\n  finishFailure,\n  onBranchResolved,\n}: RunAutomationTaskParams): Promise<void> {\n  if (typeof runTaskImpl !== 'function') {\n    throw new Error('runTask implementation is required');\n  }\n  if (!gitOrchestrator) {\n    throw new Error('git orchestrator is required');\n  }\n\n  const orchestrator = gitOrchestrator as {\n    ensureRepositoryReady: (workdir: string, org: string, repo: string) => Promise<{ repositoryPath: string; cloned: boolean }>;\n    ensureWorktreeReady: (workdir: string, org: string, repo: string, branch: string, options?: unknown) => Promise<{ worktreePath: string; created: boolean }>;\n    refreshRepositoryViews: (workdir: string) => Promise<void>;\n  };\n  const { ensureRepositoryReady, ensureWorktreeReady, refreshRepositoryViews } = orchestrator;\n\n  const branchResult = await resolveBranchName({\n    worktreeInput,\n    branchNameGenerator,\n    prompt,\n    org,\n    repo,\n    defaultBranches,\n  }) as { branch: string; defaultBranchOverride?: string; source: string };\n  const { branch, defaultBranchOverride } = branchResult;\n\n  if (typeof onBranchResolved === 'function') {\n    onBranchResolved(branch);\n  }\n\n  const agentData = agent as unknown as { key: string; command: string };\n  const taskMetadata = {\n    automationRequestId: requestId,\n    planEnabled,\n    promptProvided: Boolean(prompt.trim()),\n    org,\n    repo,\n    branch,\n    command: agentData.key,\n    status: 'pending',\n  };\n\n  const taskResult = runTaskImpl(\n    {\n      type: TASK_TYPE_AUTOMATION,\n      title: `Automation launch for ${org}/${repo}`,\n      metadata: taskMetadata,\n    },\n    async (context: unknown) => {\n      const ctx = context as {\n        progress: {\n          ensureStep: (id: string, label: string) => void;\n          startStep: (id: string, options: { label: string; message: string }) => void;\n          completeStep: (id: string, options: { label: string; message: string }) => void;\n          failStep: (id: string, options: { label: string; message: string }) => void;\n          skipStep: (id: string, options: { label: string; message: string }) => void;\n        };\n        setResult: (result: unknown) => void;\n        updateMetadata: (update: unknown) => void;\n      };\n      const { progress, setResult, updateMetadata } = ctx;\n      const finalData: {\n        org: string;\n        repo: string;\n        branch: string;\n        plan: boolean;\n        promptRoute: string;\n        automationRequestId: string;\n        agent: string;\n        agentCommand: unknown;\n        repositoryPath: string | null;\n        worktreePath: string | null;\n        clonedRepository: boolean;\n        createdWorktree: boolean;\n        pid: number | null;\n        terminalSessionId: string | null;\n        terminalSessionCreated: boolean;\n        tmuxSessionName: string | null;\n        terminalUsingTmux: boolean;\n      } = {\n        org,\n        repo,\n        branch,\n        plan: planEnabled,\n        promptRoute: routeLabel,\n        automationRequestId: requestId,\n        agent: agentData.key,\n        agentCommand: agentData.command,\n        repositoryPath: null,\n        worktreePath: null,\n        clonedRepository: false,\n        createdWorktree: false,\n        pid: null,\n        terminalSessionId: null,\n        terminalSessionCreated: false,\n        tmuxSessionName: null,\n        terminalUsingTmux: false,\n      };\n\n      let currentStep: string | null = null;\n      const startStep = (id: string, message: string): void => {\n        currentStep = id;\n        progress.startStep(id, { label: STEP_LABELS[id as keyof typeof STEP_LABELS], message });\n      };\n      const completeStep = (id: string, message: string): void => {\n        progress.completeStep(id, { label: STEP_LABELS[id as keyof typeof STEP_LABELS], message });\n        if (currentStep === id) {\n          currentStep = null;\n        }\n      };\n      const failCurrentStep = (message: string): void => {\n        if (!currentStep) {\n          return;\n        }\n        progress.failStep(currentStep, { label: STEP_LABELS[currentStep as keyof typeof STEP_LABELS], message });\n        currentStep = null;\n      };\n\n      progress.ensureStep(STEP_IDS.ENSURE_REPO, STEP_LABELS[STEP_IDS.ENSURE_REPO]);\n      progress.ensureStep(STEP_IDS.GENERATE_PLAN, STEP_LABELS[STEP_IDS.GENERATE_PLAN]);\n      progress.ensureStep(STEP_IDS.ENSURE_WORKTREE, STEP_LABELS[STEP_IDS.ENSURE_WORKTREE]);\n      progress.ensureStep(STEP_IDS.LAUNCH_AGENT, STEP_LABELS[STEP_IDS.LAUNCH_AGENT]);\n      progress.ensureStep(STEP_IDS.REFRESH_REPOS, STEP_LABELS[STEP_IDS.REFRESH_REPOS]);\n\n      updateMetadata({ status: 'running' });\n\n      try {\n        startStep(STEP_IDS.ENSURE_REPO, 'Ensuring repository exists.');\n        const repoResult = await ensureRepositoryReady(workdir, org, repo);\n        const { repositoryPath, cloned: clonedRepository } = repoResult;\n        finalData.repositoryPath = repositoryPath as never;\n        finalData.clonedRepository = clonedRepository as never;\n        updateMetadata({ repositoryPath, clonedRepository });\n        completeStep(\n          STEP_IDS.ENSURE_REPO,\n          clonedRepository ? 'Repository cloned successfully.' : 'Repository is ready.',\n        );\n\n        let effectivePrompt = prompt;\n        if (planEnabled) {\n          startStep(STEP_IDS.GENERATE_PLAN, 'Generating plan text.');\n          try {\n            const planResult = (await generatePlanText({\n              planEnabled,\n              prompt,\n              planService,\n              repositoryPath,\n            })) as { promptToExecute: string; planGenerated: boolean };\n            effectivePrompt = planResult.promptToExecute;\n            completeStep(STEP_IDS.GENERATE_PLAN, 'Plan generated successfully.');\n          } catch (error) {\n            const message = error instanceof Error ? error.message : String(error);\n            failCurrentStep(message);\n            updateMetadata({ status: 'failed', error: message });\n            throw error instanceof Error ? error : new Error(message);\n          }\n        } else {\n          progress.skipStep(STEP_IDS.GENERATE_PLAN, {\n            label: STEP_LABELS[STEP_IDS.GENERATE_PLAN],\n            message: 'Plan generation disabled for this request.',\n          });\n        }\n\n        startStep(STEP_IDS.ENSURE_WORKTREE, 'Ensuring worktree is available.');\n        const worktreeResult = await ensureWorktreeReady(workdir, org, repo, branch, { defaultBranchOverride });\n        const { worktreePath, created: createdWorktree } = worktreeResult;\n        finalData.worktreePath = worktreePath as never;\n        finalData.createdWorktree = createdWorktree as never;\n        updateMetadata({ worktreePath, createdWorktree });\n        completeStep(\n          STEP_IDS.ENSURE_WORKTREE,\n          createdWorktree ? 'Worktree created successfully.' : 'Worktree already existed.',\n        );\n\n        startStep(STEP_IDS.REFRESH_REPOS, 'Refreshing repository view.');\n        try {\n          await refreshRepositoryViews(workdir);\n          completeStep(STEP_IDS.REFRESH_REPOS, 'Repository view updated.');\n        } catch (error: unknown) {\n          const message = error instanceof Error ? error.message : String(error);\n          failCurrentStep(message);\n          updateMetadata({ status: 'failed', error: message });\n          finishFailure(error);\n          throw error instanceof Error ? error : new Error(message);\n        }\n\n        startStep(STEP_IDS.LAUNCH_AGENT, 'Launching agent command.');\n        const launchResult = (await launchAgent({\n          command: agentData.command,\n          workdir,\n          org,\n          repo,\n          branch,\n          prompt: effectivePrompt,\n        }) as unknown) as {\n          pid: number | null;\n          sessionId: string;\n          tmuxSessionName: string | null;\n          usingTmux: boolean;\n          createdSession: boolean;\n        };\n        const {\n          pid,\n          sessionId,\n          tmuxSessionName,\n          usingTmux,\n          createdSession,\n        } = launchResult;\n\n        finalData.pid = pid;\n        finalData.terminalSessionId = sessionId;\n        finalData.terminalSessionCreated = createdSession;\n        finalData.tmuxSessionName = tmuxSessionName;\n        finalData.terminalUsingTmux = usingTmux;\n\n        updateMetadata({\n          pid,\n          terminalSessionId: sessionId,\n          terminalSessionCreated: createdSession,\n          tmuxSessionName,\n          terminalUsingTmux: usingTmux,\n        });\n\n        completeStep(STEP_IDS.LAUNCH_AGENT, 'Agent launched successfully.');\n\n        finishSuccess(`${org}/${repo}#${branch}`);\n        updateMetadata({ status: 'succeeded' });\n        setResult(finalData);\n        return finalData;\n      } catch (error: unknown) {\n        const message = error instanceof Error ? error.message : String(error);\n        failCurrentStep(message);\n        updateMetadata({ status: 'failed', error: message });\n        finishFailure(error);\n        if (!(error instanceof Error)) {\n          throw new Error(message);\n        }\n        throw error;\n      }\n    },\n  );\n\n  const queuedData = {\n    org,\n    repo,\n    branch,\n    repositoryPath: null,\n    worktreePath: null,\n    clonedRepository: null,\n    createdWorktree: null,\n    agent: agentData.key,\n    agentCommand: agentData.command,\n    pid: null,\n    terminalSessionId: null,\n    terminalSessionCreated: false,\n    tmuxSessionName: null,\n    terminalUsingTmux: false,\n    plan: planEnabled,\n    promptRoute: routeLabel,\n    automationRequestId: requestId,\n  };\n\n  const task = (await taskResult) as unknown as { id: string };\n  return { taskId: task.id, queuedData, branch } as never;\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/logging/index.ts":{"lineLengths":[99,0,458],"data":{"version":3,"mappings":"AAAA,OAAS,aAAc,wBAA2B","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/logging/index.ts"],"sourcesContent":["export { createLogger, createConsoleLogger } from './logger.js';\nexport type { Logger } from './logger.js';\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/automation/request-validation.ts":{"lineLengths":[4746,0,12566],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/automation/request-validation.ts"],"sourcesContent":["import { normaliseBranchName } from '../git.js';\n\n/**\n * Helpers for validating inbound automation API requests and normalising payload data.\n */\n\nexport class AutomationRequestError extends Error {\n  status: number;\n  override cause?: unknown;\n  \n  constructor(status: number, message: string, cause?: unknown) {\n    super(message);\n    this.name = 'AutomationRequestError';\n    this.status = status;\n    if (cause) {\n      this.cause = cause;\n    }\n  }\n}\n\nexport function extractApiKey(req: { headers?: Record<string, string | string[] | undefined> }): string {\n  const apiKeyHeader = req.headers?.['x-api-key'];\n  if (typeof apiKeyHeader === 'string' && apiKeyHeader.trim()) {\n    return apiKeyHeader.trim();\n  }\n\n  const authHeader = req.headers?.['authorization'];\n  if (typeof authHeader === 'string') {\n    const trimmed = authHeader.trim();\n    if (/^bearer\\s+/i.test(trimmed)) {\n      return trimmed.replace(/^bearer\\s+/i, '').trim();\n    }\n  }\n\n  return '';\n}\n\nexport async function parseRequestPayload(readJsonBody: () => Promise<unknown>): Promise<unknown> {\n  try {\n    return await readJsonBody();\n  } catch (error: unknown) {\n    const message = error instanceof Error ? error.message : 'Invalid JSON payload';\n    throw new AutomationRequestError(400, message, error instanceof Error ? error : undefined);\n  }\n}\n\nexport function parsePlanFlag(value: unknown): boolean {\n  if (value === undefined) {\n    return true;\n  }\n  if (typeof value === 'boolean') {\n    return value;\n  }\n  throw new AutomationRequestError(400, 'plan must be a boolean');\n}\n\nexport function validatePrompt(rawPrompt: unknown): string {\n  if (rawPrompt === undefined) {\n    return '';\n  }\n\n  if (typeof rawPrompt !== 'string') {\n    throw new AutomationRequestError(400, 'prompt must be a string');\n  }\n\n  return rawPrompt;\n}\n\nexport function parseRepoIdentifier(input: unknown): { org: string; repo: string } {\n  if (typeof input !== 'string' || !input.trim()) {\n    throw new AutomationRequestError(\n      400,\n      'repo must be provided in the format \"org/repository\"',\n    );\n  }\n\n  const cleaned = input.trim().replace(/\\.git$/i, '');\n  const segments = cleaned.split('/').filter(Boolean);\n\n  if (segments.length !== 2) {\n    throw new AutomationRequestError(\n      400,\n      'repo must be provided in the format \"org/repository\"',\n    );\n  }\n\n  return { org: segments[0]!, repo: segments[1]! };\n}\n\nexport function sanitiseWorktreeDescriptor(worktreeDescriptor: unknown): string {\n  if (typeof worktreeDescriptor !== 'string' || !worktreeDescriptor.trim()) {\n    throw new AutomationRequestError(400, 'worktree must be provided as \"type/title\"');\n  }\n\n  const parts = worktreeDescriptor\n    .split('/')\n    .map((part) => part.trim())\n    .filter(Boolean);\n\n  if (parts.length < 2) {\n    throw new AutomationRequestError(\n      400,\n      'worktree must include both type and title separated by \"/\"',\n    );\n  }\n\n  const slugify = (value: string): string =>\n    value\n      .toLowerCase()\n      .replace(/[^a-z0-9._-]+/gi, '-')\n      .replace(/-+/g, '-')\n      .replace(/^-+|-+$/g, '');\n\n  const segments: string[] = parts.map((part): string => {\n    const slug = slugify(part);\n    if (!slug) {\n      throw new AutomationRequestError(\n        400,\n        'worktree name segments must include alphanumeric characters',\n      );\n    }\n    return slug;\n  });\n\n  const branchName = normaliseBranchName(segments.join('/'));\n  if (!branchName) {\n    throw new AutomationRequestError(400, 'Derived branch name is empty');\n  }\n  if (branchName.toLowerCase() === 'main') {\n    throw new AutomationRequestError(400, 'worktree branch \"main\" is not allowed');\n  }\n\n  return branchName;\n}\n\nexport function resolveAgentCommand(agentCommands: unknown, requested: unknown): { key: string; command: unknown } {\n  const key = typeof requested === 'string' ? requested.trim().toLowerCase() : '';\n  if (!key) {\n    throw new AutomationRequestError(400, 'command must be one of: codex, cursor, claude');\n  }\n\n  const commands = agentCommands as Record<string, unknown>;\n  const mapping: Record<string, unknown> = {\n    codex: commands?.['codexDangerous'] || commands?.['codex'],\n    cursor: commands?.['cursor'],\n    claude: commands?.['claudeDangerous'] || commands?.['claude'],\n  };\n\n  const command = mapping[key as keyof typeof mapping];\n  if (!command) {\n    throw new AutomationRequestError(\n      400,\n      `Unsupported command \"${requested}\". Expected codex, cursor, or claude.`,\n    );\n  }\n\n  return { key, command: command as string };\n}\n\nexport interface ValidateAutomationRequestParams {\n  req: { headers?: Record<string, string | string[] | undefined> };\n  expectedApiKey: string;\n  readJsonBody: () => Promise<unknown>;\n  agentCommands: unknown;\n}\n\nexport async function validateAutomationRequest({\n  req,\n  expectedApiKey,\n  readJsonBody,\n  agentCommands,\n}: ValidateAutomationRequestParams): Promise<{\n  payload: unknown;\n  planEnabled: boolean;\n  routeLabel: string;\n  org: string;\n  repo: string;\n  agent: { key: string; command: unknown };\n  prompt: string;\n  worktreeInput: string;\n}> {\n  if (!expectedApiKey) {\n    throw new AutomationRequestError(\n      503,\n      'Automation API is not configured (missing API key)',\n    );\n  }\n\n  const providedKey = extractApiKey(req);\n  if (providedKey !== expectedApiKey) {\n    throw new AutomationRequestError(401, 'Invalid API key');\n  }\n\n  const payload = await parseRequestPayload(readJsonBody) as Record<string, unknown>;\n  const planEnabled = parsePlanFlag(payload['plan']);\n  const routeLabel = planEnabled ? 'create-plan' : 'passthrough';\n\n  const prompt = validatePrompt(payload['prompt']);\n  const { org, repo } = parseRepoIdentifier(payload['repo']);\n\n  const worktreeInput =\n    typeof payload['worktree'] === 'string' ? payload['worktree'].trim() : '';\n\n  const agent = resolveAgentCommand(agentCommands, payload['command']);\n\n  return {\n    payload,\n    planEnabled,\n    routeLabel,\n    prompt,\n    org,\n    repo,\n    worktreeInput,\n    agent,\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/automation/branch.ts":{"lineLengths":[1271,0,3750],"data":{"version":3,"mappings":"kHAAA,OAAS,gCAAmC,uBAC5C,OACE,uBACA,+BACK,0BAqBP,eAAsB,kBAAkB,CACtC,cACA,oBACA,OACA,IACA,KACA,eACF,EAA8D,CAC5D,MAAM,sBAAwB,4BAA4B,gBAAiB,IAAK,IAAI,EAEpF,GAAI,cAAe,CACjB,MAAM,OAAS,2BAA2B,aAAa,EACvD,MAAO,CAAE,OAAQ,sBAAuB,OAAQ,UAAW,CAC7D,CAEA,MAAM,UAAY,oBAClB,GAAI,CAAC,WAAa,CAAC,UAAU,aAAc,CACzC,MAAM,IAAI,uBACR,IACA,wIACF,CACF,CAEA,GAAI,CACF,MAAM,OAAS,MAAM,UAAU,mBAAoB,CACjD,OACA,IACA,IACF,CAAC,EAED,GAAI,CAAC,OAAQ,CACX,MAAM,IAAI,uBAAuB,IAAK,kCAAkC,CAC1E,CAEA,MAAO,CAAE,OAAQ,sBAAuB,OAAQ,WAAY,CAC9D,OAAS,MAAgB,CACvB,MAAM,QAAU,iBAAiB,MAAQ,MAAM,QAAU,OAAO,KAAK,EACrE,MAAM,IAAI,uBACR,IACA,QACA,iBAAiB,MAAQ,MAAQ,MACnC,CACF,CACF,CA3CsB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/automation/branch.ts"],"sourcesContent":["import { selectDefaultBranchOverride } from '../default-branch.js';\nimport {\n  AutomationRequestError,\n  sanitiseWorktreeDescriptor,\n} from './request-validation.js';\n\n/**\n * Branch resolution for automation requests, whether supplied by the client or generated.\n */\n\nexport interface ResolveBranchNameParams {\n  worktreeInput?: string;\n  branchNameGenerator: unknown;\n  prompt: string;\n  org: string;\n  repo: string;\n  defaultBranches: unknown;\n}\n\nexport interface ResolveBranchNameResult {\n  branch: string;\n  defaultBranchOverride?: string;\n  source: 'worktree' | 'generator';\n}\n\nexport async function resolveBranchName({\n  worktreeInput,\n  branchNameGenerator,\n  prompt,\n  org,\n  repo,\n  defaultBranches,\n}: ResolveBranchNameParams): Promise<ResolveBranchNameResult> {\n  const defaultBranchOverride = selectDefaultBranchOverride(defaultBranches, org, repo);\n\n  if (worktreeInput) {\n    const branch = sanitiseWorktreeDescriptor(worktreeInput);\n    return { branch, defaultBranchOverride, source: 'worktree' };\n  }\n\n  const generator = branchNameGenerator as { isConfigured?: boolean; generateBranchName?: (args: unknown) => Promise<string> };\n  if (!generator || !generator.isConfigured) {\n    throw new AutomationRequestError(\n      503,\n      'Branch name generation is not configured. Provide a worktree name or configure a local LLM command (set branchNameLlm in config.json).'\n    );\n  }\n\n  try {\n    const branch = await generator.generateBranchName!({\n      prompt,\n      org,\n      repo,\n    });\n\n    if (!branch) {\n      throw new AutomationRequestError(500, 'Failed to determine branch name.');\n    }\n\n    return { branch, defaultBranchOverride, source: 'generator' };\n  } catch (error: unknown) {\n    const message = error instanceof Error ? error.message : String(error);\n    throw new AutomationRequestError(\n      500,\n      message,\n      error instanceof Error ? error : undefined\n    );\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/automation/plan.ts":{"lineLengths":[975,0,3046],"data":{"version":3,"mappings":"kHAAA,OAAS,2BAA8B,0BAkBvC,eAAsB,iBAAiB,CACrC,YACA,OACA,YACA,cACF,EAA4D,CAC1D,GAAI,CAAC,YAAa,CAChB,MAAO,CAAE,gBAAiB,OAAQ,cAAe,KAAM,CACzD,CAEA,GAAI,CAAC,OAAO,KAAK,EAAG,CAClB,MAAM,IAAI,uBAAuB,IAAK,sCAAsC,CAC9E,CAEA,MAAM,QAAU,YAChB,GAAI,CAAC,SAAW,CAAC,QAAQ,aAAc,CACrC,MAAM,IAAI,uBACR,IACA,gGACF,CACF,CAEA,GAAI,CACF,MAAM,SAAW,MAAM,QAAQ,eAAgB,CAC7C,OACA,IAAK,cACP,CAAC,EAED,MAAO,CAAE,gBAAiB,SAAU,cAAe,IAAK,CAC1D,OAAS,MAAgB,CACvB,MAAM,QAAU,iBAAiB,MAAQ,MAAM,QAAU,OAAO,KAAK,EACrE,MAAM,IAAI,uBACR,IACA,QACA,iBAAiB,MAAQ,MAAQ,MACnC,CACF,CACF,CArCsB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/automation/plan.ts"],"sourcesContent":["import { AutomationRequestError } from './request-validation.js';\n\n/**\n * Utilities for wrapping optional plan generation prior to launching an automation task.\n */\n\nexport interface GeneratePlanTextParams {\n  planEnabled: boolean;\n  prompt: string;\n  planService: unknown;\n  repositoryPath?: string;\n}\n\nexport interface GeneratePlanTextResult {\n  promptToExecute: string;\n  planGenerated: boolean;\n}\n\nexport async function generatePlanText({\n  planEnabled,\n  prompt,\n  planService,\n  repositoryPath,\n}: GeneratePlanTextParams): Promise<GeneratePlanTextResult> {\n  if (!planEnabled) {\n    return { promptToExecute: prompt, planGenerated: false };\n  }\n\n  if (!prompt.trim()) {\n    throw new AutomationRequestError(400, 'prompt is required when plan is true');\n  }\n\n  const service = planService as { isConfigured?: boolean; createPlanText?: (opts: unknown) => Promise<string> };\n  if (!service || !service.isConfigured) {\n    throw new AutomationRequestError(\n      503,\n      'Plan generation is not configured. Configure a local LLM command (set planLlm in config.json).'\n    );\n  }\n\n  try {\n    const planText = await service.createPlanText!({\n      prompt,\n      cwd: repositoryPath,\n    });\n\n    return { promptToExecute: planText, planGenerated: true };\n  } catch (error: unknown) {\n    const message = error instanceof Error ? error.message : String(error);\n    throw new AutomationRequestError(\n      500,\n      message,\n      error instanceof Error ? error : undefined\n    );\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/github.ts":{"lineLengths":[7446,0,21150],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/github.ts"],"sourcesContent":["import { execFile } from 'node:child_process';\nimport { promisify } from 'node:util';\n\nconst execFileAsync = promisify(execFile);\n\nconst DEFAULT_TIMEOUT_MS = 10_000;\nconst DEFAULT_MAX_BUFFER = 1024 * 1024;\n\nfunction createGithubError(message: string, cause?: unknown): Error {\n  const error = new Error(message);\n  if (cause) {\n    (error as { cause?: unknown }).cause = cause;\n  }\n  return error;\n}\n\nfunction normaliseRepo(org: string, repo: string): { repoSlug: string; org: string; repo: string } {\n  const trimmedOrg = typeof org === 'string' ? org.trim() : '';\n  const trimmedRepo = typeof repo === 'string' ? repo.trim() : '';\n  if (!trimmedOrg || !trimmedRepo) {\n    throw createGithubError('Organisation and repository are required');\n  }\n  return { repoSlug: `${trimmedOrg}/${trimmedRepo}`, org: trimmedOrg, repo: trimmedRepo };\n}\n\nfunction parseJsonArray(payload: string, contextMessage: string): unknown[] {\n  const text = typeof payload === 'string' ? payload.trim() : '';\n  if (!text) {\n    return [];\n  }\n  try {\n    const data = JSON.parse(text);\n    if (Array.isArray(data)) {\n      return data;\n    }\n  } catch (error: unknown) {\n    throw createGithubError(contextMessage, error);\n  }\n  throw createGithubError(contextMessage);\n}\n\nfunction parseJsonObject(payload: string, contextMessage: string): Record<string, unknown> {\n  const text = typeof payload === 'string' ? payload.trim() : '';\n  if (!text) {\n    throw createGithubError(contextMessage);\n  }\n  try {\n    const data = JSON.parse(text);\n    if (data && typeof data === 'object' && !Array.isArray(data)) {\n      return data;\n    }\n  } catch (error: unknown) {\n    throw createGithubError(contextMessage, error);\n  }\n  throw createGithubError(contextMessage);\n}\n\nasync function runGh(args: string[], { timeoutMs = DEFAULT_TIMEOUT_MS }: { timeoutMs?: number } = {}): Promise<string> {\n  try {\n    const { stdout } = await execFileAsync('gh', args, {\n      timeout: timeoutMs,\n      maxBuffer: DEFAULT_MAX_BUFFER,\n    });\n    return typeof stdout === 'string' ? stdout : '';\n  } catch (error: unknown) {\n    const err = error as { code?: string; signal?: string; killed?: boolean; stderr?: string; stdout?: string; message?: string };\n    if (err?.code === 'ENOENT') {\n      throw createGithubError('GitHub CLI (gh) is not installed or not available on PATH', error);\n    }\n    if (err?.code === 'ETIMEDOUT' || err?.signal === 'SIGTERM' || err?.killed) {\n      throw createGithubError('GitHub CLI command timed out', error);\n    }\n    const stderr = typeof err?.stderr === 'string' ? err.stderr.trim() : '';\n    const stdout = typeof err?.stdout === 'string' ? err.stdout.trim() : '';\n    const message = stderr || stdout || err?.message || 'GitHub CLI command failed';\n    throw createGithubError(message, error);\n  }\n}\n\nexport function createGithubClient({ timeoutMs = DEFAULT_TIMEOUT_MS }: { timeoutMs?: number } = {}) {\n  async function countOpenPullRequests(org: string, repo: string): Promise<number> {\n    const { repoSlug } = normaliseRepo(org, repo);\n    const stdout = await runGh(\n      ['pr', 'list', '--repo', repoSlug, '--state', 'open', '--json', 'number', '--limit', '100'],\n      { timeoutMs },\n    );\n    return parseJsonArray(stdout, 'Unexpected response when listing pull requests').length;\n  }\n\n  async function countOpenIssues(org: string, repo: string): Promise<number> {\n    const { repoSlug } = normaliseRepo(org, repo);\n    const stdout = await runGh(\n      ['issue', 'list', '--repo', repoSlug, '--state', 'open', '--json', 'number', '--limit', '100'],\n      { timeoutMs },\n    );\n    return parseJsonArray(stdout, 'Unexpected response when listing issues').length;\n  }\n\n  async function countRunningWorkflows(org: string, repo: string): Promise<number> {\n    const { repoSlug } = normaliseRepo(org, repo);\n    const statuses = ['in_progress', 'queued'];\n    const results = await Promise.all(\n      statuses.map(async (status) => {\n        const stdout = await runGh(\n          [\n            'run',\n            'list',\n            '--repo',\n            repoSlug,\n            '--status',\n            status,\n            '--json',\n            'databaseId,status,workflowName',\n            '--limit',\n            '100',\n          ],\n          { timeoutMs },\n        );\n        return parseJsonArray(stdout, 'Unexpected response when listing workflow runs').length;\n      }),\n    );\n    return results.reduce((total, value) => total + value, 0);\n  }\n\n  async function listOpenIssues(org: string, repo: string): Promise<unknown[]> {\n    const { repoSlug } = normaliseRepo(org, repo);\n    const stdout = await runGh(\n      [\n        'issue',\n        'list',\n        '--repo',\n        repoSlug,\n        '--state',\n        'open',\n        '--json',\n        'number,title,labels,createdAt,url',\n        '--limit',\n        '200',\n      ],\n      { timeoutMs },\n    );\n    const issues = parseJsonArray(stdout, 'Unexpected response when listing issues');\n    return issues\n      .map((issue) => {\n        const issueRecord = issue as Record<string, unknown>;\n        const number = typeof issueRecord['number'] === 'number' ? issueRecord['number'] : null;\n        if (number === null) {\n          return null;\n        }\n        const title = typeof issueRecord['title'] === 'string' ? issueRecord['title'] : '';\n        const createdAtValue = typeof issueRecord['createdAt'] === 'string' ? issueRecord['createdAt'] : null;\n        let createdAt = null;\n        if (createdAtValue) {\n          const parsedDate = new Date(createdAtValue);\n          if (!Number.isNaN(parsedDate.getTime())) {\n            createdAt = parsedDate.toISOString();\n          }\n        }\n        const labels = Array.isArray(issueRecord['labels'])\n          ? (issueRecord['labels'] as unknown[])\n              .map((label) => {\n                const labelRecord = label as Record<string, unknown>;\n                return labelRecord && typeof labelRecord['name'] === 'string' ? labelRecord['name'] : null;\n              })\n              .filter(Boolean)\n          : [];\n        const url = typeof issueRecord['url'] === 'string' && issueRecord['url']\n          ? issueRecord['url']\n          : `https://github.com/${repoSlug}/issues/${number}`;\n        return {\n          number,\n          title,\n          createdAt,\n          labels,\n          url,\n        };\n      })\n      .filter(Boolean);\n  }\n\n  async function getIssue(org: string, repo: string, issueNumber: number | string): Promise<Record<string, unknown>> {\n    const { repoSlug } = normaliseRepo(org, repo);\n    const parsedNumber =\n      typeof issueNumber === 'number'\n        ? issueNumber\n        : Number.parseInt(typeof issueNumber === 'string' ? issueNumber.trim() : '', 10);\n\n    if (!Number.isInteger(parsedNumber) || parsedNumber <= 0) {\n      throw createGithubError('Issue number must be a positive integer');\n    }\n\n    const stdout = await runGh(\n      [\n        'issue',\n        'view',\n        String(parsedNumber),\n        '--repo',\n        repoSlug,\n        '--json',\n        'number,title,body,author,createdAt,updatedAt,labels,url,state',\n      ],\n      { timeoutMs },\n    );\n\n    const issue = parseJsonObject(stdout, 'Unexpected response when reading issue details');\n    const title = typeof issue?.[\"title\"] === 'string' ? issue[\"title\"] : '';\n    const body = typeof issue?.[\"body\"] === 'string' ? issue[\"body\"] : '';\n\n    const createdAtValue = typeof issue?.[\"createdAt\"] === 'string' ? issue[\"createdAt\"] : null;\n    const updatedAtValue = typeof issue?.[\"updatedAt\"] === 'string' ? issue[\"updatedAt\"] : null;\n\n    function normaliseDate(value: unknown): string | null {\n      if (!value) {\n        return null;\n      }\n      const parsed = new Date(String(value));\n      if (Number.isNaN(parsed.getTime())) {\n        return null;\n      }\n      return parsed.toISOString();\n    }\n\n    const authorData =\n      issue && typeof issue?.[\"author\"] === 'object' && issue[\"author\"] !== null ? issue[\"author\"] : null;\n    let author = null;\n    if (authorData) {\n      const authorRecord = authorData as Record<string, unknown>;\n      const login = typeof authorRecord['login'] === 'string' && authorRecord['login'] ? authorRecord['login'] : null;\n      const name = typeof authorRecord['name'] === 'string' && authorRecord['name'] ? authorRecord['name'] : null;\n      const profileUrl =\n        typeof authorRecord['url'] === 'string' && authorRecord['url'] ? authorRecord['url'] : null;\n      const avatarUrl =\n        typeof authorRecord['avatarUrl'] === 'string' && authorRecord['avatarUrl'] ? authorRecord['avatarUrl'] : null;\n      if (login || name || profileUrl || avatarUrl) {\n        author = {\n          login,\n          name,\n          url: profileUrl,\n          avatarUrl,\n        };\n      }\n    }\n\n    const labels = Array.isArray(issue?.[\"labels\"])\n      ? (issue[\"labels\"] as unknown[])\n          .map((label) => {\n            const labelRecord = label as Record<string, unknown>;\n            if (!labelRecord || typeof labelRecord['name'] !== 'string' || !labelRecord['name']) {\n              return null;\n            }\n            const color = typeof labelRecord['color'] === 'string' && labelRecord['color'] ? labelRecord['color'] : null;\n            return { name: labelRecord['name'], color };\n          })\n          .filter(Boolean)\n      : [];\n\n    const url =\n      typeof issue?.[\"url\"] === 'string' && issue[\"url\"]\n        ? issue[\"url\"]\n        : `https://github.com/${repoSlug}/issues/${parsedNumber}`;\n\n    const state =\n      typeof issue?.[\"state\"] === 'string' && issue[\"state\"]\n        ? (issue[\"state\"] as string).toLowerCase()\n        : null;\n\n    return {\n      number: parsedNumber,\n      title,\n      body,\n      author,\n      createdAt: normaliseDate(createdAtValue),\n      updatedAt: normaliseDate(updatedAtValue),\n      labels,\n      url,\n      state,\n    };\n  }\n\n  return {\n    countOpenPullRequests,\n    countOpenIssues,\n    countRunningWorkflows,\n    listOpenIssues,\n    getIssue,\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/services/session-service.ts":{"lineLengths":[4075,0,12742],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/services/session-service.ts"],"sourcesContent":["import { discoverRepositories } from '../repositories/repository-repository.js';\nimport {\n  buildSanitisedWorktreeLookup,\n  detectTmux,\n  isTmuxAvailable,\n  parseTmuxSessionName,\n  runTmux,\n} from '../core/tmux.js';\nimport { listActiveSessions, makeSessionKey } from '../core/terminal-sessions.js';\n\nexport interface SessionInfo {\n  org: string;\n  repo: string;\n  branch: string;\n  idle: boolean;\n  lastActivityAt: string | null;\n}\n\ntype SessionServiceDependencyOverrides = Partial<{\n  discoverRepositories: typeof discoverRepositories;\n  buildSanitisedWorktreeLookup: typeof buildSanitisedWorktreeLookup;\n  detectTmux: typeof detectTmux;\n  isTmuxAvailable: typeof isTmuxAvailable;\n  parseTmuxSessionName: typeof parseTmuxSessionName;\n  runTmux: typeof runTmux;\n  listActiveSessions: typeof listActiveSessions;\n  makeSessionKey: typeof makeSessionKey;\n}>;\n\nconst sessionServiceDependencies = {\n  discoverRepositories,\n  buildSanitisedWorktreeLookup,\n  detectTmux,\n  isTmuxAvailable,\n  parseTmuxSessionName,\n  runTmux,\n  listActiveSessions,\n  makeSessionKey,\n} as const;\n\nlet sessionServiceTestOverrides: SessionServiceDependencyOverrides | null = null;\n\nfunction resolveSessionServiceDependency<K extends keyof typeof sessionServiceDependencies>(\n  key: K\n): (typeof sessionServiceDependencies)[K] {\n  const overrides = sessionServiceTestOverrides || {};\n  const override = overrides[key];\n  if (override) {\n    return override as (typeof sessionServiceDependencies)[K];\n  }\n  return sessionServiceDependencies[key];\n}\n\nexport function __setSessionServiceTestOverrides(overrides?: SessionServiceDependencyOverrides): void {\n  sessionServiceTestOverrides = overrides ?? null;\n}\n\n/**\n * Type guard for finite numbers\n */\nfunction isFiniteNumber(value: unknown): value is number {\n  return typeof value === 'number' && Number.isFinite(value);\n}\n\n/**\n * Service for session discovery and management\n */\nexport class SessionService {\n  constructor(private readonly workdir: string) {}\n\n  /**\n   * Lists all active terminal sessions, including both in-memory and orphaned tmux sessions\n   * @returns List of session information\n   */\n  async listSessions(): Promise<SessionInfo[]> {\n    const sessionLookup = new Map<string, {\n      org: string;\n      repo: string;\n      branch: string;\n      idle: boolean;\n      lastActivityAtMs: number | null;\n    }>();\n\n    const listSessionsFn = resolveSessionServiceDependency('listActiveSessions');\n    const makeKey = resolveSessionServiceDependency('makeSessionKey');\n\n    // Gather in-memory sessions\n    listSessionsFn().forEach((session) => {\n      if (!session || !session.org || !session.repo || !session.branch) {\n        return;\n      }\n      const key = makeKey(session.org, session.repo, session.branch);\n      const lastActivityAtMs =\n        typeof session.lastActivityAt === 'number'\n          ? session.lastActivityAt\n          : session.lastActivityAt instanceof Date\n            ? session.lastActivityAt.getTime()\n            : null;\n      const idle = Boolean(session.idle);\n      const existing = sessionLookup.get(key);\n      if (!existing) {\n        sessionLookup.set(key, {\n          org: session.org,\n          repo: session.repo,\n          branch: session.branch,\n          idle,\n          lastActivityAtMs,\n        });\n        return;\n      }\n      existing.idle = existing.idle && idle;\n      if (\n        isFiniteNumber(lastActivityAtMs) &&\n        (!isFiniteNumber(existing.lastActivityAtMs) || lastActivityAtMs > existing.lastActivityAtMs)\n      ) {\n        existing.lastActivityAtMs = lastActivityAtMs;\n      }\n    });\n\n    // Discover orphaned tmux sessions\n    const detect = resolveSessionServiceDependency('detectTmux');\n    const tmuxAvailable = resolveSessionServiceDependency('isTmuxAvailable');\n\n    await detect();\n    if (tmuxAvailable()) {\n      const tmuxSessions = await this.discoverTmuxSessions();\n      \n      if (tmuxSessions.length > 0) {\n        let lookup;\n        try {\n          const repositoryDiscovery = resolveSessionServiceDependency('discoverRepositories');\n          const buildLookup = resolveSessionServiceDependency('buildSanitisedWorktreeLookup');\n          const structure = await repositoryDiscovery(this.workdir);\n          lookup = buildLookup(structure);\n        } catch (error: unknown) {\n          lookup = new Map();\n        }\n\n        tmuxSessions.forEach((parsed) => {\n          const sanitisedKey = `${parsed.org}--${parsed.repo}--${parsed.branch}`;\n          const actual = lookup.get(sanitisedKey);\n          if (!actual) {\n            return;\n          }\n          const key = makeSessionKey(actual.org, actual.repo, actual.branch);\n          if (sessionLookup.has(key)) {\n            return;\n          }\n          sessionLookup.set(key, {\n            org: actual.org,\n            repo: actual.repo,\n            branch: actual.branch,\n            idle: false,\n            lastActivityAtMs: null,\n          });\n        });\n      }\n    }\n\n    // Convert to output format\n    return Array.from(sessionLookup.values()).map((entry) => ({\n      org: entry.org,\n      repo: entry.repo,\n      branch: entry.branch,\n      idle: Boolean(entry.idle),\n      lastActivityAt: isFiniteNumber(entry.lastActivityAtMs)\n        ? new Date(entry.lastActivityAtMs).toISOString()\n        : null,\n    }));\n  }\n\n  /**\n   * Discovers tmux sessions\n   * @returns List of parsed tmux session names\n   */\n  private async discoverTmuxSessions(): Promise<Array<{ org: string; repo: string; branch: string }>> {\n    let stdout = '';\n    const run = resolveSessionServiceDependency('runTmux');\n    try {\n      const result = await run(['list-sessions', '-F', '#S']);\n      stdout = result && typeof result.stdout === 'string' ? result.stdout : '';\n    } catch (error: unknown) {\n      const err = error as { code?: number };\n      if (typeof err.code === 'number') {\n        stdout = '';\n      } else {\n        console.error('Failed to list tmux sessions', error);\n        stdout = '';\n      }\n    }\n\n    const names = stdout\n      .split('\\n')\n      .map((line) => line.trim())\n      .filter(Boolean);\n\n    const parse = resolveSessionServiceDependency('parseTmuxSessionName');\n\n    return names\n      .map((name) => parse(name))\n      .filter((parsed): parsed is NonNullable<typeof parsed> => parsed !== null);\n  }\n}\n\n/**\n * Creates a session service instance\n * @param workdir - Work directory root\n * @returns SessionService instance\n */\nexport function createSessionService(workdir: string): SessionService {\n  return new SessionService(workdir);\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/plan-storage.ts":{"lineLengths":[1052,5686,0,19582],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/plan-storage.ts"],"sourcesContent":["import { mkdir, readFile, readdir, unlink, writeFile } from 'node:fs/promises';\nimport { join } from 'node:path';\nimport { execFile } from 'node:child_process';\nimport { promisify } from 'node:util';\n\nconst execFileAsync = promisify(execFile);\n\nexport interface PlanEntry {\n  id: string;\n  branch: string;\n  createdAt: string;\n}\n\nexport interface PlanDetails extends PlanEntry {\n  content: string;\n}\n\nexport interface SavePlanOptions {\n  worktreePath: string;\n  branch: string;\n  planText: string;\n  clock?: () => Date;\n  gitAdd?: (cwd: string) => Promise<void>;\n  maxPlansPerBranch?: number;\n}\n\nexport interface ListPlansOptions {\n  worktreePath: string;\n  branch: string;\n  limit?: number;\n}\n\nexport interface ReadPlanOptions {\n  worktreePath: string;\n  branch: string;\n  id: string;\n}\n\ninterface ParsedPlanFilename {\n  id: string;\n  branchSuffix: string;\n  createdAt: Date;\n}\n\nfunction formatTimestampPart(date: Date): string {\n  if (!(date instanceof Date) || Number.isNaN(date.getTime())) {\n    throw new Error('Invalid date supplied to formatTimestamp');\n  }\n  const iso = date.toISOString();\n  const [datePart, timePart] = iso.split('T');\n  const compactDate = datePart!.replace(/-/g, '');\n  const compactTime = timePart!.slice(0, 8).replace(/:/g, '');\n  return `${compactDate}_${compactTime}`;\n}\n\nfunction normaliseBranchName(branch: string): string {\n  const value = typeof branch === 'string' ? branch.trim() : '';\n  if (!value) {\n    throw new Error('Branch name is required');\n  }\n  return value.replace(/[^0-9A-Za-z._-]/g, '_');\n}\n\nfunction ensureTrailingNewline(text: string): string {\n  return text.endsWith('\\n') ? text : `${text}\\n`;\n}\n\nconst DEFAULT_MAX_PLANS_PER_BRANCH = 20;\n\nasync function gitAddPlans(cwd: string): Promise<void> {\n  await execFileAsync('git', ['add', '-A', '.plans'], { cwd });\n}\n\nfunction parsePlanFilename(filename: string): ParsedPlanFilename | null {\n  if (typeof filename !== 'string') {\n    return null;\n  }\n\n  const trimmed = filename.trim();\n  if (!trimmed.endsWith('.md')) {\n    return null;\n  }\n\n  const hyphenIndex = trimmed.indexOf('-');\n  if (hyphenIndex === -1) {\n    return null;\n  }\n\n  const timestampPart = trimmed.slice(0, hyphenIndex);\n  const branchPart = trimmed.slice(hyphenIndex + 1, -'.md'.length);\n  if (!timestampPart || !branchPart) {\n    return null;\n  }\n\n  const timestampMatch = timestampPart.match(/^(\\d{8})_(\\d{6})$/);\n  if (!timestampMatch) {\n    return null;\n  }\n\n  const [, datePart, timePart] = timestampMatch;\n  const year = Number.parseInt(datePart!.slice(0, 4), 10);\n  const month = Number.parseInt(datePart!.slice(4, 6), 10) - 1;\n  const day = Number.parseInt(datePart!.slice(6, 8), 10);\n  const hour = Number.parseInt(timePart!.slice(0, 2), 10);\n  const minute = Number.parseInt(timePart!.slice(2, 4), 10);\n  const second = Number.parseInt(timePart!.slice(4, 6), 10);\n  const createdAt = new Date(Date.UTC(year, month, day, hour, minute, second));\n  if (Number.isNaN(createdAt.getTime())) {\n    return null;\n  }\n\n  return {\n    id: trimmed,\n    branchSuffix: branchPart,\n    createdAt,\n  };\n}\n\nasync function prunePlans(directory: string, branchSuffix: string, maxCount: number): Promise<void> {\n  if (!maxCount || maxCount <= 0) {\n    return;\n  }\n\n  let entries;\n  try {\n    entries = await readdir(directory, { withFileTypes: true });\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err && err.code === 'ENOENT') {\n      return;\n    }\n    throw error;\n  }\n\n  const matching = entries\n    .filter((entry) => entry.isFile() && entry.name.endsWith(`-${branchSuffix}.md`))\n    .map((entry) => entry.name)\n    .sort((a, b) => a.localeCompare(b));\n\n  if (matching.length <= maxCount) {\n    return;\n  }\n\n  const toRemove = matching.slice(0, matching.length - maxCount);\n  await Promise.all(\n    toRemove.map(async (name) => {\n      const filePath = join(directory, name);\n      try {\n        await unlink(filePath);\n      } catch (error: unknown) {\n        const err = error as { code?: string };\n        if (!err || err.code !== 'ENOENT') {\n          throw error;\n        }\n      }\n    })\n  );\n}\n\nexport async function savePlanToWorktree({\n  worktreePath,\n  branch,\n  planText,\n  clock = () => new Date(),\n  gitAdd = gitAddPlans,\n  maxPlansPerBranch = DEFAULT_MAX_PLANS_PER_BRANCH,\n}: SavePlanOptions): Promise<string | null> {\n  const resolvedWorktreePath = typeof worktreePath === 'string' ? worktreePath.trim() : '';\n  if (!resolvedWorktreePath) {\n    throw new Error('worktreePath is required');\n  }\n  const resolvedPlanText = typeof planText === 'string' ? planText : '';\n  if (!resolvedPlanText.trim()) {\n    return null;\n  }\n\n  const safeBranch = normaliseBranchName(branch);\n  const directory = join(resolvedWorktreePath, '.plans');\n  const branchSuffix = `-${safeBranch}.md`;\n  const content = ensureTrailingNewline(resolvedPlanText);\n\n  try {\n    const entries = await readdir(directory, { withFileTypes: true });\n    const matching = entries\n      .filter((entry) => entry.isFile() && entry.name.endsWith(branchSuffix))\n      .map((entry) => entry.name)\n      .sort((a, b) => a.localeCompare(b));\n    const latestName = matching.length > 0 ? matching[matching.length - 1] : null;\n    if (latestName) {\n      const existingPath = join(directory, latestName);\n      try {\n        const existingContent = await readFile(existingPath, 'utf8');\n        if (existingContent === content) {\n          return existingPath;\n        }\n      } catch (error: unknown) {\n        const err = error as { code?: string };\n        if (!err || err.code !== 'ENOENT') {\n          throw error;\n        }\n      }\n    }\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (!err || err.code !== 'ENOENT') {\n      throw error;\n    }\n  }\n\n  const timestamp = formatTimestampPart(clock());\n  const filename = `${timestamp}-${safeBranch}.md`;\n  const filePath = join(directory, filename);\n\n  await mkdir(directory, { recursive: true });\n  await writeFile(filePath, content, 'utf8');\n  await prunePlans(directory, safeBranch, maxPlansPerBranch);\n  if (typeof gitAdd === 'function') {\n    await gitAdd(resolvedWorktreePath);\n  }\n  return filePath;\n}\n\nexport async function listPlansForWorktree({\n  worktreePath,\n  branch,\n  limit,\n}: ListPlansOptions): Promise<PlanEntry[]> {\n  const resolvedWorktreePath = typeof worktreePath === 'string' ? worktreePath.trim() : '';\n  if (!resolvedWorktreePath) {\n    throw new Error('worktreePath is required');\n  }\n  const safeBranch = normaliseBranchName(branch);\n  if (!safeBranch) {\n    throw new Error('branch is required');\n  }\n\n  const directory = join(resolvedWorktreePath, '.plans');\n  let entries;\n  try {\n    entries = await readdir(directory, { withFileTypes: true });\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err && err.code === 'ENOENT') {\n      return [];\n    }\n    throw error;\n  }\n\n  const suffix = `-${safeBranch}.md`;\n  const plans = entries\n    .filter((entry) => entry.isFile() && entry.name.endsWith(suffix))\n    .map((entry) => parsePlanFilename(entry.name))\n    .filter((parsed): parsed is ParsedPlanFilename => parsed !== null)\n    .map((parsed) => ({\n      id: parsed.id,\n      branch: safeBranch,\n      createdAt: parsed.createdAt.toISOString(),\n    }))\n    .sort((a, b) => b.id.localeCompare(a.id));\n\n  if (Number.isInteger(limit) && limit! > 0 && plans.length > limit!) {\n    return plans.slice(0, limit);\n  }\n  return plans;\n}\n\nexport async function readPlanFromWorktree({\n  worktreePath,\n  branch,\n  id,\n}: ReadPlanOptions): Promise<PlanDetails> {\n  const resolvedWorktreePath = typeof worktreePath === 'string' ? worktreePath.trim() : '';\n  if (!resolvedWorktreePath) {\n    throw new Error('worktreePath is required');\n  }\n  const safeBranch = normaliseBranchName(branch);\n  if (!safeBranch) {\n    throw new Error('branch is required');\n  }\n\n  const planId = typeof id === 'string' ? id.trim() : '';\n  if (!planId || planId.includes('/') || planId.includes('..')) {\n    throw new Error('Invalid plan identifier');\n  }\n\n  const parsed = parsePlanFilename(planId);\n  if (!parsed || parsed.branchSuffix !== safeBranch) {\n    throw new Error('Plan not found');\n  }\n\n  const directory = join(resolvedWorktreePath, '.plans');\n  const filePath = join(directory, planId);\n\n  let content;\n  try {\n    content = await readFile(filePath, 'utf8');\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err && err.code === 'ENOENT') {\n      throw new Error('Plan not found');\n    }\n    throw error;\n  }\n\n  return {\n    id: planId,\n    branch: safeBranch,\n    createdAt: parsed.createdAt.toISOString(),\n    content,\n  };\n}\n\nexport const _internals = {\n  formatTimestampPart,\n  normaliseBranchName,\n  ensureTrailingNewline,\n  parsePlanFilename,\n};\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/http-error.ts":{"lineLengths":[1012,0,2770],"data":{"version":3,"mappings":"kHAGO,MAAM,kBAAkB,KAAM,CAHrC,MAGqC,0BACnB,WAEhB,YAAY,QAAiB,WAAqB,IAAK,MAAsB,KAAM,CACjF,MAAM,OAAO,EACb,KAAK,KAAO,KAAK,YAAY,KAC7B,KAAK,WAAa,WAClB,GAAI,MAAO,CACT,KAAK,MAAQ,KACf,CACA,MAAM,kBAAkB,KAAM,KAAK,WAAW,CAChD,CAEA,QAA4C,CAC1C,MAAO,CACL,MAAO,KAAK,QACZ,OAAQ,KAAK,UACf,CACF,CACF,CAKO,MAAM,4BAA4B,SAAU,CA3BnD,MA2BmD,oCACjD,YAAY,QAAkB,wBAAyB,MAAsB,KAAM,CACjF,MAAM,QAAS,IAAK,KAAK,CAC3B,CACF,CAKO,MAAM,gCAAgC,SAAU,CApCvD,MAoCuD,wCACrD,YAAY,QAAkB,sBAAuB,MAAsB,KAAM,CAC/E,MAAM,QAAS,IAAK,KAAK,CAC3B,CACF,CAKO,MAAM,wBAAwB,SAAU,CA7C/C,MA6C+C,gCAC7C,YAAY,QAAkB,cAAe,MAAsB,KAAM,CACvE,MAAM,QAAS,IAAK,KAAK,CAC3B,CACF","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/http-error.ts"],"sourcesContent":["/**\n * Base HTTP error class with status code support\n */\nexport class HttpError extends Error {\n  public readonly statusCode: number;\n\n  constructor(message: string, statusCode: number = 500, cause: Error | null = null) {\n    super(message);\n    this.name = this.constructor.name;\n    this.statusCode = statusCode;\n    if (cause) {\n      this.cause = cause;\n    }\n    Error.captureStackTrace(this, this.constructor);\n  }\n\n  toJSON(): { error: string; status: number } {\n    return {\n      error: this.message,\n      status: this.statusCode,\n    };\n  }\n}\n\n/**\n * 500 Internal Server Error\n */\nexport class InternalServerError extends HttpError {\n  constructor(message: string = 'Internal server error', cause: Error | null = null) {\n    super(message, 500, cause);\n  }\n}\n\n/**\n * 503 Service Unavailable\n */\nexport class ServiceUnavailableError extends HttpError {\n  constructor(message: string = 'Service unavailable', cause: Error | null = null) {\n    super(message, 503, cause);\n  }\n}\n\n/**\n * 502 Bad Gateway (for external service failures)\n */\nexport class BadGatewayError extends HttpError {\n  constructor(message: string = 'Bad gateway', cause: Error | null = null) {\n    super(message, 502, cause);\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/validation-error.ts":{"lineLengths":[854,0,2086],"data":{"version":3,"mappings":"kHAAA,OAAS,cAAiB,kBAKnB,MAAM,wBAAwB,SAAU,CAL/C,MAK+C,gCAC7C,YAAY,QAAiB,MAAsB,KAAM,CACvD,MAAM,QAAS,IAAK,KAAK,CAC3B,CACF,CAKO,MAAM,0BAA0B,SAAU,CAdjD,MAciD,kCAC/C,YAAY,QAAkB,0BAA2B,MAAsB,KAAM,CACnF,MAAM,QAAS,IAAK,KAAK,CAC3B,CACF,CAKO,MAAM,8BAA8B,SAAU,CAvBrD,MAuBqD,sCACnC,eAEhB,YAAY,eAA2B,CAAC,EAAG,MAAsB,KAAM,CACrE,MAAM,QAAU,eAAe,OAAS,EACpC,wCAAwC,eAAe,KAAK,IAAI,CAAC,GACjE,qBACJ,MAAM,QAAS,IAAK,KAAK,EACzB,KAAK,eAAiB,cACxB,CACF","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/validation-error.ts"],"sourcesContent":["import { HttpError } from './http-error.js';\n\n/**\n * 400 Bad Request - Invalid input\n */\nexport class ValidationError extends HttpError {\n  constructor(message: string, cause: Error | null = null) {\n    super(message, 400, cause);\n  }\n}\n\n/**\n * 401 Unauthorized\n */\nexport class UnauthorizedError extends HttpError {\n  constructor(message: string = 'Authentication required', cause: Error | null = null) {\n    super(message, 401, cause);\n  }\n}\n\n/**\n * 405 Method Not Allowed\n */\nexport class MethodNotAllowedError extends HttpError {\n  public readonly allowedMethods: string[];\n\n  constructor(allowedMethods: string[] = [], cause: Error | null = null) {\n    const message = allowedMethods.length > 0\n      ? `Method not allowed. Allowed methods: ${allowedMethods.join(', ')}`\n      : 'Method not allowed';\n    super(message, 405, cause);\n    this.allowedMethods = allowedMethods;\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/not-found-error.ts":{"lineLengths":[406,0,1002],"data":{"version":3,"mappings":"kHAAA,OAAS,cAAiB,kBAKnB,MAAM,sBAAsB,SAAU,CAL7C,MAK6C,8BAC3C,YAAY,SAAmB,WAAY,MAAsB,KAAM,CACrE,MAAM,QAAU,OAAO,WAAa,UAAY,SAC5C,GAAG,QAAQ,aACX,YACJ,MAAM,QAAS,IAAK,KAAK,CAC3B,CACF","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/not-found-error.ts"],"sourcesContent":["import { HttpError } from './http-error.js';\n\n/**\n * 404 Not Found\n */\nexport class NotFoundError extends HttpError {\n  constructor(resource: string = 'Resource', cause: Error | null = null) {\n    const message = typeof resource === 'string' && resource\n      ? `${resource} not found`\n      : 'Not found';\n    super(message, 404, cause);\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/error-handler.ts":{"lineLengths":[1729,0,5766],"data":{"version":3,"mappings":"kHACA,OAAS,cAAiB,kBAC1B,OAAS,aAAgB,sBAMzB,SAAS,YAAY,MAAoC,CACvD,OAAO,iBAAiB,SAC1B,CAFS,kCAOT,SAAS,cAAc,MAAkE,CACvF,OACE,OAAO,QAAU,UACjB,QAAU,MACV,eAAgB,OAChB,OAAQ,MAAmC,aAAe,QAE9D,CAPS,sCAYT,SAAS,QAAQ,MAAgC,CAC/C,OAAO,iBAAiB,KAC1B,CAFS,0BAUF,SAAS,oBAAoB,MAAgB,eAAyB,oBAA6B,CACxG,GAAI,CAAC,MAAO,CACV,OAAO,cACT,CAEA,GAAI,iBAAiB,MAAO,CAC1B,OAAO,MAAM,OACf,CAEA,GAAI,OAAO,QAAU,UAAY,YAAa,MAAO,CACnD,MAAM,IAAM,MACZ,GAAI,OAAO,IAAI,UAAY,SAAU,CACnC,OAAO,IAAI,OACb,CACF,CAEA,GAAI,OAAO,QAAU,SAAU,CAC7B,OAAO,KACT,CAEA,OAAO,cACT,CArBgB,kDA0BT,SAAS,YACd,IACA,MACA,kBAA4B,IACtB,CAEN,GAAI,YAAY,KAAK,EAAG,CACtB,SAAS,IAAK,MAAM,WAAY,CAAE,MAAO,MAAM,OAAQ,CAAC,EACxD,MACF,CAGA,GAAI,cAAc,KAAK,EAAG,CACxB,MAAMA,SAAU,MAAM,SAAW,oBACjC,SAAS,IAAK,MAAM,WAAY,CAAE,MAAOA,QAAQ,CAAC,EAClD,MACF,CAGA,MAAM,QAAU,QAAQ,KAAK,EAAI,MAAM,QAAU,+BACjD,SAAS,IAAK,kBAAmB,CAAE,MAAO,OAAQ,CAAC,CACrD,CArBgB,kCA0BT,SAAS,aACd,QAC4C,CAC5C,MAAO,OAAO,SAA2C,CACvD,GAAI,CACF,MAAM,QAAQ,OAAO,CACvB,OAAS,MAAO,CACd,YAAY,QAAQ,IAAK,KAAK,CAChC,CACF,CACF,CAVgB,oCAeT,SAAS,gBACd,MACA,KACA,IACA,KACM,CACN,GAAI,IAAI,YAAa,CACnB,OAAO,KAAK,KAAK,CACnB,CACA,YAAY,IAAK,KAAK,CACxB,CAVgB","names":["message"],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/errors/error-handler.ts"],"sourcesContent":["import type { ServerResponse } from 'node:http';\nimport { HttpError } from './http-error.js';\nimport { sendJson } from '../../utils/http.js';\nimport type { RequestContext } from '../../types/http.js';\n\n/**\n * Type guard for HttpError\n */\nfunction isHttpError(error: unknown): error is HttpError {\n  return error instanceof HttpError;\n}\n\n/**\n * Type guard for errors with statusCode property\n */\nfunction hasStatusCode(error: unknown): error is { statusCode: number; message: string } {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    'statusCode' in error &&\n    typeof (error as { statusCode?: unknown }).statusCode === 'number'\n  );\n}\n\n/**\n * Type guard for standard Error\n */\nfunction isError(error: unknown): error is Error {\n  return error instanceof Error;\n}\n\n/**\n * Extracts an error message from an unknown error object\n * @param error - Error object\n * @param defaultMessage - Default message if extraction fails\n * @returns Error message string\n */\nexport function extractErrorMessage(error: unknown, defaultMessage: string = 'An error occurred'): string {\n  if (!error) {\n    return defaultMessage;\n  }\n  \n  if (error instanceof Error) {\n    return error.message;\n  }\n  \n  if (typeof error === 'object' && 'message' in error) {\n    const err = error as { message?: unknown };\n    if (typeof err.message === 'string') {\n      return err.message;\n    }\n  }\n  \n  if (typeof error === 'string') {\n    return error;\n  }\n  \n  return defaultMessage;\n}\n\n/**\n * Centralized error handler that maps errors to HTTP responses\n */\nexport function handleError(\n  res: ServerResponse,\n  error: unknown,\n  defaultStatusCode: number = 500\n): void {\n  // If it's already an HttpError, use its status code\n  if (isHttpError(error)) {\n    sendJson(res, error.statusCode, { error: error.message });\n    return;\n  }\n\n  // Handle errors with explicit statusCode property\n  if (hasStatusCode(error)) {\n    const message = error.message || 'An error occurred';\n    sendJson(res, error.statusCode, { error: message });\n    return;\n  }\n\n  // Default error response\n  const message = isError(error) ? error.message : 'An unexpected error occurred';\n  sendJson(res, defaultStatusCode, { error: message });\n}\n\n/**\n * Wraps an async handler to catch errors and send appropriate HTTP responses\n */\nexport function asyncHandler(\n  handler: (context: RequestContext) => Promise<void>\n): (context: RequestContext) => Promise<void> {\n  return async (context: RequestContext): Promise<void> => {\n    try {\n      await handler(context);\n    } catch (error) {\n      handleError(context.res, error);\n    }\n  };\n}\n\n/**\n * Express-style error middleware wrapper\n */\nexport function errorMiddleware(\n  error: unknown,\n  _req: unknown,\n  res: ServerResponse,\n  next: (error?: unknown) => void\n): void {\n  if (res.headersSent) {\n    return next(error);\n  }\n  handleError(res, error);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-parser.ts":{"lineLengths":[1565,0,5994],"data":{"version":3,"mappings":"kHAqBO,SAAS,aAAa,OAAoD,CAC/E,GAAI,OAAO,SAAW,UAAY,CAAC,OAAO,KAAK,EAAG,CAChD,MAAO,CAAC,CACV,CAEA,OAAO,OAAO,MAAM,GAAG,EAAE,OAAO,CAAC,IAAK,OAAS,CAC7C,KAAM,CAAC,KAAM,GAAG,IAAI,EAAI,KAAK,MAAM,GAAG,EACtC,GAAI,CAAC,KAAM,CACT,OAAO,GACT,CACA,MAAM,IAAM,KAAK,KAAK,EACtB,GAAI,CAAC,IAAK,CACR,OAAO,GACT,CACA,MAAM,MAAQ,KAAK,KAAK,GAAG,EAAE,KAAK,EAClC,IAAI,GAAG,EAAI,MACX,OAAO,GACT,EAAG,CAAC,CAA2B,CACjC,CAlBgB,oCA2BT,SAAS,gBAAgB,KAAc,MAAe,QAAyB,CAAC,EAAW,CAChG,MAAM,MAAQ,CAAC,GAAG,IAAI,IAAI,KAAK,EAAE,EAEjC,GAAI,QAAQ,QAAU,KAAM,CAC1B,MAAM,KAAK,WAAW,QAAQ,MAAM,EAAE,CACxC,CAEA,GAAI,QAAQ,mBAAmB,KAAM,CACnC,MAAM,KAAK,WAAW,QAAQ,QAAQ,YAAY,CAAC,EAAE,CACvD,CAEA,MAAM,KAAO,QAAQ,MAAQ,IAC7B,GAAI,KAAM,CACR,MAAM,KAAK,QAAQ,IAAI,EAAE,CAC3B,CAEA,MAAM,SAAW,QAAQ,UAAY,SACrC,GAAI,SAAU,CACZ,MAAM,KAAK,YAAY,QAAQ,EAAE,CACnC,CAEA,GAAI,QAAQ,WAAa,MAAO,CAC9B,MAAM,KAAK,UAAU,CACvB,CAEA,GAAI,QAAQ,OAAQ,CAClB,MAAM,KAAK,QAAQ,CACrB,CAEA,OAAO,MAAM,KAAK,IAAI,CACxB,CA9BgB,0CAuCT,SAAS,UAAU,IAAqB,KAAc,MAAe,QAAyB,CAAC,EAAS,CAC7G,MAAM,OAAS,gBAAgB,KAAM,MAAO,OAAO,EACnD,MAAM,SAAW,IAAI,UAAU,YAAY,EAC3C,GAAI,MAAM,QAAQ,QAAQ,EAAG,CAC3B,IAAI,UAAU,aAAc,CAAC,GAAG,SAAU,MAAM,CAAC,CACnD,SAAW,SAAU,CACnB,IAAI,UAAU,aAAc,CAAC,OAAO,QAAQ,EAAG,MAAM,CAAC,CACxD,KAAO,CACL,IAAI,UAAU,aAAc,MAAM,CACpC,CACF,CAVgB,8BAkBT,SAAS,YAAY,IAAqB,KAAc,QAAyB,CAAC,EAAS,CAChG,MAAM,QAAU,IAAI,KAAK,CAAC,EAC1B,UAAU,IAAK,KAAM,GAAI,CAAE,GAAG,QAAS,OAAQ,EAAG,OAAQ,CAAC,CAC7D,CAHgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-parser.ts"],"sourcesContent":["import type { ServerResponse } from 'node:http';\n\nexport interface CookieOptions {\n  maxAge?: number;\n  expires?: Date;\n  path?: string;\n  domain?: string;\n  secure?: boolean;\n  httpOnly?: boolean;\n  sameSite?: 'Strict' | 'Lax' | 'None';\n}\n\n/**\n * Cookie parsing and serialization utilities\n */\n\n/**\n * Parses a Cookie header string into an object\n * @param header - The Cookie header value\n * @returns Object mapping cookie names to values\n */\nexport function parseCookies(header: string | undefined): Record<string, string> {\n  if (typeof header !== 'string' || !header.trim()) {\n    return {};\n  }\n\n  return header.split(';').reduce((acc, part) => {\n    const [name, ...rest] = part.split('=');\n    if (!name) {\n      return acc;\n    }\n    const key = name.trim();\n    if (!key) {\n      return acc;\n    }\n    const value = rest.join('=').trim();\n    acc[key] = value;\n    return acc;\n  }, {} as Record<string, string>);\n}\n\n/**\n * Serializes a cookie with options into a Set-Cookie header value\n * @param name - Cookie name\n * @param value - Cookie value\n * @param options - Cookie options\n * @returns Set-Cookie header value\n */\nexport function serializeCookie(name: string, value: string, options: CookieOptions = {}): string {\n  const parts = [`${name}=${value}`];\n\n  if (options.maxAge != null) {\n    parts.push(`Max-Age=${options.maxAge}`);\n  }\n\n  if (options.expires instanceof Date) {\n    parts.push(`Expires=${options.expires.toUTCString()}`);\n  }\n\n  const path = options.path || '/';\n  if (path) {\n    parts.push(`Path=${path}`);\n  }\n\n  const sameSite = options.sameSite || 'Strict';\n  if (sameSite) {\n    parts.push(`SameSite=${sameSite}`);\n  }\n\n  if (options.httpOnly !== false) {\n    parts.push('HttpOnly');\n  }\n\n  if (options.secure) {\n    parts.push('Secure');\n  }\n\n  return parts.join('; ');\n}\n\n/**\n * Sets a cookie on the response\n * @param res - HTTP response object\n * @param name - Cookie name\n * @param value - Cookie value\n * @param options - Cookie options\n */\nexport function setCookie(res: ServerResponse, name: string, value: string, options: CookieOptions = {}): void {\n  const header = serializeCookie(name, value, options);\n  const existing = res.getHeader('Set-Cookie');\n  if (Array.isArray(existing)) {\n    res.setHeader('Set-Cookie', [...existing, header]);\n  } else if (existing) {\n    res.setHeader('Set-Cookie', [String(existing), header]);\n  } else {\n    res.setHeader('Set-Cookie', header);\n  }\n}\n\n/**\n * Clears a cookie by setting it to expire\n * @param res - HTTP response object\n * @param name - Cookie name\n * @param options - Cookie options\n */\nexport function clearCookie(res: ServerResponse, name: string, options: CookieOptions = {}): void {\n  const expires = new Date(0);\n  setCookie(res, name, '', { ...options, maxAge: 0, expires });\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-manager.ts":{"lineLengths":[487,0,1746],"data":{"version":3,"mappings":"kHACA,OAAS,0BAA6B,uBAW/B,SAAS,oBAAoB,CAAE,aAAc,EAAyB,CAC3E,MAAM,WAAa,OAAO,gBAAkB,SAAW,cAAc,KAAK,EAAE,YAAY,EAAI,cAE5F,MAAO,CAML,cAAc,IAA+B,CAC3C,OAAO,sBAAsB,CAAE,YAAa,WAAY,QAAS,GAAI,CAAC,CACxE,CACF,CACF,CAbgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-manager.ts"],"sourcesContent":["import type { IncomingMessage } from 'node:http';\nimport { determineSecureCookie } from './cookie-security.js';\n\nexport interface CookieManagerOptions {\n  secureSetting: string | boolean | undefined;\n}\n\n/**\n * Creates a cookie manager that handles secure flag resolution\n * @param options - Configuration options\n * @returns Cookie manager instance\n */\nexport function createCookieManager({ secureSetting }: CookieManagerOptions) {\n  const normalized = typeof secureSetting === 'string' ? secureSetting.trim().toLowerCase() : secureSetting;\n  \n  return {\n    /**\n     * Resolves whether to use secure cookies for a request\n     * @param req - HTTP request object\n     * @returns Whether to set Secure flag\n     */\n    resolveSecure(req: IncomingMessage): boolean {\n      return determineSecureCookie({ configValue: normalized, request: req });\n    },\n  };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-security.ts":{"lineLengths":[814,0,2850],"data":{"version":3,"mappings":"kHAgBO,SAAS,sBAAsB,CAAE,YAAa,OAAQ,EAAiC,CAC5F,MAAM,WAAa,OAAO,cAAgB,SAAW,YAAY,KAAK,EAAE,YAAY,EAAI,YAGxF,GAAI,aAAe,QAAU,aAAe,KAAM,CAChD,MAAO,KACT,CACA,GAAI,aAAe,SAAW,aAAe,MAAO,CAClD,MAAO,MACT,CAGA,GAAI,CAAC,SAAW,OAAO,UAAY,SAAU,CAC3C,MAAO,MACT,CAGA,MAAM,OAAS,QAAQ,OACvB,MAAM,UAAY,QAAQ,QAAU,OAAO,SAAS,EACpD,GAAI,UAAW,CACb,MAAO,KACT,CAGA,MAAM,eAAiB,QAAQ,UAAU,mBAAmB,EAC5D,GAAI,OAAO,iBAAmB,SAAU,CACtC,OAAO,eAAe,MAAM,GAAG,EAAE,IAAK,OAAU,MAAM,KAAK,EAAE,YAAY,CAAC,EAAE,SAAS,OAAO,CAC9F,CAEA,MAAO,MACT,CA9BgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/cookies/cookie-security.ts"],"sourcesContent":["import type { IncomingMessage } from 'node:http';\n\nexport interface SecureCookieOptions {\n  configValue: string | boolean | undefined;\n  request: IncomingMessage | null;\n}\n\n/**\n * Cookie security utilities\n */\n\n/**\n * Determines whether the Secure flag should be set on cookies\n * @param options - Configuration options\n * @returns Whether to set the Secure flag\n */\nexport function determineSecureCookie({ configValue, request }: SecureCookieOptions): boolean {\n  const normalized = typeof configValue === 'string' ? configValue.trim().toLowerCase() : configValue;\n  \n  // Explicit configuration\n  if (normalized === 'true' || normalized === true) {\n    return true;\n  }\n  if (normalized === 'false' || normalized === false) {\n    return false;\n  }\n\n  // Auto-detection based on request\n  if (!request || typeof request !== 'object') {\n    return false;\n  }\n\n  // Check if connection is encrypted (direct HTTPS)\n  const socket = request.socket as { encrypted?: boolean } | undefined;\n  const encrypted = Boolean(socket && socket.encrypted);\n  if (encrypted) {\n    return true;\n  }\n\n  // Check X-Forwarded-Proto header (behind reverse proxy)\n  const forwardedProto = request.headers?.['x-forwarded-proto'];\n  if (typeof forwardedProto === 'string') {\n    return forwardedProto.split(',').map((value) => value.trim().toLowerCase()).includes('https');\n  }\n\n  return false;\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/services/repository-service.ts":{"lineLengths":[2499,0,7786],"data":{"version":3,"mappings":"kHAAA,OAAS,gBAAiB,qBAAsB,qBAAwB,2CACxE,OAAS,6BAAgC,+BACzC,OAAS,qBAAwB,0BACjC,OAAS,2BAA8B,+BA6BvC,MAAM,8BAAgC,CACpC,qBACA,gBACA,uBACA,iBACA,iBACA,wBACF,EAEA,IAAI,+BAA8E,KAElF,SAAS,mCACP,IAC2C,CAC3C,MAAM,UAAY,gCAAkC,CAAC,EACrD,MAAM,SAAW,UAAU,GAAG,EAC9B,GAAI,SAAU,CACZ,OAAO,QACT,CACA,OAAO,8BAA8B,GAAG,CAC1C,CATS,gFAWF,SAAS,oCAAoC,UAAwD,CAC1G,+BAAiC,WAAa,IAChD,CAFgB,kFAOT,MAAM,iBAAgD,CAC3D,YAA6B,QAAiB,CAAjB,oBAAkB,CA9DjD,MA6D6D,kCAO3D,MAAM,kBAA8C,CAClD,MAAM,SAAW,mCAAmC,sBAAsB,EAC1E,OAAO,MAAM,SAAS,KAAK,OAAO,CACpC,CAQA,MAAM,cAAc,cAAuB,YAAsB,GAAkC,CACjG,MAAM,MAAQ,mCAAmC,iBAAiB,EAClE,MAAM,QAAU,mCAAmC,wBAAwB,EAE3E,MAAM,SAAW,MAAM,MAAM,KAAK,QAAS,cAAe,CAAE,WAAY,CAAC,EACzE,MAAM,KAAO,MAAM,QAAQ,KAAK,OAAO,EACvC,MAAO,CAAE,KAAM,KAAM,QAAS,CAChC,CAQA,MAAM,iBAAiB,IAAa,KAAyC,CAC3E,MAAM,OAAS,mCAAmC,kBAAkB,EACpE,MAAM,QAAU,mCAAmC,wBAAwB,EAE3E,MAAM,OAAO,KAAK,QAAS,IAAK,IAAI,EACpC,OAAO,MAAM,QAAQ,KAAK,OAAO,CACnC,CASA,MAAM,kBAAkB,IAAa,KAAc,YAAgD,CACjG,MAAM,OAAS,mCAAmC,kBAAkB,EACpE,MAAM,QAAU,mCAAmC,0BAA0B,EAC7E,MAAM,QAAU,mCAAmC,wBAAwB,EAE3E,KAAM,CAAE,QAAS,EAAI,MAAM,OAAO,KAAK,QAAS,IAAK,IAAI,EACzD,MAAM,QAAQ,SAAU,WAAW,EACnC,OAAO,MAAM,QAAQ,KAAK,OAAO,CACnC,CACF,CAOO,SAAS,wBAAwB,QAAoC,CAC1E,OAAO,IAAI,kBAAkB,OAAO,CACtC,CAFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/services/repository-service.ts"],"sourcesContent":["import { cloneRepository, discoverRepositories, ensureRepository } from '../repositories/repository-repository.js';\nimport { setRepositoryInitCommand } from '../core/repository-config.js';\nimport { removeRepository } from '../core/repositories.js';\nimport { refreshRepositoryCache } from '../utils/repository-cache.js';\nimport type { IRepositoryService } from '../types/services.js';\n\nexport interface RepositoriesData {\n  [org: string]: {\n    [repo: string]: {\n      branches: string[];\n      initCommand: string;\n    };\n  };\n}\n\nexport interface AddRepositoryResult {\n  data: RepositoriesData;\n  repo: {\n    org: string;\n    repo: string;\n  };\n}\n\ntype RepositoryServiceDependencyOverrides = Partial<{\n  discoverRepositories: typeof discoverRepositories;\n  cloneRepository: typeof cloneRepository;\n  refreshRepositoryCache: typeof refreshRepositoryCache;\n  removeRepository: typeof removeRepository;\n  ensureRepository: typeof ensureRepository;\n  setRepositoryInitCommand: typeof setRepositoryInitCommand;\n}>;\n\nconst repositoryServiceDependencies = {\n  discoverRepositories,\n  cloneRepository,\n  refreshRepositoryCache,\n  removeRepository,\n  ensureRepository,\n  setRepositoryInitCommand,\n} as const;\n\nlet repositoryServiceTestOverrides: RepositoryServiceDependencyOverrides | null = null;\n\nfunction resolveRepositoryServiceDependency<K extends keyof typeof repositoryServiceDependencies>(\n  key: K\n): (typeof repositoryServiceDependencies)[K] {\n  const overrides = repositoryServiceTestOverrides || {};\n  const override = overrides[key];\n  if (override) {\n    return override as (typeof repositoryServiceDependencies)[K];\n  }\n  return repositoryServiceDependencies[key];\n}\n\nexport function __setRepositoryServiceTestOverrides(overrides?: RepositoryServiceDependencyOverrides): void {\n  repositoryServiceTestOverrides = overrides ?? null;\n}\n\n/**\n * Service for repository management operations\n */\nexport class RepositoryService implements IRepositoryService {\n  constructor(private readonly workdir: string) {}\n\n  /**\n   * Lists all repositories\n   * @returns Repository data\n   */\n  async listRepositories(): Promise<RepositoriesData> {\n    const discover = resolveRepositoryServiceDependency('discoverRepositories');\n    return await discover(this.workdir);\n  }\n\n  /**\n   * Adds a new repository\n   * @param repositoryUrl - Git repository URL\n   * @param initCommand - Optional init command\n   * @returns Result with repository data\n   */\n  async addRepository(repositoryUrl: string, initCommand: string = ''): Promise<AddRepositoryResult> {\n    const clone = resolveRepositoryServiceDependency('cloneRepository');\n    const refresh = resolveRepositoryServiceDependency('refreshRepositoryCache');\n\n    const repoInfo = await clone(this.workdir, repositoryUrl, { initCommand });\n    const data = await refresh(this.workdir);\n    return { data, repo: repoInfo };\n  }\n\n  /**\n   * Removes a repository\n   * @param org - Organization name\n   * @param repo - Repository name\n   * @returns Updated repository data\n   */\n  async deleteRepository(org: string, repo: string): Promise<RepositoriesData> {\n    const remove = resolveRepositoryServiceDependency('removeRepository');\n    const refresh = resolveRepositoryServiceDependency('refreshRepositoryCache');\n\n    await remove(this.workdir, org, repo);\n    return await refresh(this.workdir);\n  }\n\n  /**\n   * Updates the init command for a repository\n   * @param org - Organization name\n   * @param repo - Repository name\n   * @param initCommand - New init command\n   * @returns Updated repository data\n   */\n  async updateInitCommand(org: string, repo: string, initCommand: string): Promise<RepositoriesData> {\n    const ensure = resolveRepositoryServiceDependency('ensureRepository');\n    const setInit = resolveRepositoryServiceDependency('setRepositoryInitCommand');\n    const refresh = resolveRepositoryServiceDependency('refreshRepositoryCache');\n\n    const { repoRoot } = await ensure(this.workdir, org, repo);\n    await setInit(repoRoot, initCommand);\n    return await refresh(this.workdir);\n  }\n}\n\n/**\n * Creates a repository service instance\n * @param workdir - Work directory root\n * @returns RepositoryService instance\n */\nexport function createRepositoryService(workdir: string): RepositoryService {\n  return new RepositoryService(workdir);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/services/worktree-service.ts":{"lineLengths":[5756,0,17770],"data":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/services/worktree-service.ts"],"sourcesContent":["import {\n  createWorktree,\n  getWorktreePath,\n  normalizeBranchName,\n  removeWorktree,\n} from '../core/git.js';\nimport { selectDefaultBranchOverride } from '../core/default-branch.js';\nimport {\n  detectTmux,\n  isTmuxAvailable,\n  makeTmuxSessionName,\n  tmuxKillSession,\n} from '../core/tmux.js';\nimport { disposeSessionByKey, makeSessionKey } from '../core/terminal-sessions.js';\nimport { savePlanToWorktree } from '../core/plan-storage.js';\nimport { runTask } from '../core/tasks.js';\nimport { refreshRepositoryCache } from '../utils/repository-cache.js';\nimport type { WorktreeCreateInput, WorktreeDeleteInput } from '../validation/index.js';\nimport type { RepositoriesData } from './repository-service.js';\nimport type { IWorktreeService } from '../types/services.js';\n\nconst TASK_TYPE_CREATE_WORKTREE = 'worktree:create';\n\nconst STEP_IDS = Object.freeze({\n  GENERATE_BRANCH: 'generate-branch',\n  SYNC_DEFAULT_BRANCH: 'sync-default-branch',\n  CREATE_WORKTREE: 'create-worktree',\n  RUN_INIT_SCRIPT: 'run-init-script',\n  SAVE_PLAN: 'save-plan',\n  REFRESH_REPOSITORIES: 'refresh-repositories',\n});\n\nexport interface CreateWorktreeResult {\n  taskId: string;\n  org: string;\n  repo: string;\n  branch: string | null;\n}\n\n/**\n * Service for worktree lifecycle management\n */\nexport class WorktreeService implements IWorktreeService {\n  constructor(\n    private readonly workdir: string,\n    private readonly branchNameGenerator: unknown,\n    private readonly defaultBranchConfig: unknown\n  ) {}\n\n  /**\n   * Creates a new worktree\n   * @param params - Creation parameters\n   * @returns Result with task ID and repository info\n   */\n  async createWorktree(params: WorktreeCreateInput): Promise<CreateWorktreeResult> {\n    const { org, repo, branch, prompt, hasPrompt } = params;\n    let normalisedBranch = normalizeBranchName(branch);\n\n    const generator = this.branchNameGenerator as { isConfigured?: boolean; generateBranchName?: (args: unknown) => Promise<string> };\n    if (!normalisedBranch && (!generator || !generator.isConfigured)) {\n      throw new Error(\n        'Branch name generation is not configured. Provide a branch or configure a local LLM command (set branchNameLlm in config.json).'\n      );\n    }\n\n    const defaultBranchOverride = selectDefaultBranchOverride(\n      this.defaultBranchConfig,\n      org,\n      repo\n    );\n\n    const { id: taskId } = runTask(\n      {\n        type: TASK_TYPE_CREATE_WORKTREE,\n        title: `Create worktree for ${org}/${repo}`,\n        metadata: {\n          org,\n          repo,\n          requestedBranch: normalisedBranch || null,\n          promptProvided: hasPrompt,\n        },\n      },\n      async (context: unknown) => {\n        const ctx = context as { progress: unknown; updateMetadata: unknown; setResult: unknown };\n        const { progress, updateMetadata, setResult } = ctx;\n        const prog = progress as {\n          ensureStep: (id: string, label: string) => void;\n          startStep: (id: string, options: { label: string; message: string }) => void;\n          completeStep: (id: string, options: { label: string; message: string }) => void;\n          failStep: (id: string, options: { label: string; message: string }) => void;\n          skipStep: (id: string, options: { label: string; message: string }) => void;\n        };\n        const updateMeta = updateMetadata as (data: unknown) => void;\n        const setRes = setResult as (data: unknown) => void;\n\n        let targetBranch = normalisedBranch;\n\n        prog.ensureStep(STEP_IDS.GENERATE_BRANCH, 'Generate branch name');\n\n        if (!targetBranch) {\n          prog.startStep(STEP_IDS.GENERATE_BRANCH, {\n            label: 'Generate branch name',\n            message: 'Generating branch name from prompt.',\n          });\n          try {\n            const generated = await generator.generateBranchName!({\n              prompt,\n              org,\n              repo,\n            });\n            const trimmed = normalizeBranchName(generated);\n            if (!trimmed) {\n              throw new Error('Branch name generator returned an empty branch name.');\n            }\n            targetBranch = trimmed;\n            updateMeta({ branch: targetBranch });\n            prog.completeStep(STEP_IDS.GENERATE_BRANCH, {\n              label: 'Generate branch name',\n              message: `Generated branch ${targetBranch}.`,\n            });\n          } catch (error: unknown) {\n            const message = (error as Error)?.message || 'Failed to generate branch name.';\n            prog.failStep(STEP_IDS.GENERATE_BRANCH, {\n              label: 'Generate branch name',\n              message,\n            });\n            throw new Error(`Failed to generate branch name: ${message}`);\n          }\n        } else {\n          prog.skipStep(STEP_IDS.GENERATE_BRANCH, {\n            label: 'Generate branch name',\n            message: `Using provided branch ${targetBranch}.`,\n          });\n          updateMeta({ branch: targetBranch });\n        }\n\n        prog.ensureStep(STEP_IDS.SYNC_DEFAULT_BRANCH, 'Sync default branch');\n        prog.ensureStep(STEP_IDS.CREATE_WORKTREE, 'Create worktree');\n        prog.ensureStep(STEP_IDS.RUN_INIT_SCRIPT, 'Run init script');\n\n        await createWorktree(this.workdir, org, repo, targetBranch, {\n          defaultBranchOverride,\n          progress: prog,\n        });\n\n        if (hasPrompt) {\n          prog.ensureStep(STEP_IDS.SAVE_PLAN, 'Save plan prompt');\n          prog.startStep(STEP_IDS.SAVE_PLAN, {\n            label: 'Save plan prompt',\n            message: 'Persisting plan to the new worktree.',\n          });\n          try {\n            const { worktreePath } = await getWorktreePath(\n              this.workdir,\n              org,\n              repo,\n              targetBranch\n            );\n            await savePlanToWorktree({\n              worktreePath,\n              branch: targetBranch,\n              planText: prompt,\n            });\n            prog.completeStep(STEP_IDS.SAVE_PLAN, {\n              label: 'Save plan prompt',\n              message: 'Plan saved to worktree.',\n            });\n          } catch (error: unknown) {\n            const message = (error as Error)?.message || 'Failed to persist plan for worktree.';\n            prog.failStep(STEP_IDS.SAVE_PLAN, {\n              label: 'Save plan prompt',\n              message,\n            });\n            console.warn(\n              '[agentrix] Failed to persist plan for worktree:',\n              (error as Error)?.message || error\n            );\n          }\n        }\n\n        prog.ensureStep(STEP_IDS.REFRESH_REPOSITORIES, 'Refresh repositories');\n        prog.startStep(STEP_IDS.REFRESH_REPOSITORIES, {\n          label: 'Refresh repositories',\n          message: 'Refreshing repository cache.',\n        });\n        try {\n          await refreshRepositoryCache(this.workdir);\n          prog.completeStep(STEP_IDS.REFRESH_REPOSITORIES, {\n            label: 'Refresh repositories',\n            message: 'Repository cache refreshed.',\n          });\n        } catch (error: unknown) {\n          const message = (error as Error)?.message || 'Failed to refresh repository list.';\n          prog.failStep(STEP_IDS.REFRESH_REPOSITORIES, {\n            label: 'Refresh repositories',\n            message,\n          });\n          throw new Error(`Failed to refresh repositories: ${message}`);\n        }\n\n        setRes({\n          org,\n          repo,\n          branch: targetBranch,\n          promptProvided: hasPrompt,\n        });\n      }\n    );\n\n    return {\n      taskId,\n      org,\n      repo,\n      branch: normalisedBranch || null,\n    };\n  }\n\n  /**\n   * Deletes a worktree\n   * @param params - Deletion parameters\n   * @returns Updated repository data\n   */\n  async deleteWorktree(params: WorktreeDeleteInput): Promise<RepositoriesData> {\n    const { org, repo, branch } = params;\n    const normalised = normalizeBranchName(branch);\n\n    if (!normalised) {\n      throw new Error('Branch name cannot be empty');\n    }\n\n    const config = this.defaultBranchConfig as { \n      global?: string; \n      repositories?: Record<string, Record<string, string>> \n    } | undefined;\n    \n    const overrideDefault = selectDefaultBranchOverride(config, org, repo);\n    const protectedBranch = overrideDefault ? overrideDefault.toLowerCase() : 'main';\n\n    if (normalised.toLowerCase() === protectedBranch) {\n      throw new Error(`Cannot remove the default worktree (${overrideDefault || 'main'})`);\n    }\n\n    const sessionKey = makeSessionKey(org, repo, normalised);\n    await disposeSessionByKey(sessionKey);\n\n    await detectTmux();\n    if (isTmuxAvailable()) {\n      const tmuxSessionName = makeTmuxSessionName(org, repo, normalised);\n      try {\n        await tmuxKillSession(tmuxSessionName);\n      } catch (error: unknown) {\n        console.warn(\n          `[agentrix] Failed to kill tmux session ${tmuxSessionName}:`,\n          (error as Error).message\n        );\n      }\n    }\n\n    await removeWorktree(this.workdir, org, repo, normalised);\n    return await refreshRepositoryCache(this.workdir);\n  }\n}\n\n/**\n * Creates a worktree service instance\n * @param workdir - Work directory root\n * @param branchNameGenerator - Branch name generator\n * @param defaultBranchConfig - Default branch configuration\n * @returns WorktreeService instance\n */\nexport function createWorktreeService(\n  workdir: string,\n  branchNameGenerator: unknown,\n  defaultBranchConfig: unknown\n): WorktreeService {\n  return new WorktreeService(workdir, branchNameGenerator, defaultBranchConfig);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/services/terminal-service.ts":{"lineLengths":[2993,0,9142],"data":{"version":3,"mappings":"kHAAA,OACE,2BACA,eACA,sBACK,+BACP,OAAS,uBAA0B,oBACnC,OAAS,oBAAuB,oCAsBhC,MAAM,4BAA8B,CAClC,2BACA,eACA,kBACA,kBACF,EAEA,IAAI,6BAA0E,KAE9E,SAAS,iCACP,IACyC,CACzC,MAAM,UAAY,8BAAgC,CAAC,EACnD,MAAM,SAAW,UAAU,GAAG,EAC9B,GAAI,SAAU,CACZ,OAAO,QACT,CACA,OAAO,4BAA4B,GAAG,CACxC,CATS,4EAWF,SAAS,kCAAkC,UAAsD,CACtG,6BAA+B,WAAa,IAC9C,CAFgB,8EAOT,MAAM,eAA4C,CAGvD,YAA6B,QAAiB,QAA6B,CAAC,EAAG,CAAlD,qBAC3B,KAAK,KAAO,OAAO,QAAQ,OAAS,SAAW,QAAQ,KAAO,MAChE,CA5DF,MAuDyD,gCACtC,KAWjB,MAAM,aAAa,OAAwD,CACzE,KAAM,CAAE,IAAK,KAAM,OAAQ,QAAU,GAAI,UAAW,MAAO,EAAI,OAE/D,GAAI,OAAO,YAAY,IAAM,OAAQ,CACnC,MAAM,IAAI,gBAAgB,gDAAgD,CAC5E,CAEA,GAAI,UAAW,CACb,GAAI,CAAC,QAAS,CACZ,MAAM,IAAI,gBAAgB,kDAAkD,CAC9E,CAEA,MAAM,OAAS,iCAAiC,oBAAoB,EACpE,KAAM,CAAE,UAAW,cAAe,EAAI,MAAM,OAAO,CACjD,QACA,QAAS,KAAK,QACd,IACA,KACA,OACA,OAAQ,QAAU,EACpB,CAAC,EAED,MAAM,WAAa,iCAAiC,gBAAgB,EACpE,MAAMA,SAAU,WAAW,SAAS,EACpC,GAAI,CAACA,SAAS,CACZ,MAAM,IAAI,MAAM,yCAAyC,CAC3D,CAEA,MAAO,CACL,UACA,IAAKA,SAAQ,KAAO,GACpB,OAAQ,QAAQA,SAAQ,MAAM,EAC9B,QAAS,QAAQ,cAAc,CACjC,CACF,CAEA,MAAM,YAAc,iCAAiC,4BAA4B,EACjF,MAAM,OAAS,MAAM,YACnB,KAAK,QACL,IACA,KACA,OACA,CAAE,KAAM,KAAK,IAAK,CACpB,EAEA,MAAM,QAAU,YAAa,OAAS,OAAO,QAAU,OACvD,MAAM,QAAU,YAAa,OAAS,OAAO,QAAU,MAEvD,GAAI,QAAS,CACX,MAAM,aAAe,UAAU,KAAK,OAAO,EAAI,QAAU,GAAG,OAAO,KACnE,MAAM,WAAa,iCAAiC,mBAAmB,EACvE,WAAW,QAAS,YAAY,CAClC,CAEA,MAAO,CACL,UAAW,QAAQ,GACnB,IAAK,QAAQ,KAAO,GACpB,OAAQ,QAAQ,QAAQ,MAAM,EAC9B,OACF,CACF,CAOA,MAAM,UAAU,OAAwD,CACtE,KAAM,CAAE,UAAW,KAAM,EAAI,OAC7B,MAAM,WAAa,iCAAiC,gBAAgB,EACpE,MAAM,WAAa,iCAAiC,mBAAmB,EACvE,MAAM,QAAU,WAAW,SAAS,EAEpC,GAAI,CAAC,SAAW,QAAQ,OAAQ,CAC9B,MAAM,IAAI,gBAAgB,4BAA4B,CACxD,CAEA,WAAW,QAAS,KAAK,EACzB,MAAO,CAAE,GAAI,IAAK,CACpB,CACF,CAQO,SAAS,sBAAsB,QAAiB,QAA6B,CAAC,EAAoB,CACvG,OAAO,IAAI,gBAAgB,QAAS,OAAO,CAC7C,CAFgB","names":["session"],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/services/terminal-service.ts"],"sourcesContent":["import {\n  getOrCreateTerminalSession,\n  getSessionById,\n  queueSessionInput,\n} from '../core/terminal-sessions.js';\nimport { launchAgentProcess } from '../core/agents.js';\nimport { ValidationError } from '../infrastructure/errors/index.js';\nimport type { TerminalOpenInput, TerminalSendInput } from '../validation/index.js';\nimport type { ITerminalService } from '../types/services.js';\n\nexport interface TerminalOpenResult {\n  sessionId: string;\n  log: string;\n  closed: boolean;\n  created: boolean;\n}\n\nexport interface TerminalSendResult {\n  ok: boolean;\n}\n\ntype TerminalServiceDependencyOverrides = Partial<{\n  getOrCreateTerminalSession: typeof getOrCreateTerminalSession;\n  getSessionById: typeof getSessionById;\n  queueSessionInput: typeof queueSessionInput;\n  launchAgentProcess: typeof launchAgentProcess;\n}>;\n\nconst terminalServiceDependencies = {\n  getOrCreateTerminalSession,\n  getSessionById,\n  queueSessionInput,\n  launchAgentProcess,\n} as const;\n\nlet terminalServiceTestOverrides: TerminalServiceDependencyOverrides | null = null;\n\nfunction resolveTerminalServiceDependency<K extends keyof typeof terminalServiceDependencies>(\n  key: K\n): (typeof terminalServiceDependencies)[K] {\n  const overrides = terminalServiceTestOverrides || {};\n  const override = overrides[key];\n  if (override) {\n    return override as (typeof terminalServiceDependencies)[K];\n  }\n  return terminalServiceDependencies[key];\n}\n\nexport function __setTerminalServiceTestOverrides(overrides?: TerminalServiceDependencyOverrides): void {\n  terminalServiceTestOverrides = overrides ?? null;\n}\n\n/**\n * Service for terminal session orchestration\n */\nexport class TerminalService implements ITerminalService {\n  private readonly mode: string;\n\n  constructor(private readonly workdir: string, options: { mode?: string } = {}) {\n    this.mode = typeof options.mode === 'string' ? options.mode : 'auto';\n  }\n\n  /**\n   * Opens or creates a terminal session\n   * @param params - Session parameters\n   * @returns Session information\n   */\n  async openTerminal(params: TerminalOpenInput): Promise<TerminalOpenResult> {\n    const { org, repo, branch, command = '', hasPrompt, prompt } = params;\n\n    if (branch.toLowerCase() === 'main') {\n      throw new ValidationError('Terminal access to the main branch is disabled');\n    }\n\n    if (hasPrompt) {\n      if (!command) {\n        throw new ValidationError('command must be provided when prompt is included');\n      }\n\n      const launch = resolveTerminalServiceDependency('launchAgentProcess');\n      const { sessionId, createdSession } = await launch({\n        command,\n        workdir: this.workdir,\n        org,\n        repo,\n        branch,\n        prompt: prompt ?? '',\n      });\n\n      const getSession = resolveTerminalServiceDependency('getSessionById');\n      const session = getSession(sessionId);\n      if (!session) {\n        throw new Error('Terminal session not found after launch');\n      }\n\n      return {\n        sessionId,\n        log: session.log || '',\n        closed: Boolean(session.closed),\n        created: Boolean(createdSession),\n      };\n    }\n\n    const getOrCreate = resolveTerminalServiceDependency('getOrCreateTerminalSession');\n    const result = await getOrCreate(\n      this.workdir,\n      org,\n      repo,\n      branch,\n      { mode: this.mode }\n    );\n\n    const session = 'session' in result ? result.session : result;\n    const created = 'created' in result ? result.created : false;\n\n    if (command) {\n      const commandInput = /[\\r\\n]$/.test(command) ? command : `${command}\\r`;\n      const queueInput = resolveTerminalServiceDependency('queueSessionInput');\n      queueInput(session, commandInput);\n    }\n\n    return {\n      sessionId: session.id,\n      log: session.log || '',\n      closed: Boolean(session.closed),\n      created,\n    };\n  }\n\n  /**\n   * Sends input to a terminal session\n   * @param params - Input parameters\n   * @returns Success result\n   */\n  async sendInput(params: TerminalSendInput): Promise<TerminalSendResult> {\n    const { sessionId, input } = params;\n    const getSession = resolveTerminalServiceDependency('getSessionById');\n    const queueInput = resolveTerminalServiceDependency('queueSessionInput');\n    const session = getSession(sessionId);\n    \n    if (!session || session.closed) {\n      throw new ValidationError('Terminal session not found');\n    }\n\n    queueInput(session, input);\n    return { ok: true };\n  }\n}\n\n/**\n * Creates a terminal service instance\n * @param workdir - Work directory root\n * @param options - Service options\n * @returns TerminalService instance\n */\nexport function createTerminalService(workdir: string, options: { mode?: string } = {}): TerminalService {\n  return new TerminalService(workdir, options);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/repositories/git-repository.ts":{"lineLengths":[2918,0,9398],"data":{"version":3,"mappings":"kHAAA,OAAS,cAAiB,YAC1B,OAAS,aAAgB,qBAEzB,MAAM,cAAgB,UAAU,QAAQ,EAMxC,IAAI,2BAAyD,KAE7D,SAAS,sBAA6C,CACpD,OAAO,4BAA4B,eAAiB,aACtD,CAFS,oDAIF,SAAS,gCAAgC,UAEvC,CACP,2BAA6B,WAAa,IAC5C,CAJgB,0EAST,MAAM,iBAAmB,CAC9B,MAAO,KAAO,GACd,OAAQ,KAAO,KACf,MAAO,KAAO,KAAO,EACrB,OAAQ,KAAO,KAAO,EACxB,EAiBO,MAAM,wBAAwB,KAAM,CA9C3C,MA8C2C,gCACzB,QACA,KACA,eACA,OACA,OAEhB,YAAY,QAAiB,KAAgB,cAAwB,eAAgC,KAAM,CACzG,MAAM,MAAQ,cACd,MAAM,OAAS,OAAO,OAAS,MAAM,OAAO,SAAS,EAAE,KAAK,EAAI,GAChE,MAAM,OAAS,OAAO,OAAS,MAAM,OAAO,SAAS,EAAE,KAAK,EAAI,GAChE,MAAM,QAAU,QAAU,QAAU,OAAO,SAAW,oBAEtD,MAAM,OAAO,EACb,KAAK,KAAO,kBACZ,KAAK,QAAU,QACf,KAAK,KAAO,KACZ,KAAK,eAAiB,eACtB,KAAK,OAAS,OACd,KAAK,OAAS,OAEd,GAAI,yBAAyB,MAAO,CAClC,KAAK,MAAQ,aACf,CAEA,MAAM,kBAAkB,KAAM,KAAK,WAAW,CAChD,CAES,UAAmB,CAC1B,MAAO,oBAAoB,KAAK,OAAO,SAAS,KAAK,MAAM,KAAK,GAAG,GAAK,EAAE,GAC5E,CACF,CASA,eAAsB,kBACpB,KACA,QAA6B,CAAC,EACH,CAC3B,KAAM,CACJ,IACA,UAAY,iBAAiB,OAC7B,IAAM,QAAQ,IACd,eAAiB,IACnB,EAAI,QAEJ,MAAM,SAAW,qBAAqB,EAEtC,GAAI,CACF,MAAM,OAAS,MAAM,SAAS,MAAO,KAAM,CACzC,IACA,UACA,IAAK,CAAE,GAAG,GAAI,CAChB,CAAC,EACD,OAAO,MACT,OAAS,MAAgB,CACvB,MAAM,IAAI,gBAAgB,MAAO,KAAM,MAAO,cAAc,CAC9D,CACF,CAvBsB,8CAgCtB,eAAsB,wBACpB,eACA,YACA,QAAqD,CAAC,EAC3B,CAC3B,MAAM,KAAO,CAAC,KAAM,eAAgB,GAAG,WAAW,EAClD,OAAO,kBAAkB,KAAM,CAC7B,GAAG,QACH,cACF,CAAC,CACH,CAVsB,0DAkBf,SAAS,uBAAuB,MAAgB,SAAmB,oBAA6B,CACrG,GAAI,iBAAiB,gBAAiB,CACpC,OAAO,MAAM,OACf,CAEA,MAAM,IAAM,MACZ,MAAM,OAAS,KAAK,OAAS,IAAI,OAAO,SAAS,EAAE,KAAK,EAAI,GAC5D,MAAM,OAAS,KAAK,OAAS,IAAI,OAAO,SAAS,EAAE,KAAK,EAAI,GAC5D,OAAQ,QAAU,QAAU,KAAK,SAAW,UAAU,KAAK,CAC7D,CATgB,wDAgBT,SAAS,gBAAgB,MAAyB,CACvD,MAAM,QAAU,uBAAuB,MAAO,EAAE,EAChD,MAAO,oCAAoC,KAAK,OAAO,CACzD,CAHgB,0CAUT,SAAS,gBAAgB,MAAyB,CACvD,MAAM,QAAU,uBAAuB,MAAO,EAAE,EAChD,MAAO,2BAA2B,KAAK,OAAO,CAChD,CAHgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/repositories/git-repository.ts"],"sourcesContent":["import { promisify } from 'node:util';\nimport { execFile } from 'node:child_process';\n\nconst execFileAsync = promisify(execFile);\n\ntype GitRepositoryTestOverrides = {\n  execFileAsync?: typeof execFileAsync;\n} | null;\n\nlet gitRepositoryTestOverrides: GitRepositoryTestOverrides = null;\n\nfunction resolveExecFileAsync(): typeof execFileAsync {\n  return gitRepositoryTestOverrides?.execFileAsync ?? execFileAsync;\n}\n\nexport function __setGitRepositoryTestOverrides(overrides?: {\n  execFileAsync?: typeof execFileAsync;\n}): void {\n  gitRepositoryTestOverrides = overrides ?? null;\n}\n\n/**\n * Default buffer sizes for git operations\n */\nexport const GIT_BUFFER_SIZES = {\n  SMALL: 1024 * 64,          // 64 KB - for simple commands\n  MEDIUM: 1024 * 1024,       // 1 MB - for most operations\n  LARGE: 1024 * 1024 * 4,    // 4 MB - for diffs\n  XLARGE: 1024 * 1024 * 16,  // 16 MB - for init commands\n} as const;\n\nexport interface GitCommandOptions {\n  cwd?: string;\n  maxBuffer?: number;\n  env?: NodeJS.ProcessEnv;\n  repositoryPath?: string | null;\n}\n\nexport interface GitCommandResult {\n  stdout: string;\n  stderr: string;\n}\n\n/**\n * Custom error for git operations\n */\nexport class GitCommandError extends Error {\n  public readonly command: string;\n  public readonly args: string[];\n  public readonly repositoryPath: string | null;\n  public readonly stderr: string;\n  public readonly stdout: string;\n\n  constructor(command: string, args: string[], originalError: unknown, repositoryPath: string | null = null) {\n    const error = originalError as { stderr?: Buffer | string; stdout?: Buffer | string; message?: string };\n    const stderr = error?.stderr ? error.stderr.toString().trim() : '';\n    const stdout = error?.stdout ? error.stdout.toString().trim() : '';\n    const message = stderr || stdout || error?.message || 'Unknown git error';\n    \n    super(message);\n    this.name = 'GitCommandError';\n    this.command = command;\n    this.args = args;\n    this.repositoryPath = repositoryPath;\n    this.stderr = stderr;\n    this.stdout = stdout;\n    \n    if (originalError instanceof Error) {\n      this.cause = originalError;\n    }\n    \n    Error.captureStackTrace(this, this.constructor);\n  }\n\n  override toString(): string {\n    return `GitCommandError: ${this.message} (git ${this.args?.join(' ') || ''})`;\n  }\n}\n\n/**\n * Executes a git command with standard error handling\n * @param args - Git command arguments (without 'git' itself)\n * @param options - Execution options\n * @returns Command result with stdout and stderr\n * @throws {GitCommandError}\n */\nexport async function executeGitCommand(\n  args: string[],\n  options: GitCommandOptions = {}\n): Promise<GitCommandResult> {\n  const {\n    cwd,\n    maxBuffer = GIT_BUFFER_SIZES.MEDIUM,\n    env = process.env,\n    repositoryPath = null,\n  } = options;\n\n  const execImpl = resolveExecFileAsync();\n\n  try {\n    const result = await execImpl('git', args, {\n      cwd,\n      maxBuffer,\n      env: { ...env },\n    });\n    return result;\n  } catch (error: unknown) {\n    throw new GitCommandError('git', args, error, repositoryPath);\n  }\n}\n\n/**\n * Executes a git command in a specific repository directory\n * @param repositoryPath - Path to the repository\n * @param commandArgs - Git command arguments (after -C flag)\n * @param options - Additional options\n * @returns Command result\n */\nexport async function executeGitCommandInRepo(\n  repositoryPath: string,\n  commandArgs: string[],\n  options: Omit<GitCommandOptions, 'repositoryPath'> = {}\n): Promise<GitCommandResult> {\n  const args = ['-C', repositoryPath, ...commandArgs];\n  return executeGitCommand(args, {\n    ...options,\n    repositoryPath,\n  });\n}\n\n/**\n * Extracts error message from a git error\n * @param error - The error object\n * @param fallback - Fallback message if extraction fails\n * @returns Error message\n */\nexport function extractGitErrorMessage(error: unknown, fallback: string = 'Unknown git error'): string {\n  if (error instanceof GitCommandError) {\n    return error.message;\n  }\n  \n  const err = error as { stderr?: Buffer | string; stdout?: Buffer | string; message?: string };\n  const stderr = err?.stderr ? err.stderr.toString().trim() : '';\n  const stdout = err?.stdout ? err.stdout.toString().trim() : '';\n  return (stderr || stdout || err?.message || fallback).trim();\n}\n\n/**\n * Checks if a git error indicates a \"not found\" condition\n * @param error - The error to check\n * @returns True if error indicates not found\n */\nexport function isNotFoundError(error: unknown): boolean {\n  const message = extractGitErrorMessage(error, '');\n  return /not found|does not exist|no such/i.test(message);\n}\n\n/**\n * Checks if a git error indicates a conflict\n * @param error - The error to check\n * @returns True if error indicates conflict\n */\nexport function isConflictError(error: unknown): boolean {\n  const message = extractGitErrorMessage(error, '');\n  return /conflict|already exists/i.test(message);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/repository-config.ts":{"lineLengths":[1576,703,0,5450],"data":{"version":3,"mappings":"kHAAA,OAAO,OAAQ,mBACf,OAAO,SAAU,YAEjB,MAAM,gBAAkB,iBAMxB,MAAM,eAAmC,OAAO,OAAO,CACrD,YAAa,EACf,CAAC,EAED,SAAS,cAAc,SAA0B,CAC/C,GAAI,CAAC,SAAU,CACb,MAAM,IAAI,MAAM,wDAAwD,CAC1E,CACA,OAAO,KAAK,KAAK,SAAU,eAAe,CAC5C,CALS,sCAOT,SAAS,eAAe,MAAkC,CACxD,MAAM,IAAM,MACZ,MAAM,YAAc,OAAO,KAAK,cAAgB,SAAW,IAAI,YAAY,KAAK,EAAI,GACpF,MAAO,CACL,WACF,CACF,CANS,wCAQT,eAAsB,qBAAqB,SAA6C,CACtF,GAAI,CAAC,SAAU,CACb,MAAM,IAAI,MAAM,gDAAgD,CAClE,CAEA,MAAM,WAAa,cAAc,QAAQ,EAEzC,GAAI,CACF,MAAM,IAAM,MAAM,GAAG,SAAS,WAAY,MAAM,EAChD,GAAI,CACF,MAAM,OAAS,KAAK,MAAM,GAAG,EAC7B,OAAO,eAAe,MAAM,CAC9B,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,QAAQ,KACN,mDAAmD,UAAU,IAC7D,KAAK,SAAW,KAClB,EACA,MAAO,CAAE,GAAG,cAAe,CAC7B,CACF,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,GAAI,KAAO,IAAI,OAAS,SAAU,CAChC,MAAO,CAAE,GAAG,cAAe,CAC7B,CACA,MAAM,KACR,CACF,CA3BsB,oDA6BtB,eAAsB,uBACpB,SACA,QAC2B,CAC3B,GAAI,CAAC,SAAU,CACb,MAAM,IAAI,MAAM,kDAAkD,CACpE,CAEA,MAAM,WAAa,cAAc,QAAQ,EACzC,MAAM,KAAO,MAAM,qBAAqB,QAAQ,EAChD,MAAM,KAAO,eAAe,CAAE,GAAG,KAAM,GAAG,OAAQ,CAAC,EACnD,MAAM,GAAG,UAAU,WAAY,GAAG,KAAK,UAAU,KAAM,KAAM,CAAC,CAAC;AAAA,EAAM,MAAM,EAC3E,OAAO,IACT,CAbsB,wDAetB,eAAsB,yBAAyB,SAAmC,CAChF,MAAM,OAAS,MAAM,qBAAqB,QAAQ,EAClD,OAAO,OAAO,aAAe,EAC/B,CAHsB,4DAKtB,eAAsB,yBAAyB,SAAkB,YAAgD,CAC/G,OAAO,uBAAuB,SAAU,CAAE,WAAY,CAAC,CACzD,CAFsB,4DAIf,SAAS,qBAAqB,MAAwB,CAC3D,OAAO,OAAO,QAAU,SAAW,MAAM,KAAK,EAAI,EACpD,CAFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/repository-config.ts"],"sourcesContent":["import fs from 'node:fs/promises';\nimport path from 'node:path';\n\nconst CONFIG_FILENAME = '.agentrix.json';\n\nexport interface RepositoryConfig {\n  initCommand: string;\n}\n\nconst DEFAULT_CONFIG: RepositoryConfig = Object.freeze({\n  initCommand: '',\n});\n\nfunction getConfigPath(repoRoot: string): string {\n  if (!repoRoot) {\n    throw new Error('repoRoot is required to resolve repository config path');\n  }\n  return path.join(repoRoot, CONFIG_FILENAME);\n}\n\nfunction sanitiseConfig(input: unknown): RepositoryConfig {\n  const inp = input as { initCommand?: string };\n  const initCommand = typeof inp?.initCommand === 'string' ? inp.initCommand.trim() : '';\n  return {\n    initCommand,\n  };\n}\n\nexport async function loadRepositoryConfig(repoRoot: string): Promise<RepositoryConfig> {\n  if (!repoRoot) {\n    throw new Error('repoRoot is required to load repository config');\n  }\n\n  const configPath = getConfigPath(repoRoot);\n\n  try {\n    const raw = await fs.readFile(configPath, 'utf8');\n    try {\n      const parsed = JSON.parse(raw);\n      return sanitiseConfig(parsed);\n    } catch (error: unknown) {\n      const err = error as { message?: string };\n      console.warn(\n        `[agentrix] Failed to parse repository config at ${configPath}:`,\n        err?.message || error\n      );\n      return { ...DEFAULT_CONFIG };\n    }\n  } catch (error: unknown) {\n    const err = error as { code?: string };\n    if (err && err.code === 'ENOENT') {\n      return { ...DEFAULT_CONFIG };\n    }\n    throw error;\n  }\n}\n\nexport async function updateRepositoryConfig(\n  repoRoot: string,\n  updates: Partial<RepositoryConfig>\n): Promise<RepositoryConfig> {\n  if (!repoRoot) {\n    throw new Error('repoRoot is required to update repository config');\n  }\n\n  const configPath = getConfigPath(repoRoot);\n  const base = await loadRepositoryConfig(repoRoot);\n  const next = sanitiseConfig({ ...base, ...updates });\n  await fs.writeFile(configPath, `${JSON.stringify(next, null, 2)}\\n`, 'utf8');\n  return next;\n}\n\nexport async function getRepositoryInitCommand(repoRoot: string): Promise<string> {\n  const config = await loadRepositoryConfig(repoRoot);\n  return config.initCommand || '';\n}\n\nexport async function setRepositoryInitCommand(repoRoot: string, initCommand: string): Promise<RepositoryConfig> {\n  return updateRepositoryConfig(repoRoot, { initCommand });\n}\n\nexport function normaliseInitCommand(value: unknown): string {\n  return typeof value === 'string' ? value.trim() : '';\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/default-branch.ts":{"lineLengths":[1926,0,5970],"data":{"version":3,"mappings":"kHAAA,OAAS,cAAiB,YAC1B,UAAY,iBAAkB,qBAE9B,MAAM,cAAgB,UAAU,aAAa,QAAQ,EAarD,SAAS,SAAS,MAAqC,CACrD,GAAI,CAAC,OAAS,OAAO,QAAU,SAAU,CACvC,OAAO,IACT,CACA,MAAM,QAAU,MAAM,KAAK,EAC3B,MAAM,MAAQ,QAAQ,MAAM,oBAAoB,EAChD,OAAO,MAAQ,MAAM,CAAC,EAAK,SAAW,IACxC,CAPS,4BAST,eAAsB,qBACpB,eACA,CAAE,OAAS,SAAU,QAAS,EAA0B,CAAC,EACxC,CACjB,GAAI,UAAY,OAAO,WAAa,UAAY,SAAS,KAAK,EAAG,CAC/D,OAAO,SAAS,KAAK,CACvB,CAEA,GAAI,CACF,KAAM,CAAE,MAAO,EAAI,MAAM,cAAc,MAAO,CAAC,KAAM,eAAgB,eAAgB,MAAM,EAAG,CAC5F,UAAW,KAAO,IACpB,CAAC,EACD,MAAM,WAAa,SAAS,MAAM,EAClC,GAAI,WAAY,CACd,OAAO,UACT,CACF,MAAQ,CAER,CAEA,GAAI,CACF,KAAM,CAAE,MAAO,EAAI,MAAM,cAAc,MAAO,CAAC,SAAU,OAAQ,MAAM,EAAG,CACxE,IAAK,eACL,UAAW,KAAO,IACpB,CAAC,EACD,MAAM,MAAQ,OAAO,MAAM,IAAI,EAC/B,UAAW,QAAQ,MAAO,CACxB,MAAM,QAAU,KAAK,KAAK,EAC1B,GAAI,CAAC,QAAQ,YAAY,EAAE,WAAW,cAAc,EAAG,CACrD,QACF,CACA,MAAM,OAAS,QAAQ,MAAM,eAAe,MAAM,EAAE,KAAK,EACzD,GAAI,QAAU,OAAO,YAAY,IAAM,YAAa,CAClD,OAAO,MACT,CACF,CACF,MAAQ,CAER,CAEA,MAAO,MACT,CAzCsB,oDA2Cf,SAAS,4BACd,OACA,IACA,KACoB,CACpB,GAAI,CAAC,OAAQ,CACX,OAAO,MACT,CACA,MAAM,IAAM,OACZ,KAAM,CAAE,UAAW,aAAc,MAAO,EAAI,IAG5C,GAAI,cAAgB,OAAO,eAAiB,SAAU,CACpD,MAAM,IAAM,GAAG,GAAG,IAAI,IAAI,GAC1B,MAAM,MAAQ,aAAa,GAAG,EAC9B,GAAI,OAAO,QAAU,UAAY,MAAM,KAAK,EAAG,CAC7C,OAAO,MAAM,KAAK,CACpB,CACF,CAGA,GAAI,WAAa,OAAO,YAAc,SAAU,CAC9C,MAAM,IAAM,GAAG,GAAG,IAAI,IAAI,GAC1B,MAAM,MAAQ,UAAU,GAAG,EAC3B,GAAI,OAAO,QAAU,UAAY,MAAM,KAAK,EAAG,CAC7C,OAAO,MAAM,KAAK,CACpB,CACF,CAGA,GAAI,OAAO,SAAW,UAAY,OAAO,KAAK,EAAG,CAC/C,OAAO,OAAO,KAAK,CACrB,CAEA,OAAO,MACT,CAnCgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/default-branch.ts"],"sourcesContent":["import { promisify } from 'node:util';\nimport * as childProcess from 'node:child_process';\n\nconst execFileAsync = promisify(childProcess.execFile);\n\nexport interface DefaultBranchOptions {\n  remote?: string;\n  override?: string;\n}\n\nexport interface DefaultBranchConfig {\n  global?: string;\n  overrides?: Record<string, string>;\n  repositories?: Record<string, string>;\n}\n\nfunction parseRef(value: string | null): string | null {\n  if (!value || typeof value !== 'string') {\n    return null;\n  }\n  const trimmed = value.trim();\n  const match = trimmed.match(/refs\\/heads\\/(.+)$/);\n  return match ? match[1]! : trimmed || null;\n}\n\nexport async function resolveDefaultBranch(\n  repositoryPath: string,\n  { remote = 'origin', override }: DefaultBranchOptions = {}\n): Promise<string> {\n  if (override && typeof override === 'string' && override.trim()) {\n    return override.trim();\n  }\n\n  try {\n    const { stdout } = await execFileAsync('git', ['-C', repositoryPath, 'symbolic-ref', 'HEAD'], {\n      maxBuffer: 1024 * 1024,\n    });\n    const headBranch = parseRef(stdout);\n    if (headBranch) {\n      return headBranch;\n    }\n  } catch {\n    // fall through to remote inspection\n  }\n\n  try {\n    const { stdout } = await execFileAsync('git', ['remote', 'show', remote], {\n      cwd: repositoryPath,\n      maxBuffer: 1024 * 1024,\n    });\n    const lines = stdout.split('\\n');\n    for (const line of lines) {\n      const trimmed = line.trim();\n      if (!trimmed.toLowerCase().startsWith('head branch:')) {\n        continue;\n      }\n      const branch = trimmed.slice('head branch:'.length).trim();\n      if (branch && branch.toLowerCase() !== '(unknown)') {\n        return branch;\n      }\n    }\n  } catch {\n    // fall through\n  }\n\n  return 'main';\n}\n\nexport function selectDefaultBranchOverride(\n  config: DefaultBranchConfig | unknown,\n  org: string,\n  repo: string\n): string | undefined {\n  if (!config) {\n    return undefined;\n  }\n  const cfg = config as DefaultBranchConfig;\n  const { overrides, repositories, global } = cfg;\n  \n  // Try repository-specific override first\n  if (repositories && typeof repositories === 'object') {\n    const key = `${org}/${repo}`;\n    const value = repositories[key];\n    if (typeof value === 'string' && value.trim()) {\n      return value.trim();\n    }\n  }\n  \n  // Try legacy overrides format\n  if (overrides && typeof overrides === 'object') {\n    const key = `${org}/${repo}`;\n    const value = overrides[key];\n    if (typeof value === 'string' && value.trim()) {\n      return value.trim();\n    }\n  }\n  \n  // Fall back to global default\n  if (typeof global === 'string' && global.trim()) {\n    return global.trim();\n  }\n  \n  return undefined;\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/repository-schema.ts":{"lineLengths":[1087,0,3062],"data":{"version":3,"mappings":"kHAAA,OACE,iBACA,iBACA,oBACK,0BAqBA,SAAS,yBAAyB,QAAyC,CAChF,GAAI,CAAC,SAAW,OAAO,UAAY,SAAU,CAC3C,MAAM,IAAI,MAAM,yBAAyB,CAC3C,CAEA,MAAM,KAAO,QACb,MAAM,IAAM,gBAAgB,KAAK,KAAK,GAAK,KAAK,SAAS,EAAG,gBAAgB,EAC5E,KAAM,CAAE,WAAY,EAAI,iBAAiB,KAAM,CAAE,YAAa,EAAG,CAAC,EAElE,MAAO,CAAE,IAAK,WAAY,CAC5B,CAVgB,4DAeT,SAAS,yBAAyB,QAAyC,CAChF,OAAO,iBAAiB,QAAS,CAAC,MAAO,MAAM,CAAU,CAC3D,CAFgB,4DAOT,SAAS,0BAA0B,QAA0C,CAClF,KAAM,CAAE,IAAK,IAAK,EAAI,iBAAiB,QAAS,CAAC,MAAO,MAAM,CAAU,EACxE,MAAM,KAAO,QACb,MAAM,YAAc,OAAO,KAAK,aAAa,IAAM,SAC/C,KAAK,aAAa,EAClB,GAEJ,MAAO,CAAE,IAAK,KAAM,WAAY,CAClC,CARgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/repository-schema.ts"],"sourcesContent":["import {\n  validateRequired,\n  validateOptional,\n  requireNonEmpty,\n} from '../request-validator.js';\n\nexport interface RepositoryCreateInput {\n  url: string;\n  initCommand: string;\n}\n\nexport interface RepositoryDeleteInput {\n  org: string;\n  repo: string;\n}\n\nexport interface InitCommandUpdateInput {\n  org: string;\n  repo: string;\n  initCommand: string;\n}\n\n/**\n * Validates a repository creation request\n */\nexport function validateRepositoryCreate(payload: unknown): RepositoryCreateInput {\n  if (!payload || typeof payload !== 'object') {\n    throw new Error('Invalid request payload');\n  }\n\n  const data = payload as Record<string, unknown>;\n  const url = requireNonEmpty(data['url'] || data['repoUrl'], 'Repository URL');\n  const { initCommand } = validateOptional(data, { initCommand: '' });\n\n  return { url, initCommand };\n}\n\n/**\n * Validates a repository deletion request\n */\nexport function validateRepositoryDelete(payload: unknown): RepositoryDeleteInput {\n  return validateRequired(payload, ['org', 'repo'] as const);\n}\n\n/**\n * Validates an init command update request\n */\nexport function validateInitCommandUpdate(payload: unknown): InitCommandUpdateInput {\n  const { org, repo } = validateRequired(payload, ['org', 'repo'] as const);\n  const data = payload as Record<string, unknown>;\n  const initCommand = typeof data['initCommand'] === 'string' \n    ? data['initCommand'] as string\n    : '';\n\n  return { org, repo, initCommand };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/worktree-schema.ts":{"lineLengths":[911,0,2694],"data":{"version":3,"mappings":"kHAAA,OAAS,qBAAwB,0BAmB1B,SAAS,uBAAuB,QAAuC,CAC5E,GAAI,CAAC,SAAW,OAAO,UAAY,SAAU,CAC3C,MAAM,IAAI,MAAM,yBAAyB,CAC3C,CAEA,MAAM,KAAO,QACb,KAAM,CAAE,IAAK,IAAK,EAAI,iBAAiB,KAAM,CAAC,MAAO,MAAM,CAAU,EAErE,MAAM,YAAc,OAAO,KAAK,QAAQ,IAAM,SAAW,KAAK,QAAQ,EAAE,KAAK,EAAI,GACjF,MAAM,UAAY,OAAO,KAAK,QAAQ,IAAM,SAAW,KAAK,QAAQ,EAAI,GACxE,MAAM,OAAS,UAAU,KAAK,EAE9B,MAAO,CACL,IACA,KACA,OAAQ,YACR,OACA,UAAW,QAAQ,MAAM,CAC3B,CACF,CAnBgB,wDAwBT,SAAS,uBAAuB,QAAuC,CAC5E,KAAM,CAAE,IAAK,KAAM,MAAO,EAAI,iBAAiB,QAAS,CAAC,MAAO,OAAQ,QAAQ,CAAU,EAC1F,MAAO,CAAE,IAAK,KAAM,MAAO,CAC7B,CAHgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/worktree-schema.ts"],"sourcesContent":["import { validateRequired } from '../request-validator.js';\n\nexport interface WorktreeCreateInput {\n  org: string;\n  repo: string;\n  branch: string;\n  prompt: string;\n  hasPrompt: boolean;\n}\n\nexport interface WorktreeDeleteInput {\n  org: string;\n  repo: string;\n  branch: string;\n}\n\n/**\n * Validates a worktree creation request\n */\nexport function validateWorktreeCreate(payload: unknown): WorktreeCreateInput {\n  if (!payload || typeof payload !== 'object') {\n    throw new Error('Invalid request payload');\n  }\n\n  const data = payload as Record<string, unknown>;\n  const { org, repo } = validateRequired(data, ['org', 'repo'] as const);\n\n  const branchInput = typeof data['branch'] === 'string' ? data['branch'].trim() : '';\n  const rawPrompt = typeof data['prompt'] === 'string' ? data['prompt'] : '';\n  const prompt = rawPrompt.trim();\n\n  return {\n    org,\n    repo,\n    branch: branchInput,\n    prompt,\n    hasPrompt: Boolean(prompt),\n  };\n}\n\n/**\n * Validates a worktree deletion request\n */\nexport function validateWorktreeDelete(payload: unknown): WorktreeDeleteInput {\n  const { org, repo, branch } = validateRequired(payload, ['org', 'repo', 'branch'] as const);\n  return { org, repo, branch };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/terminal-schema.ts":{"lineLengths":[1465,0,4054],"data":{"version":3,"mappings":"kHAAA,OAAS,iBAAkB,oBAAuB,0BAClD,OAAS,oBAAuB,uCAmBzB,SAAS,qBAAqB,QAAqC,CACxE,GAAI,CAAC,SAAW,OAAO,UAAY,SAAU,CAC3C,MAAM,IAAI,gBAAgB,yBAAyB,CACrD,CAEA,MAAM,KAAO,QACb,KAAM,CAAE,IAAK,KAAM,MAAO,EAAI,iBAAiB,KAAM,CAAC,MAAO,OAAQ,QAAQ,CAAU,EAEvF,GAAI,OAAO,YAAY,IAAM,OAAQ,CACnC,MAAM,IAAI,gBAAgB,gDAAgD,CAC5E,CAEA,MAAM,QAAU,OAAO,KAAK,SAAS,IAAM,SAAW,KAAK,SAAS,EAAE,KAAK,EAAI,GAC/E,MAAM,UAAY,OAAO,UAAU,eAAe,KAAK,KAAM,QAAQ,EACrE,MAAM,OAAS,UAAY,KAAK,QAAQ,EAAI,OAE5C,GAAI,WAAa,OAAO,SAAW,SAAU,CAC3C,MAAM,IAAI,gBAAgB,yBAAyB,CACrD,CAEA,GAAI,WAAa,CAAC,QAAS,CACzB,MAAM,IAAI,gBAAgB,kDAAkD,CAC9E,CAEA,MAAO,CAAE,IAAK,KAAM,OAAQ,QAAS,UAAW,MAAqC,CACvF,CAzBgB,oDA8BT,SAAS,qBAAqB,QAAqC,CACxE,GAAI,CAAC,SAAW,OAAO,UAAY,SAAU,CAC3C,MAAM,IAAI,gBAAgB,yBAAyB,CACrD,CAEA,MAAM,KAAO,QACb,MAAM,UAAY,gBAAgB,KAAK,WAAW,EAAG,WAAW,EAChE,MAAM,MAAQ,OAAO,KAAK,OAAO,IAAM,SAAW,KAAK,OAAO,EAAI,GAElE,MAAO,CAAE,UAAW,KAAM,CAC5B,CAVgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/validation/schemas/terminal-schema.ts"],"sourcesContent":["import { validateRequired, requireNonEmpty } from '../request-validator.js';\nimport { ValidationError } from '../../infrastructure/errors/index.js';\n\nexport interface TerminalOpenInput {\n  org: string;\n  repo: string;\n  branch: string;\n  command: string;\n  hasPrompt: boolean;\n  prompt?: string;\n}\n\nexport interface TerminalSendInput {\n  sessionId: string;\n  input: string;\n}\n\n/**\n * Validates a terminal open request\n */\nexport function validateTerminalOpen(payload: unknown): TerminalOpenInput {\n  if (!payload || typeof payload !== 'object') {\n    throw new ValidationError('Invalid request payload');\n  }\n\n  const data = payload as Record<string, unknown>;\n  const { org, repo, branch } = validateRequired(data, ['org', 'repo', 'branch'] as const);\n\n  if (branch.toLowerCase() === 'main') {\n    throw new ValidationError('Terminal access to the main branch is disabled');\n  }\n\n  const command = typeof data['command'] === 'string' ? data['command'].trim() : '';\n  const hasPrompt = Object.prototype.hasOwnProperty.call(data, 'prompt');\n  const prompt = hasPrompt ? data['prompt'] : undefined;\n\n  if (hasPrompt && typeof prompt !== 'string') {\n    throw new ValidationError('prompt must be a string');\n  }\n\n  if (hasPrompt && !command) {\n    throw new ValidationError('command must be provided when prompt is included');\n  }\n\n  return { org, repo, branch, command, hasPrompt, prompt: prompt as string | undefined };\n}\n\n/**\n * Validates a terminal send input request\n */\nexport function validateTerminalSend(payload: unknown): TerminalSendInput {\n  if (!payload || typeof payload !== 'object') {\n    throw new ValidationError('Invalid request payload');\n  }\n\n  const data = payload as Record<string, unknown>;\n  const sessionId = requireNonEmpty(data['sessionId'], 'sessionId');\n  const input = typeof data['input'] === 'string' ? data['input'] : '';\n\n  return { sessionId, input };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/domain/git-url-parser.ts":{"lineLengths":[1552,0,5774],"data":{"version":3,"mappings":"kHAgBO,SAAS,mBAAmB,MAA4B,CAC7D,GAAI,OAAO,QAAU,UAAY,CAAC,MAAM,KAAK,EAAG,CAC9C,MAAM,IAAI,MAAM,4BAA4B,CAC9C,CAEA,MAAM,QAAU,MAAM,KAAK,EAC3B,IAAI,IAAM,GACV,IAAI,KAAO,GAGX,MAAM,SAAW,QAAQ,MAAM,2BAA2B,EAC1D,GAAI,SAAU,CACZ,IAAM,SAAS,CAAC,EAChB,KAAO,SAAS,CAAC,CACnB,KAAO,CAEL,GAAI,CACF,GAAI,gBAAgB,KAAK,OAAO,EAAG,CACjC,MAAM,IAAM,IAAI,IAAI,OAAO,EAC3B,MAAM,MAAQ,IAAI,SAAS,QAAQ,MAAO,EAAE,EAAE,MAAM,GAAG,EAAE,OAAO,OAAO,EACvE,GAAI,MAAM,QAAU,EAAG,CACrB,IAAM,MAAM,MAAM,OAAS,CAAC,EAC5B,KAAO,MAAM,MAAM,OAAS,CAAC,CAC/B,CACF,CACF,MAAQ,CAER,CAGA,GAAI,CAAC,KAAO,CAAC,KAAM,CACjB,MAAM,QAAU,QAAQ,QAAQ,SAAU,EAAE,EAC5C,MAAM,SAAW,QAAQ,MAAM,QAAQ,EAAE,OAAO,OAAO,EACvD,GAAI,SAAS,QAAU,EAAG,CACxB,IAAM,SAAS,SAAS,OAAS,CAAC,EAClC,KAAO,SAAS,SAAS,OAAS,CAAC,CACrC,CACF,CAGA,IAAK,CAAC,KAAO,CAAC,OAAS,QAAQ,SAAS,GAAG,EAAG,CAC5C,MAAM,KAAO,QAAQ,MAAM,GAAG,EAAE,IAAI,GAAK,GACzC,MAAM,SAAW,KAAK,QAAQ,SAAU,EAAE,EAAE,MAAM,GAAG,EAAE,OAAO,OAAO,EACrE,GAAI,SAAS,QAAU,EAAG,CACxB,IAAM,SAAS,SAAS,OAAS,CAAC,EAClC,KAAO,SAAS,SAAS,OAAS,CAAC,CACrC,CACF,CACF,CAGA,KAAO,KAAO,KAAK,QAAQ,SAAU,EAAE,EAAI,KAE3C,GAAI,CAAC,KAAO,CAAC,KAAM,CACjB,MAAM,IAAI,MAAM,+DAA+D,CACjF,CAEA,MAAO,CAAE,IAAK,KAAM,IAAK,OAAQ,CACnC,CA1DgB,gDA+DT,MAAM,MAAO,CA/EpB,MA+EoB,uBACF,IACA,KACA,IAEhB,YAAY,IAAa,CACvB,MAAM,OAAS,mBAAmB,GAAG,EACrC,KAAK,IAAM,OAAO,IAClB,KAAK,KAAO,OAAO,KACnB,KAAK,IAAM,OAAO,GACpB,CAEA,UAAmB,CACjB,OAAO,KAAK,GACd,CAEA,cAAuB,CACrB,MAAO,GAAG,KAAK,GAAG,IAAI,KAAK,IAAI,EACjC,CACF","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/domain/git-url-parser.ts"],"sourcesContent":["/**\n * Git URL parsing utilities\n */\n\nexport interface GitUrlParts {\n  org: string;\n  repo: string;\n  url: string;\n}\n\n/**\n * Parses a Git repository URL into org and repo components\n * @param input - Repository URL (SSH, HTTPS, or path format)\n * @returns Object with {org, repo, url} properties\n * @throws {Error} If URL cannot be parsed\n */\nexport function parseRepositoryUrl(input: string): GitUrlParts {\n  if (typeof input !== 'string' || !input.trim()) {\n    throw new Error('Repository URL is required');\n  }\n\n  const trimmed = input.trim();\n  let org = '';\n  let repo = '';\n\n  // Try SSH format: git@github.com:org/repo.git\n  const sshMatch = trimmed.match(/^git@[^:]+:([^/]+)\\/(.+)$/);\n  if (sshMatch) {\n    org = sshMatch[1]!;\n    repo = sshMatch[2]!;\n  } else {\n    // Try HTTPS/HTTP URL format\n    try {\n      if (/^[a-z]+:\\/\\//i.test(trimmed)) {\n        const url = new URL(trimmed);\n        const parts = url.pathname.replace(/^\\//, '').split('/').filter(Boolean);\n        if (parts.length >= 2) {\n          org = parts[parts.length - 2]!;\n          repo = parts[parts.length - 1]!;\n        }\n      }\n    } catch {\n      // ignore URL parsing errors and fall back to manual parsing\n    }\n\n    // If not parsed yet, try path-like format\n    if (!org || !repo) {\n      const cleaned = trimmed.replace(/\\.git$/, '');\n      const segments = cleaned.split(/[\\\\/]+/).filter(Boolean);\n      if (segments.length >= 2) {\n        org = segments[segments.length - 2]!;\n        repo = segments[segments.length - 1]!;\n      }\n    }\n\n    // Try colon-separated format (alternate SSH style)\n    if ((!org || !repo) && trimmed.includes(':')) {\n      const tail = trimmed.split(':').pop() || '';\n      const segments = tail.replace(/\\.git$/, '').split('/').filter(Boolean);\n      if (segments.length >= 2) {\n        org = segments[segments.length - 2]!;\n        repo = segments[segments.length - 1]!;\n      }\n    }\n  }\n\n  // Remove .git extension from repo name\n  repo = repo ? repo.replace(/\\.git$/, '') : repo;\n\n  if (!org || !repo) {\n    throw new Error('Unable to determine repository organisation and name from URL');\n  }\n\n  return { org, repo, url: trimmed };\n}\n\n/**\n * Value object representing a parsed Git URL\n */\nexport class GitUrl {\n  public readonly org: string;\n  public readonly repo: string;\n  public readonly url: string;\n\n  constructor(url: string) {\n    const parsed = parseRepositoryUrl(url);\n    this.org = parsed.org;\n    this.repo = parsed.repo;\n    this.url = parsed.url;\n  }\n\n  toString(): string {\n    return this.url;\n  }\n\n  toIdentifier(): string {\n    return `${this.org}/${this.repo}`;\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/domain/branch-validator.ts":{"lineLengths":[1469,0,4914],"data":{"version":3,"mappings":"kHASO,SAAS,oBAAoB,OAAyB,CAC3D,GAAI,OAAO,SAAW,SAAU,CAC9B,MAAO,EACT,CACA,OAAO,OAAO,KAAK,CACrB,CALgB,kDAYT,SAAS,mBAAmB,OAAyB,CAC1D,OAAO,oBAAoB,MAAM,CACnC,CAFgB,gDAWT,SAAS,yBAAyB,OAAwB,CAC/D,MAAM,QAAU,oBAAoB,MAAM,EAC1C,GAAI,CAAC,QAAS,CACZ,MAAM,IAAI,MAAM,6BAA6B,CAC/C,CACA,MAAM,MAAQ,QAAQ,MAAM,GAAG,EAAE,OAAO,OAAO,EAC/C,MAAM,OAAS,MAAM,MAAM,OAAS,CAAC,EACrC,GAAI,CAAC,OAAQ,CACX,MAAM,IAAI,MAAM,mDAAmD,CACrE,CACA,OAAO,MACT,CAXgB,4DAmBT,SAAS,mBAAmB,OAAwB,CACzD,MAAM,WAAa,oBAAoB,MAAM,EAC7C,GAAI,CAAC,WAAY,CACf,MAAM,IAAI,MAAM,6BAA6B,CAC/C,CACA,OAAO,UACT,CANgB,gDAWT,MAAM,UAAW,CA9DxB,MA8DwB,2BACN,MAEhB,YAAY,KAAc,CACxB,KAAK,MAAQ,mBAAmB,IAAI,CACtC,CAEA,UAAmB,CACjB,OAAO,KAAK,KACd,CAMA,cAAuB,CACrB,OAAO,yBAAyB,KAAK,KAAK,CAC5C,CAOA,UAAU,cAAwB,OAAiB,CACjD,OAAO,KAAK,MAAM,YAAY,IAAM,cAAc,YAAY,CAChE,CAEA,OAAO,MAAqC,CAC1C,GAAI,iBAAiB,WAAY,CAC/B,OAAO,KAAK,QAAU,MAAM,KAC9B,CACA,OAAO,KAAK,QAAU,KACxB,CACF","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/domain/branch-validator.ts"],"sourcesContent":["/**\n * Branch name validation and normalization\n */\n\n/**\n * Normalizes a branch name by trimming whitespace\n * @param branch - Branch name to normalize\n * @returns Normalized branch name\n */\nexport function normalizeBranchName(branch: unknown): string {\n  if (typeof branch !== 'string') {\n    return '';\n  }\n  return branch.trim();\n}\n\n/**\n * Sanitizes a branch name (alias for normalizeBranchName for clarity)\n * @param branch - Branch name to sanitize\n * @returns Sanitized branch name\n */\nexport function sanitizeBranchName(branch: unknown): string {\n  return normalizeBranchName(branch);\n}\n\n/**\n * Derives a worktree folder name from a branch name\n * Takes the last segment after splitting by '/'\n * @param branch - Branch name\n * @returns Folder name for the worktree\n * @throws {Error} If branch name is invalid or empty\n */\nexport function deriveWorktreeFolderName(branch: string): string {\n  const trimmed = normalizeBranchName(branch);\n  if (!trimmed) {\n    throw new Error('Branch name cannot be empty');\n  }\n  const parts = trimmed.split('/').filter(Boolean);\n  const folder = parts[parts.length - 1];\n  if (!folder) {\n    throw new Error('Unable to derive worktree folder from branch name');\n  }\n  return folder;\n}\n\n/**\n * Validates that a branch name is not empty\n * @param branch - Branch name to validate\n * @returns Validated branch name\n * @throws {Error} If branch name is invalid\n */\nexport function validateBranchName(branch: string): string {\n  const normalized = normalizeBranchName(branch);\n  if (!normalized) {\n    throw new Error('Branch name cannot be empty');\n  }\n  return normalized;\n}\n\n/**\n * Value object representing a branch name\n */\nexport class BranchName {\n  public readonly value: string;\n\n  constructor(name: string) {\n    this.value = validateBranchName(name);\n  }\n\n  toString(): string {\n    return this.value;\n  }\n\n  /**\n   * Gets the worktree folder name for this branch\n   * @returns Folder name\n   */\n  toFolderName(): string {\n    return deriveWorktreeFolderName(this.value);\n  }\n\n  /**\n   * Checks if this is the main/default branch\n   * @param defaultBranch - The default branch name (default: 'main')\n   * @returns True if this is the default branch\n   */\n  isDefault(defaultBranch: string = 'main'): boolean {\n    return this.value.toLowerCase() === defaultBranch.toLowerCase();\n  }\n\n  equals(other: BranchName | string): boolean {\n    if (other instanceof BranchName) {\n      return this.value === other.value;\n    }\n    return this.value === other;\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/domain/worktree.ts":{"lineLengths":[728,0,3054],"data":{"version":3,"mappings":"kHAcO,MAAM,QAAS,CAdtB,MAcsB,yBACJ,KACA,OACA,IACA,KAEhB,YAAY,CAAE,KAAM,OAAQ,IAAK,IAAK,EAAiB,CACrD,KAAK,KAAO,KACZ,KAAK,OAAS,OACd,KAAK,IAAM,IACX,KAAK,KAAO,IACd,CAMA,QAAiB,CACf,MAAO,GAAG,KAAK,GAAG,KAAK,KAAK,IAAI,KAAK,KAAK,MAAM,EAClD,CAMA,iBAA0B,CACxB,MAAO,GAAG,KAAK,GAAG,IAAI,KAAK,IAAI,EACjC,CAOA,eAAe,cAAwB,OAAiB,CACtD,OAAO,OAAO,KAAK,SAAW,UAAY,KAAK,OAAO,YAAY,IAAM,cAAc,YAAY,CACpG,CAEA,QAAuB,CACrB,MAAO,CACL,KAAM,KAAK,KACX,OAAQ,KAAK,OACb,IAAK,KAAK,IACV,KAAM,KAAK,IACb,CACF,CACF,CAOO,SAAS,eAAe,KAA8B,CAC3D,OAAO,IAAI,SAAS,IAAI,CAC1B,CAFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/domain/worktree.ts"],"sourcesContent":["/**\n * Worktree domain entity\n */\n\nexport interface WorktreeData {\n  path: string;\n  branch: string;\n  org: string;\n  repo: string;\n}\n\n/**\n * Represents a Git worktree\n */\nexport class Worktree {\n  public readonly path: string;\n  public readonly branch: string;\n  public readonly org: string;\n  public readonly repo: string;\n\n  constructor({ path, branch, org, repo }: WorktreeData) {\n    this.path = path;\n    this.branch = branch;\n    this.org = org;\n    this.repo = repo;\n  }\n\n  /**\n   * Gets the unique key for this worktree\n   * @returns Format: org::repo::branch\n   */\n  getKey(): string {\n    return `${this.org}::${this.repo}::${this.branch}`;\n  }\n\n  /**\n   * Gets the repository identifier\n   * @returns Format: org/repo\n   */\n  getRepositoryId(): string {\n    return `${this.org}/${this.repo}`;\n  }\n\n  /**\n   * Checks if this is the main worktree\n   * @param defaultBranch - The default branch name\n   * @returns True if this is the main worktree\n   */\n  isMainWorktree(defaultBranch: string = 'main'): boolean {\n    return typeof this.branch === 'string' && this.branch.toLowerCase() === defaultBranch.toLowerCase();\n  }\n\n  toJSON(): WorktreeData {\n    return {\n      path: this.path,\n      branch: this.branch,\n      org: this.org,\n      repo: this.repo,\n    };\n  }\n}\n\n/**\n * Creates a worktree instance from raw data\n * @param data - Raw worktree data\n * @returns Worktree instance\n */\nexport function createWorktree(data: WorktreeData): Worktree {\n  return new Worktree(data);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/domain/repository.ts":{"lineLengths":[844,0,3874],"data":{"version":3,"mappings":"kHAcO,MAAM,UAAW,CAdxB,MAcwB,2BACN,IACA,KACA,SACA,YAEhB,YAAY,CAAE,IAAK,KAAM,SAAW,CAAC,EAAG,YAAc,EAAG,EAAmB,CAC1E,KAAK,IAAM,IACX,KAAK,KAAO,KACZ,KAAK,SAAW,SAChB,KAAK,YAAc,WACrB,CAMA,OAAgB,CACd,MAAO,GAAG,KAAK,GAAG,IAAI,KAAK,IAAI,EACjC,CAOA,QAAQ,QAAyB,CAC/B,MAAO,GAAG,OAAO,IAAI,KAAK,GAAG,IAAI,KAAK,IAAI,EAC5C,CAOA,kBAAkB,QAAyB,CACzC,MAAO,GAAG,KAAK,QAAQ,OAAO,CAAC,aACjC,CAMA,aAAuB,CACrB,OAAO,KAAK,SAAS,OAAS,CAChC,CAOA,UAAU,WAA6B,CACrC,OAAO,KAAK,SAAS,SAAS,UAAU,CAC1C,CAEA,QAAyB,CACvB,MAAO,CACL,IAAK,KAAK,IACV,KAAM,KAAK,KACX,SAAU,KAAK,SACf,YAAa,KAAK,WACpB,CACF,CACF,CAOO,SAAS,iBAAiB,KAAkC,CACjE,OAAO,IAAI,WAAW,IAAI,CAC5B,CAFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/domain/repository.ts"],"sourcesContent":["/**\n * Repository domain entity\n */\n\nexport interface RepositoryData {\n  org: string;\n  repo: string;\n  branches?: string[];\n  initCommand?: string;\n}\n\n/**\n * Represents a Git repository\n */\nexport class Repository {\n  public readonly org: string;\n  public readonly repo: string;\n  public readonly branches: string[];\n  public readonly initCommand: string;\n\n  constructor({ org, repo, branches = [], initCommand = '' }: RepositoryData) {\n    this.org = org;\n    this.repo = repo;\n    this.branches = branches;\n    this.initCommand = initCommand;\n  }\n\n  /**\n   * Gets the unique identifier for this repository\n   * @returns Format: org/repo\n   */\n  getId(): string {\n    return `${this.org}/${this.repo}`;\n  }\n\n  /**\n   * Gets the repository path within the workdir\n   * @param workdir - The work directory root\n   * @returns Path to the repository\n   */\n  getPath(workdir: string): string {\n    return `${workdir}/${this.org}/${this.repo}`;\n  }\n\n  /**\n   * Gets the main repository path (not a worktree)\n   * @param workdir - The work directory root\n   * @returns Path to the repository directory\n   */\n  getRepositoryPath(workdir: string): string {\n    return `${this.getPath(workdir)}/repository`;\n  }\n\n  /**\n   * Checks if the repository has any branches\n   * @returns True if there are branches\n   */\n  hasBranches(): boolean {\n    return this.branches.length > 0;\n  }\n\n  /**\n   * Checks if a specific branch exists\n   * @param branchName - Branch name to check\n   * @returns True if the branch exists\n   */\n  hasBranch(branchName: string): boolean {\n    return this.branches.includes(branchName);\n  }\n\n  toJSON(): RepositoryData {\n    return {\n      org: this.org,\n      repo: this.repo,\n      branches: this.branches,\n      initCommand: this.initCommand,\n    };\n  }\n}\n\n/**\n * Creates a repository instance from raw data\n * @param data - Raw repository data\n * @returns Repository instance\n */\nexport function createRepository(data: RepositoryData): Repository {\n  return new Repository(data);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/services/auth-service.ts":{"lineLengths":[908,0,3990],"data":{"version":3,"mappings":"kHAkBO,MAAM,WAAoC,CAC/C,YACmB,YACA,cACjB,CAFiB,6BACA,gCAChB,CAtBL,MAkBiD,4BAa/C,MAAM,MAAM,IAAsB,IAAqB,SAAuC,CAC5F,MAAM,OAAS,KAAK,cAAgB,KAAK,cAAc,cAAc,GAAG,EAAI,MAC5E,KAAK,YAAY,MAAM,IAAK,IAAK,SAAU,CAAE,MAAO,CAAC,EACrD,MAAO,CAAE,cAAe,IAAK,CAC/B,CAQA,MAAM,OAAO,IAAsB,IAA0C,CAC3E,MAAM,OAAS,KAAK,cAAgB,KAAK,cAAc,cAAc,GAAG,EAAI,MAC5E,KAAK,YAAY,OAAO,IAAK,IAAK,CAAE,MAAO,CAAC,EAC5C,MAAO,CAAE,cAAe,KAAM,CAChC,CAOA,MAAM,UAAU,IAA2C,CACzD,MAAM,cAAgB,KAAK,YAAY,gBAAgB,GAAG,EAC1D,MAAO,CAAE,aAAc,CACzB,CACF,CAQO,SAAS,kBACd,YACA,cACa,CACb,OAAO,IAAI,YAAY,YAAa,aAAa,CACnD,CALgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/services/auth-service.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'node:http';\nimport type { AuthManager, CookieManager } from '../types/auth.js';\nimport type { IAuthService } from '../types/services.js';\n\n/**\n * Service for authentication business logic\n * \n * Note: Most auth logic is already well-encapsulated in core/auth.ts.\n * This service provides a thin wrapper for consistency with other services.\n */\n\nexport interface AuthResult {\n  authenticated: boolean;\n}\n\n/**\n * Service for authentication operations\n */\nexport class AuthService implements IAuthService {\n  constructor(\n    private readonly authManager: AuthManager,\n    private readonly cookieManager?: CookieManager\n  ) {}\n\n  /**\n   * Authenticates a user\n   * @param req - HTTP request\n   * @param res - HTTP response\n   * @param password - Password to validate\n   * @returns Authentication result\n   */\n  async login(req: IncomingMessage, res: ServerResponse, password: string): Promise<AuthResult> {\n    const secure = this.cookieManager ? this.cookieManager.resolveSecure(req) : false;\n    this.authManager.login(req, res, password, { secure });\n    return { authenticated: true };\n  }\n\n  /**\n   * Logs out a user\n   * @param req - HTTP request\n   * @param res - HTTP response\n   * @returns Authentication result\n   */\n  async logout(req: IncomingMessage, res: ServerResponse): Promise<AuthResult> {\n    const secure = this.cookieManager ? this.cookieManager.resolveSecure(req) : false;\n    this.authManager.logout(req, res, { secure });\n    return { authenticated: false };\n  }\n\n  /**\n   * Checks authentication status\n   * @param req - HTTP request\n   * @returns Authentication status\n   */\n  async getStatus(req: IncomingMessage): Promise<AuthResult> {\n    const authenticated = this.authManager.isAuthenticated(req);\n    return { authenticated };\n  }\n}\n\n/**\n * Creates an auth service instance\n * @param authManager - Auth manager instance\n * @param cookieManager - Cookie manager instance\n * @returns AuthService instance\n */\nexport function createAuthService(\n  authManager: AuthManager,\n  cookieManager?: CookieManager\n): AuthService {\n  return new AuthService(authManager, cookieManager);\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/validation/request-validator.ts":{"lineLengths":[4043,0,13818],"data":{"version":3,"mappings":"kHACA,OAAS,oBAAuB,oCAChC,OAAS,wBAA2B,qBAKpC,SAAS,gBAAgB,MAAwB,CAC/C,OAAO,OAAO,QAAU,SAAW,MAAM,KAAK,EAAI,EACpD,CAFS,0CAgBF,SAAS,iBACd,KACA,eACmB,CACnB,GAAI,CAAC,MAAQ,OAAO,OAAS,SAAU,CACrC,MAAM,IAAI,gBAAgB,yBAAyB,CACrD,CAEA,MAAM,OAAiC,CAAC,EACxC,MAAM,cAA0B,CAAC,EAEjC,UAAW,SAAS,eAAgB,CAClC,MAAM,MAAQ,gBAAiB,KAAiC,KAAK,CAAC,EACtE,GAAI,CAAC,MAAO,CACV,cAAc,KAAK,KAAK,CAC1B,CACA,OAAO,KAAK,EAAI,KAClB,CAEA,GAAI,cAAc,OAAS,EAAG,CAC5B,MAAM,UAAY,cAAc,KAAK,IAAI,EACzC,MAAM,IAAI,gBAAgB,8BAA8B,SAAS,EAAE,CACrE,CAEA,OAAO,MACT,CAzBgB,4CAiCT,SAAS,iBACd,KACA,cACG,CACH,GAAI,CAAC,MAAQ,OAAO,OAAS,SAAU,CACrC,MAAO,CAAE,GAAG,aAAc,CAC5B,CAEA,MAAM,OAAiC,CAAC,EACxC,SAAW,CAAC,MAAO,YAAY,IAAK,OAAO,QAAQ,aAAa,EAAG,CACjE,MAAM,MAAQ,gBAAiB,KAAiC,KAAK,CAAC,EACtE,OAAO,KAAK,EAAI,OAAS,YAC3B,CAEA,OAAO,MACT,CAfgB,4CAuBT,SAAS,gBAAgB,MAAgB,aAAwB,MAAgB,CACtF,GAAI,OAAO,QAAU,UAAW,CAC9B,OAAO,KACT,CACA,OAAO,YACT,CALgB,0CAcT,SAAS,wBACd,MACA,aAAuB,EACvB,IAAc,EACN,CACR,MAAM,OAAS,OAAO,SAAS,OAAO,KAAK,EAAG,EAAE,EAChD,GAAI,OAAO,UAAU,MAAM,GAAK,QAAU,IAAK,CAC7C,OAAO,MACT,CACA,OAAO,YACT,CAVgB,0DAmBT,SAAS,oBACd,IACA,eACmB,CACnB,GAAI,CAAC,KAAO,CAAC,IAAI,aAAc,CAC7B,MAAM,IAAI,gBAAgB,aAAa,CACzC,CAEA,MAAM,OAAiC,CAAC,EACxC,MAAM,cAA0B,CAAC,EAEjC,UAAW,SAAS,eAAgB,CAClC,MAAM,MAAQ,gBAAgB,IAAI,aAAa,IAAI,KAAK,CAAC,EACzD,GAAI,CAAC,MAAO,CACV,cAAc,KAAK,KAAK,CAC1B,CACA,OAAO,KAAK,EAAI,KAClB,CAEA,GAAI,cAAc,OAAS,EAAG,CAC5B,MAAM,UAAY,cAAc,KAAK,IAAI,EACzC,MAAM,IAAI,gBAAgB,wCAAwC,SAAS,EAAE,CAC/E,CAEA,OAAO,MACT,CAzBgB,kDAiCT,SAAS,4BACd,IACA,cACG,CACH,GAAI,CAAC,KAAO,CAAC,IAAI,aAAc,CAC7B,MAAO,CAAE,GAAG,aAAc,CAC5B,CAEA,MAAM,OAAiC,CAAC,EACxC,SAAW,CAAC,MAAO,YAAY,IAAK,OAAO,QAAQ,aAAa,EAAG,CACjE,MAAM,MAAQ,gBAAgB,IAAI,aAAa,IAAI,KAAK,CAAC,EACzD,OAAO,KAAK,EAAI,OAAS,YAC3B,CAEA,OAAO,MACT,CAfgB,kEAuBT,SAAS,gBAAgB,MAAgB,UAAoB,QAAiB,CACnF,MAAM,WAAa,gBAAgB,KAAK,EACxC,GAAI,CAAC,WAAY,CACf,MAAM,IAAI,gBAAgB,GAAG,SAAS,kCAAkC,CAC1E,CACA,OAAO,UACT,CANgB,0CAcT,SAAS,6BAA6B,KAA8C,CACzF,OAAO,iBAAiB,KAAM,CAAC,MAAO,MAAM,CAAU,CACxD,CAFgB,oEAUT,SAAS,2BAA2B,KAA8D,CACvG,OAAO,iBAAiB,KAAM,CAAC,MAAO,OAAQ,QAAQ,CAAU,CAClE,CAFgB,gEAUT,SAAS,wBAAwB,aAA8D,CACpG,MAAM,IAAM,gBAAgB,aAAa,IAAI,KAAK,CAAC,EACnD,MAAM,KAAO,gBAAgB,aAAa,IAAI,MAAM,CAAC,EAErD,GAAI,CAAC,KAAO,CAAC,KAAM,CACjB,MAAM,IAAI,gBAAgB,4CAA4C,CACxE,CAEA,MAAO,CAAE,IAAK,IAAK,CACrB,CATgB,0DAkBT,SAAS,sBACd,aACA,QAAyC,CAAC,EACK,CAC/C,MAAM,IAAM,gBAAgB,aAAa,IAAI,KAAK,CAAC,EACnD,MAAM,KAAO,gBAAgB,aAAa,IAAI,MAAM,CAAC,EACrD,MAAM,YAAc,aAAa,IAAI,QAAQ,GAAK,GAElD,MAAM,OAAS,QAAQ,kBAAoB,MACvC,oBAAoB,WAAW,EAC/B,gBAAgB,WAAW,EAE/B,GAAI,CAAC,KAAO,CAAC,MAAQ,CAAC,OAAQ,CAC5B,MAAM,IAAI,gBAAgB,oCAAoC,CAChE,CAEA,MAAO,CAAE,IAAK,KAAM,MAAO,CAC7B,CAjBgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/validation/request-validator.ts"],"sourcesContent":["import type { URL } from 'node:url';\nimport { ValidationError } from '../infrastructure/errors/index.js';\nimport { normalizeBranchName } from '../domain/index.js';\n\n/**\n * Normalizes a string value by trimming whitespace\n */\nfunction normalizeString(value: unknown): string {\n  return typeof value === 'string' ? value.trim() : '';\n}\n\n// Type helper for required fields (currently unused but kept for future use)\n// type RequiredFields<T extends Record<string, unknown>> = {\n//   [K in keyof T]: string;\n// };\n\n/**\n * Validates that required fields are present and non-empty\n * @param data - The data object to validate\n * @param requiredFields - Array of field names that must be present\n * @returns Object with normalized field values\n * @throws {ValidationError} If any required field is missing or empty\n */\nexport function validateRequired<T extends string>(\n  data: unknown,\n  requiredFields: readonly T[]\n): Record<T, string> {\n  if (!data || typeof data !== 'object') {\n    throw new ValidationError('Invalid request payload');\n  }\n\n  const result: Record<string, string> = {};\n  const missingFields: string[] = [];\n\n  for (const field of requiredFields) {\n    const value = normalizeString((data as Record<string, unknown>)[field]);\n    if (!value) {\n      missingFields.push(field);\n    }\n    result[field] = value;\n  }\n\n  if (missingFields.length > 0) {\n    const fieldList = missingFields.join(', ');\n    throw new ValidationError(`Missing required field(s): ${fieldList}`);\n  }\n\n  return result as Record<T, string>;\n}\n\n/**\n * Validates and extracts optional fields with default values\n * @param data - The data object to validate\n * @param fieldDefaults - Object mapping field names to default values\n * @returns Object with field values or defaults\n */\nexport function validateOptional<T extends Record<string, string>>(\n  data: unknown,\n  fieldDefaults: T\n): T {\n  if (!data || typeof data !== 'object') {\n    return { ...fieldDefaults };\n  }\n\n  const result: Record<string, string> = {};\n  for (const [field, defaultValue] of Object.entries(fieldDefaults)) {\n    const value = normalizeString((data as Record<string, unknown>)[field]);\n    result[field] = value || defaultValue;\n  }\n\n  return result as T;\n}\n\n/**\n * Validates a boolean field\n * @param value - The value to validate\n * @param defaultValue - Default value if validation fails\n * @returns Boolean value\n */\nexport function validateBoolean(value: unknown, defaultValue: boolean = false): boolean {\n  if (typeof value === 'boolean') {\n    return value;\n  }\n  return defaultValue;\n}\n\n/**\n * Validates a positive integer\n * @param value - The value to validate\n * @param defaultValue - Default value if validation fails\n * @param min - Minimum allowed value (inclusive)\n * @returns Integer value\n */\nexport function validatePositiveInteger(\n  value: unknown,\n  defaultValue: number = 1,\n  min: number = 1\n): number {\n  const parsed = Number.parseInt(String(value), 10);\n  if (Number.isInteger(parsed) && parsed >= min) {\n    return parsed;\n  }\n  return defaultValue;\n}\n\n/**\n * Validates query parameters from URL\n * @param url - The URL object\n * @param requiredParams - Array of required parameter names\n * @returns Object with parameter values\n * @throws {ValidationError} If any required parameter is missing\n */\nexport function validateQueryParams<T extends string>(\n  url: URL,\n  requiredParams: readonly T[]\n): Record<T, string> {\n  if (!url || !url.searchParams) {\n    throw new ValidationError('Invalid URL');\n  }\n\n  const result: Record<string, string> = {};\n  const missingParams: string[] = [];\n\n  for (const param of requiredParams) {\n    const value = normalizeString(url.searchParams.get(param));\n    if (!value) {\n      missingParams.push(param);\n    }\n    result[param] = value;\n  }\n\n  if (missingParams.length > 0) {\n    const paramList = missingParams.join(', ');\n    throw new ValidationError(`Missing required query parameter(s): ${paramList}`);\n  }\n\n  return result as Record<T, string>;\n}\n\n/**\n * Validates optional query parameters with defaults\n * @param url - The URL object\n * @param paramDefaults - Object mapping parameter names to default values\n * @returns Object with parameter values or defaults\n */\nexport function validateOptionalQueryParams<T extends Record<string, string>>(\n  url: URL,\n  paramDefaults: T\n): T {\n  if (!url || !url.searchParams) {\n    return { ...paramDefaults };\n  }\n\n  const result: Record<string, string> = {};\n  for (const [param, defaultValue] of Object.entries(paramDefaults)) {\n    const value = normalizeString(url.searchParams.get(param));\n    result[param] = value || defaultValue;\n  }\n\n  return result as T;\n}\n\n/**\n * Validates that a string is non-empty\n * @param value - The value to validate\n * @param fieldName - Name of the field for error messages\n * @throws {ValidationError} If the value is empty\n */\nexport function requireNonEmpty(value: unknown, fieldName: string = 'Field'): string {\n  const normalized = normalizeString(value);\n  if (!normalized) {\n    throw new ValidationError(`${fieldName} is required and cannot be empty`);\n  }\n  return normalized;\n}\n\n/**\n * Validates repository identifiers (org, repo)\n * @param data - Data object containing org and repo\n * @returns Validated {org, repo}\n * @throws {ValidationError} If org or repo is invalid\n */\nexport function validateRepositoryIdentifier(data: unknown): { org: string; repo: string } {\n  return validateRequired(data, ['org', 'repo'] as const);\n}\n\n/**\n * Validates worktree identifiers (org, repo, branch)\n * @param data - Data object containing org, repo, and branch\n * @returns Validated {org, repo, branch}\n * @throws {ValidationError} If any identifier is invalid\n */\nexport function validateWorktreeIdentifier(data: unknown): { org: string; repo: string; branch: string } {\n  return validateRequired(data, ['org', 'repo', 'branch'] as const);\n}\n\n/**\n * Extracts and validates repository parameters from URL search params\n * @param searchParams - URL search params\n * @returns Validated {org, repo}\n * @throws {ValidationError} If org or repo is missing\n */\nexport function extractRepositoryParams(searchParams: URLSearchParams): { org: string; repo: string } {\n  const org = normalizeString(searchParams.get('org'));\n  const repo = normalizeString(searchParams.get('repo'));\n  \n  if (!org || !repo) {\n    throw new ValidationError('org and repo query parameters are required');\n  }\n  \n  return { org, repo };\n}\n\n/**\n * Extracts and validates worktree parameters from URL search params\n * @param searchParams - URL search params\n * @param options - Options for normalization\n * @returns Validated {org, repo, branch}\n * @throws {ValidationError} If any parameter is missing or invalid\n */\nexport function extractWorktreeParams(\n  searchParams: URLSearchParams,\n  options: { normalizeBranch?: boolean } = {}\n): { org: string; repo: string; branch: string } {\n  const org = normalizeString(searchParams.get('org'));\n  const repo = normalizeString(searchParams.get('repo'));\n  const branchParam = searchParams.get('branch') || '';\n  \n  const branch = options.normalizeBranch !== false\n    ? normalizeBranchName(branchParam)\n    : normalizeString(branchParam);\n  \n  if (!org || !repo || !branch) {\n    throw new ValidationError('org, repo, and branch are required');\n  }\n  \n  return { org, repo, branch };\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/utils/repository-cache.ts":{"lineLengths":[893,0,2442],"data":{"version":3,"mappings":"kHAAA,OAAS,yBAA4B,2CACrC,OAAS,oBAAuB,uBAQhC,MAAM,oBAAoC,CACxC,qBACA,eACF,EAEA,IAAI,mBAAmC,CAAE,GAAG,mBAAoB,EAKzD,SAAS,kCAAkC,UAAyC,CACzF,GAAI,CAAC,UAAW,CACd,mBAAqB,CAAE,GAAG,mBAAoB,EAC9C,MACF,CACA,mBAAqB,CAAE,GAAG,mBAAoB,GAAG,SAAU,CAC7D,CANgB,8EAahB,eAAsB,uBAAuB,QAA2C,CACtF,MAAM,KAAO,MAAM,mBAAmB,qBAAqB,OAAO,EAClE,mBAAmB,gBAAgB,IAAI,EACvC,OAAO,IACT,CAJsB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/utils/repository-cache.ts"],"sourcesContent":["import { discoverRepositories } from '../repositories/repository-repository.js';\nimport { emitReposUpdate } from '../core/event-bus.js';\nimport type { RepositoriesMap } from '../repositories/repository-repository.js';\n\ninterface Dependencies {\n  discoverRepositories: typeof discoverRepositories;\n  emitReposUpdate: typeof emitReposUpdate;\n}\n\nconst defaultDependencies: Dependencies = {\n  discoverRepositories,\n  emitReposUpdate,\n};\n\nlet activeDependencies: Dependencies = { ...defaultDependencies };\n\n/**\n * @internal Utility for tests to override repository discovery dependencies\n */\nexport function __setRepositoryCacheTestOverrides(overrides?: Partial<Dependencies>): void {\n  if (!overrides) {\n    activeDependencies = { ...defaultDependencies };\n    return;\n  }\n  activeDependencies = { ...activeDependencies, ...overrides };\n}\n\n/**\n * Refreshes the repository cache by discovering repositories and emitting an update event\n * @param workdir - Work directory root\n * @returns Updated repository data\n */\nexport async function refreshRepositoryCache(workdir: string): Promise<RepositoriesMap> {\n  const data = await activeDependencies.discoverRepositories(workdir);\n  activeDependencies.emitReposUpdate(data);\n  return data;\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/infrastructure/logging/logger.ts":{"lineLengths":[950,0,3258],"data":{"version":3,"mappings":"kHAeO,SAAS,aAAa,eAA0C,CACrE,MAAO,CACL,KAAM,WAAI,OAA0B,CAClC,GAAI,gBAAkB,OAAO,eAAe,OAAS,WAAY,CAC/D,eAAe,KAAK,GAAG,IAAI,CAC7B,KAAO,CACL,QAAQ,KAAK,GAAG,IAAI,CACtB,CACF,EANM,QAON,MAAO,WAAI,OAA0B,CACnC,GAAI,gBAAkB,OAAO,eAAe,QAAU,WAAY,CAChE,eAAe,MAAM,GAAG,IAAI,CAC9B,KAAO,CACL,QAAQ,MAAM,GAAG,IAAI,CACvB,CACF,EANO,SAOP,KAAM,WAAI,OAA0B,CAClC,GAAI,gBAAkB,OAAO,eAAe,OAAS,WAAY,CAC/D,eAAe,KAAK,GAAG,IAAI,CAC7B,KAAO,CACL,QAAQ,KAAK,GAAG,IAAI,CACtB,CACF,EANM,QAON,MAAO,WAAI,OAA0B,CACnC,GAAI,gBAAkB,OAAO,eAAe,QAAU,WAAY,CAChE,eAAe,MAAM,GAAG,IAAI,CAC9B,KAAO,CACL,QAAQ,MAAM,GAAG,IAAI,CACvB,CACF,EANO,QAOT,CACF,CA/BgB,oCAqCT,SAAS,qBAA8B,CAC5C,OAAO,aAAa,CACtB,CAFgB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/infrastructure/logging/logger.ts"],"sourcesContent":["/**\n * Logger interface for dependency injection\n */\nexport interface Logger {\n  info(...args: unknown[]): void;\n  error(...args: unknown[]): void;\n  warn(...args: unknown[]): void;\n  debug(...args: unknown[]): void;\n}\n\n/**\n * Creates a logger instance that wraps the provided logger or falls back to console\n * @param providedLogger - Optional logger implementation\n * @returns Logger instance\n */\nexport function createLogger(providedLogger?: Partial<Logger>): Logger {\n  return {\n    info: (...args: unknown[]): void => {\n      if (providedLogger && typeof providedLogger.info === 'function') {\n        providedLogger.info(...args);\n      } else {\n        console.info(...args);\n      }\n    },\n    error: (...args: unknown[]): void => {\n      if (providedLogger && typeof providedLogger.error === 'function') {\n        providedLogger.error(...args);\n      } else {\n        console.error(...args);\n      }\n    },\n    warn: (...args: unknown[]): void => {\n      if (providedLogger && typeof providedLogger.warn === 'function') {\n        providedLogger.warn(...args);\n      } else {\n        console.warn(...args);\n      }\n    },\n    debug: (...args: unknown[]): void => {\n      if (providedLogger && typeof providedLogger.debug === 'function') {\n        providedLogger.debug(...args);\n      } else {\n        console.debug(...args);\n      }\n    },\n  };\n}\n\n/**\n * Creates a console logger (default implementation)\n * @returns Logger instance using console\n */\nexport function createConsoleLogger(): Logger {\n  return createLogger();\n}\n\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/src/core/repositories.ts":{"lineLengths":[1925,0,5254],"data":{"version":3,"mappings":"kHAAA,OAAO,OAAQ,mBACf,OAAO,SAAU,YACjB,OAAS,cAAiB,YAC1B,OAAS,aAAgB,qBAEzB,OAAS,iBAAkB,kBAAqB,WAChD,OAAS,iCAAoC,yBAC7C,OAAS,kCAAqC,YAE9C,MAAM,cAAgB,UAAU,QAAQ,EACxC,MAAM,eAAiB,KAAO,KAE9B,SAAS,UAAU,MAAwB,CACzC,OAAO,OAAO,QAAU,SAAW,MAAM,KAAK,EAAI,EACpD,CAFS,8BAIT,eAAsB,iBAAiB,QAAiB,SAAkB,UAAkC,CAC1G,MAAM,IAAM,UAAU,QAAQ,EAC9B,MAAM,KAAO,UAAU,SAAS,EAEhC,GAAI,CAAC,KAAO,CAAC,KAAM,CACjB,MAAM,IAAI,MAAM,2BAA2B,CAC7C,CAEA,KAAM,CAAE,SAAU,cAAe,EAAI,MAAM,iBAAiB,QAAS,IAAK,IAAI,EAC9E,MAAM,UAAY,MAAM,cAAc,cAAc,EACpD,MAAM,SAAW,MAAM,KACrB,IAAI,IACF,UACG,IAAK,OAAU,MAAM,MAAM,EAC3B,OAAQ,QAA6B,OAAO,SAAW,UAAY,OAAO,OAAS,CAAC,CACzF,CACF,EAEA,MAAM,6BAA6B,IAAK,IAAI,EAC5C,MAAM,8BAA8B,IAAK,KAAM,QAAQ,EAEvD,MAAM,mBAAqB,KAAK,QAAQ,cAAc,EACtD,UAAW,SAAS,UAAW,CAC7B,GAAI,CAAC,OAAO,KAAM,CAChB,QACF,CACA,MAAM,WAAa,KAAK,QAAQ,MAAM,IAAI,EAC1C,GAAI,aAAe,mBAAoB,CACrC,QACF,CACA,GAAI,CAEF,MAAM,cACJ,MACA,CAAC,KAAM,eAAgB,WAAY,SAAU,UAAW,UAAU,EAClE,CAAE,UAAW,cAAe,CAC9B,CACF,OAAS,MAAgB,CACvB,MAAM,IAAM,MACZ,MAAM,OAAS,KAAO,IAAI,OAAS,IAAI,OAAO,SAAS,EAAI,GAC3D,MAAM,QAAU,QAAU,IAAI,SAAW,oBACzC,MAAM,IAAI,MAAM,6BAA6B,UAAU,KAAK,QAAQ,KAAK,CAAC,EAAE,CAC9E,CACF,CAEA,MAAM,GAAG,GAAG,SAAU,CAAE,UAAW,KAAM,MAAO,IAAK,CAAC,EAEtD,MAAM,QAAU,KAAK,QAAQ,QAAQ,EACrC,GAAI,CACF,MAAM,UAAY,MAAM,GAAG,QAAQ,OAAO,EAC1C,GAAI,UAAU,SAAW,EAAG,CAC1B,MAAM,GAAG,MAAM,OAAO,CACxB,CACF,MAAQ,CAER,CACF,CAxDsB","names":[],"ignoreList":[],"sources":["file:///root/Development/vultuk/agentrix/repository/src/core/repositories.ts"],"sourcesContent":["import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport { promisify } from 'node:util';\nimport { execFile } from 'node:child_process';\n\nimport { ensureRepository, listWorktrees } from './git.js';\nimport { disposeSessionsForRepository } from './terminal-sessions.js';\nimport { tmuxKillSessionsForRepository } from './tmux.js';\n\nconst execFileAsync = promisify(execFile);\nconst GIT_MAX_BUFFER = 1024 * 1024;\n\nfunction normalise(value: unknown): string {\n  return typeof value === 'string' ? value.trim() : '';\n}\n\nexport async function removeRepository(workdir: string, orgInput: string, repoInput: string): Promise<void> {\n  const org = normalise(orgInput);\n  const repo = normalise(repoInput);\n\n  if (!org || !repo) {\n    throw new Error('org and repo are required');\n  }\n\n  const { repoRoot, repositoryPath } = await ensureRepository(workdir, org, repo);\n  const worktrees = await listWorktrees(repositoryPath);\n  const branches = Array.from(\n    new Set(\n      worktrees\n        .map((entry) => entry.branch)\n        .filter((branch): branch is string => typeof branch === 'string' && branch.length > 0)\n    )\n  );\n\n  await disposeSessionsForRepository(org, repo);\n  await tmuxKillSessionsForRepository(org, repo, branches);\n\n  const repositoryRealPath = path.resolve(repositoryPath);\n  for (const entry of worktrees) {\n    if (!entry?.path) {\n      continue;\n    }\n    const targetPath = path.resolve(entry.path);\n    if (targetPath === repositoryRealPath) {\n      continue;\n    }\n    try {\n      // eslint-disable-next-line no-await-in-loop\n      await execFileAsync(\n        'git',\n        ['-C', repositoryPath, 'worktree', 'remove', '--force', targetPath],\n        { maxBuffer: GIT_MAX_BUFFER }\n      );\n    } catch (error: unknown) {\n      const err = error as { stderr?: Buffer | string; message?: string };\n      const stderr = err && err.stderr ? err.stderr.toString() : '';\n      const message = stderr || err.message || 'Unknown git error';\n      throw new Error(`Failed to remove worktree ${targetPath}: ${message.trim()}`);\n    }\n  }\n\n  await fs.rm(repoRoot, { recursive: true, force: true });\n\n  const orgPath = path.dirname(repoRoot);\n  try {\n    const remaining = await fs.readdir(orgPath);\n    if (remaining.length === 0) {\n      await fs.rmdir(orgPath);\n    }\n  } catch {\n    // ignore cleanup errors\n  }\n}\n"],"sourceRoot":""},"url":null},"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/index.js":{"lineLengths":[13,3,74,49,59,3,62,95,17,35,64,1,6,58,1,3,39,34,74,72,63,46,62,106,97,93,3,33,45,1,22,18,32,45,1,20,18,42,45,1,40,24,38,1,20,3,79,32,3,94,33],"data":{"version":3,"file":"index.js","sourceRoot":"","sources":["file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/src/index.ts"],"names":[],"mappings":";AAAA;;;;GAIG;;;AAKH,IAAI,YAAiB,CAAC;AACtB,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,EAAE;IAChC,YAAY,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC,eAAe,CAAC;CAC7D;KAAM;IACL,YAAY,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,YAAY,CAAC;CACvD;AAED;;;;;;;;;;;GAWG;AACH,SAAgB,KAAK,CAAC,IAAa,EAAE,IAAwB,EAAE,GAA8C;IAC3G,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;AAC3C,CAAC;AAFD,sBAEC;AAED,kBAAkB;AAClB,SAAgB,IAAI,CAAC,IAAa,EAAE,IAAwB,EAAE,GAA8C;IAC1G,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;AAC3C,CAAC;AAFD,oBAEC;AAED,kBAAkB;AAClB,SAAgB,cAAc,CAAC,IAAa,EAAE,IAAwB,EAAE,GAA8C;IACpH,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;AAC3C,CAAC;AAFD,wCAEC;AAED,SAAgB,IAAI,CAAC,OAAwB;IAC3C,OAAO,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACpC,CAAC;AAFD,oBAEC;AAED;;;GAGG;AACU,QAAA,MAAM,GAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC"},"url":null},"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/unixTerminal.js":{"lineLengths":[13,58,41,48,91,87,35,6,28,28,47,93,6,5,62,30,3,61,49,59,3,25,27,39,33,8,15,5,47,49,1,20,9,49,51,5,24,48,93,25,5,1,49,65,83,24,27,36,53,36,44,19,51,34,36,39,74,9,31,26,36,24,41,58,58,69,69,46,38,36,9,43,22,56,24,45,76,46,83,25,39,40,27,17,41,81,86,46,56,37,83,44,46,49,45,48,21,53,19,23,13,45,10,15,135,48,32,48,9,16,50,62,27,50,27,17,13,20,27,46,39,43,36,13,86,28,37,39,27,79,27,17,13,34,54,26,13,11,30,28,30,27,27,31,31,47,38,23,13,39,27,32,11,31,21,5,61,50,26,26,7,60,49,26,26,7,53,33,6,57,23,46,26,26,7,62,47,26,26,7,7,14,7,40,57,24,35,19,35,34,14,9,55,55,76,15,40,51,32,47,9,30,49,32,46,9,29,36,23,31,29,47,44,30,30,49,26,53,26,13,11,46,26,11,20,6,50,25,22,74,59,48,33,11,31,6,53,13,55,9,35,6,62,11,40,11,26,48,60,13,66,10,26,26,7,7,10,7,59,109,82,9,41,26,26,6,48,6,58,65,27,32,67,57,26,29,65,31,30,30,28,6,24,24,36,3,78,28,49,3,51,34,29,25,75,102,66,24,62,21,5,22,15,40],"data":{"version":3,"file":"unixTerminal.js","sourceRoot":"","sources":["file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/src/unixTerminal.ts"],"names":[],"mappings":"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"},"url":null},"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/terminal.js":{"lineLengths":[13,3,61,49,59,3,62,72,33,49,26,26,3,72,78,56,3,52,52,43,28,22,21,23,23,31,31,59,59,22,55,38,101,120,123,19,19,9,99,87,75,75,75,72,72,72,72,87,5,57,56,26,26,7,57,56,26,26,7,54,47,26,26,7,55,48,26,26,7,55,48,26,26,7,48,37,65,50,29,23,13,51,30,23,13,9,47,26,6,53,25,72,124,6,78,58,34,19,9,25,39,47,44,113,21,19,23,13,9,36,91,9,6,29,46,31,6,35,56,48,6,31,44,36,6,32,45,37,6,37,58,36,41,9,23,47,9,6,102,60,36,51,19,9,45,6,52,22,55,41,9,36,76,9,64,6,57,49,6,72,57,6,66,51,6,62,47,6,45,38,37,35,31,31,6,51,42,23,47,40,25,13,53,9,21,6,20,5,28,36],"data":{"version":3,"file":"terminal.js","sourceRoot":"","sources":["file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/src/terminal.ts"],"names":[],"mappings":"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"},"url":null},"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/eventEmitter2.js":{"lineLengths":[13,3,59,3,62,31,48,30,29,5,61,26,29,31,51,52,38,46,79,71,66,43,33,29,25,22,38,18,13,31,10,26,26,7,52,23,58,43,9,48,43,9,6,25,5,38,41],"data":{"version":3,"file":"eventEmitter2.js","sourceRoot":"","sources":["file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/src/eventEmitter2.ts"],"names":[],"mappings":";AAAA;;GAEG;;;AAYH;IAAA;QACU,eAAU,GAAmB,EAAE,CAAC;IAgC1C,CAAC;IA7BC,sBAAW,gCAAK;aAAhB;YAAA,iBAkBC;YAjBC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,GAAG,UAAC,QAAuB;oBACpC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC/B,IAAM,UAAU,GAAG;wBACjB,OAAO,EAAE;4BACP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gCAC/C,IAAI,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;oCACnC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oCAC7B,OAAO;iCACR;6BACF;wBACH,CAAC;qBACF,CAAC;oBACF,OAAO,UAAU,CAAC;gBACpB,CAAC,CAAC;aACH;YACD,OAAO,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;;;OAAA;IAEM,4BAAI,GAAX,UAAY,IAAO;QACjB,IAAM,KAAK,GAAmB,EAAE,CAAC;QACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;SAChC;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SAChC;IACH,CAAC;IACH,oBAAC;AAAD,CAAC,AAjCD,IAiCC;AAjCY,sCAAa"},"url":null},"file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/lib/utils.js":{"lineLengths":[13,3,49,59,3,62,24,25,21,51,40,5,133,18,1,24,33],"data":{"version":3,"file":"utils.js","sourceRoot":"","sources":["file:///root/Development/vultuk/agentrix/repository/node_modules/.bun/node-pty@1.0.0/node_modules/node-pty/src/utils.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;AAEH,SAAgB,MAAM,CAAC,MAAW;IAAE,iBAAiB;SAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;QAAjB,gCAAiB;;IACnD,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG,IAAI,OAAA,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,EAAzB,CAAyB,CAAC,EAA7D,CAA6D,CAAC,CAAC;IACzF,OAAO,MAAM,CAAC;AAChB,CAAC;AAHD,wBAGC"},"url":null}}}